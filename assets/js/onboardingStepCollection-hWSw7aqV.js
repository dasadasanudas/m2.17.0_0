const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/TourFeature-BUxq63fh.js","assets/js/icon-alert-Cei3Tz55.js","assets/js/localStorage-BThj8CCp.js","assets/js/preload-helper-xKIU3iAw.js","assets/js/string-CbqVM-Zr.js","assets/js/icon-next-B4hjdiAA.js","assets/js/arrow-Be8MuPJi.js","assets/css/TourFeature-CeAerdK8.css","assets/js/Tour-ohrg_Pky.js","assets/js/MaskedOverlay-DrS5gAHk.js","assets/css/MaskedOverlay-DyX75djk.css","assets/js/VueBase-DhIJfHAY.js","assets/js/index-xreAsusa.js","assets/js/migrateLegacyUserMessageHandler-aPkGeFs_.js","assets/js/main-Bw6ngw5x.js","assets/css/index-C0DDMXTO.css","assets/js/index-CJJH83pl.js","assets/js/portal-vue.esm-D8ZiK_2v.js","assets/js/itemModelMixin-C-MQn-VF.js","assets/js/reactiveCustomization-D0v-tpvX.js","assets/js/namesMixin-1rfnIeIW.js","assets/js/itemDataServiceMixins-CdQVI9mg.js","assets/js/icon-asana-Csd73e1k.js","assets/js/focusModeHelpers-CJvjcTIo.js","assets/js/PomodoroTimers-BWkB-14p.js","assets/js/SubscriptionSummary-Q5jMw6Hb.js","assets/js/constants-CALDQiUE.js","assets/js/authService-piMSfLVB.js","assets/js/loginHelpers-CQ1ZDpQp.js","assets/js/icon-confetti-Dz2LojDe.js","assets/js/siteBlockerGroups-BWyYGTCQ.js","assets/js/constants-DNx-NqfY.js","assets/js/compareObjects-BF7sSNEf.js","assets/css/Tour-DrBg9rrj.css","assets/js/TourIntro-llVYJV7M.js","assets/js/SmoothReflow-DOlTFzdt.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/css/TourIntro-CygIXtWA.css","assets/js/TourEnd-DcW15HiE.js","assets/css/TourEnd-BuogRGIk.css","assets/js/TrialSignUp-0Z4yzdob.js","assets/js/SubStepTipsContainer-BrQRhlME.js","assets/js/Popup-G2WJCjf_.js","assets/js/BaseIcon-DKpoUDYB.js","assets/js/icon-weather-reset-CoyptBb8.js","assets/js/icon-settings-Bycjf8-G.js","assets/js/icon-back-arrow-CiRQJ6G-.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/icon-trash-BQ1O-AfY.js","assets/js/icon-close-BUGl_M7j.js","assets/js/icon-cog-BFr_Pva7.js","assets/js/icon-skip-BOkC5L0N.js","assets/js/icon-down-BiHbKN-t.js","assets/js/icon-edit-CixeXNYx.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/js/icon-error-state-BKQhfBCj.js","assets/js/icon-heart-v5O7C6eS.js","assets/js/icon-hide-NFfBhfBx.js","assets/js/icon-key-BPNRipb3.js","assets/js/icon-photo-BrwqV1T0.js","assets/js/icon-pin-BHeOuzvO.js","assets/js/icon-plus-D4YOesIc.js","assets/js/icon-profile-B_XWyuTb.js","assets/js/icon-x-qUCmf2CW.js","assets/js/icon-skip-intro-BUi8b3Ak.js","assets/js/icon-tooltip-CN09iXOB.js","assets/js/icon-visible-on-CM3kpcFN.js","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/js/tasks-completed-Dg2z75km.js","assets/js/add-COIuonao.js","assets/js/google-DKPAcOmk.js","assets/js/arrow-up-1QPpu78M.js","assets/js/square-check-DwLT60gj.js","assets/js/clocks-DjzskNOU.js","assets/js/close-Bj_A2br_.js","assets/js/search-DCqlmJx6.js","assets/js/folder-CwWTWsnJ.js","assets/js/switch-EuBTQVVE.js","assets/js/focus-mode-09pIyYAW.js","assets/js/storage-YYEO5TB5.js","assets/js/sparks-CAw9b6ob.js","assets/js/secure-B8YP-AML.js","assets/js/icon-soundwave-CtfxieWt.js","assets/js/icon-percent-schedule-CA5EI9b7.js","assets/js/icon-trello-DeIn-36G.js","assets/js/icon-clean-rFsPxTtp.js","assets/js/icon-more-lists-Cl9oRGK2.js","assets/js/icon-more-fonts-CcfOY0t4.js","assets/js/icon-focus-stats-keERwXFt.js","assets/js/icon-top-of-mind-B6EhbCcK.js","assets/js/icon-flow-5QqmGIWX.js","assets/js/icon-integrations-D9o58ob4.js","assets/js/icon-weather-extra-ufLpT_SX.js","assets/js/icon-spiral-gh4hwZDD.js","assets/js/icon-time-sensitive-CP2L3maw.js","assets/js/icon-hourly-CdMmiQZT.js","assets/js/icon-infinity-D4yMRoAd.js","assets/js/icon-personalize-photos-D2M4lLlt.js","assets/js/icon-skip-2bGCAGKt.js","assets/js/icon-photo-match-C2EChNEK.js","assets/js/icon-random-375DbcwF.js","assets/js/icon-timezones-DGZoTtaT.js","assets/js/icon-simplify-BRUtLJYp.js","assets/js/icon-sync-DIH26Y9h.js","assets/css/BaseIcon-BlT7Qz-y.css","assets/js/BaseDropdownContent-CE_Bs11r.js","assets/js/index-CAmMGhGv.js","assets/css/BaseDropdownContent-BzU7S1Vc.css","assets/css/Popup-DtFWmS8y.css","assets/js/OnboardingNotificationIntroduction-BO5BYuV1.js","assets/css/OnboardingNotificationIntroduction-BHicMIbw.css","assets/js/OnboardingVideoModalIntroduction-DqE6grg4.js","assets/js/ModalBox-DcW5YG5Q.js","assets/css/ModalBox-D9MSho0k.css","assets/css/OnboardingVideoModalIntroduction-ps6O8mAv.css","assets/js/OnboardingVideoNotificationIntroduction-ChxlrQ9C.js","assets/css/OnboardingVideoNotificationIntroduction-ZQ5J0tD6.css","assets/js/AiChatUpsell-DeJkPRNX.js","assets/js/UpsellModal-rmb-Hrh5.js","assets/css/UpsellModal-Ci-kC6UL.css","assets/css/AiChatUpsell-B_r1mKwH.css","assets/js/AutofocusUpsell-DtHdcsNC.js","assets/js/BalanceModeUpsell-bZGi5IK1.js","assets/js/CountdownsUpsell-DFMrLZvt.js","assets/js/FocusModeUpsell-sH4xFGQt.js","assets/css/FocusModeUpsell-CXRD-gHr.css","assets/js/FocusModeUpsellExperimental-feOz2HgN.js","assets/js/globalKeyEventManager-2_REwTdI.js","assets/css/FocusModeUpsellExperimental-DsIA5myT.css","assets/js/MantrasUpsell-Dw8cfXVH.js","assets/css/MantrasUpsell-B_SY1GJM.css","assets/js/MetricsUpsell-DItuL1IF.js","assets/js/MultiTodoUpsell-B0AApprO.js","assets/js/NotesUpsell-WwYlBF1C.js","assets/js/PhotosUpsell-COYd2e2K.js","assets/js/PomodoroUpsell-XKXT2bmJ.js","assets/js/QuotesUpsell-DKdWUmi9.js","assets/css/QuotesUpsell-DL63UMAk.css","assets/js/SoundsUpsell-6JGYqn45.js","assets/css/SoundsUpsell-98AqnQ4G.css","assets/js/TabGroupsUpsell-CB3M38-x.js","assets/css/TabGroupsUpsell-B9Z90Daa.css","assets/js/TabStashUpsell-BBjimcW5.js","assets/js/ThemesUpsell-5Xm5Vgy2.js","assets/js/TodoIntegrationsUpsell-CD6vMLC5.js","assets/css/TodoIntegrationsUpsell-DtLmwqpQ.css","assets/js/WeatherUpsell-CGiCyYru.js","assets/js/WorldClocksUpsell-BkZ8lq0L.js","assets/js/SiteBlockerUpsell-BT4ylVlS.js","assets/js/streaks-OUKo-glr.js","assets/js/UpgradeModal-9PxoxnrS.js","assets/js/IframeHost-DGD1fImW.js","assets/js/IframeMessenger-CZMsBVeI.js","assets/css/IframeHost-D_Iw5mnF.css","assets/css/UpgradeModal-Dye_RB91.css","assets/js/OneTimeLogin-DKlhCGjB.js","assets/js/oneTimeLoginService-BaPSjQV5.js","assets/css/OneTimeLogin-Cgy4UW5s.css","assets/js/Login-CmPMHJ61.js","assets/css/Login-Bbjig4RF.css","assets/js/LoginName-BSrC9fsM.js","assets/js/loginStepMixin-D58fe4E7.js","assets/css/loginStepMixin-DaTZgsEz.css","assets/js/LoginInput-DixHaQyS.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/MobileBlur-B2s9dLKD.js","assets/css/LoginInput-D0k7HnSu.css","assets/js/LoginEmail-nIDWlto6.js","assets/js/LoginChoosePassword-CdwsWURV.js","assets/js/LoginPasswordInput-D7RhW7aC.js","assets/css/LoginPasswordInput-BhaeJAQu.css","assets/js/LoginEnterPassword-BMAY_BJK.js","assets/js/LoginResetPassword-CPg4M857.js","assets/js/LoginResetPasswordSent-CeY-mo1K.js","assets/css/LoginResetPasswordSent-6VMtbv0A.css","assets/js/LoginDataCollection-QLb3Ws9j.js","assets/css/LoginDataCollection-TJHws-w_.css","assets/js/siteBlockerSession-DLWrywXh.js","assets/js/focusModeViewState-DzdkaS0D.js","assets/js/ViewState-Wts6aMTb.js","assets/js/pomodoroCompleted-CChcDNoN.js","assets/js/customization-C9MvloB8.js","assets/js/TabStashOnboarding-qBD-xjS4.js","assets/css/TabStashOnboarding-CPXem6Cp.css","assets/js/SurveyIframeModal-B_aJFkKU.js","assets/css/SurveyIframeModal-Bjgwts-S.css","assets/js/ReleaseUpdateModal-DtUkZEhN.js","assets/css/ReleaseUpdateModal-BXKXzPtH.css","assets/js/SetupUnregisteredDashboard-qNSdQ0X8.js","assets/css/SetupUnregisteredDashboard-Cqk3L1vV.css","assets/js/OnboardingModalIntroduction-rDWk8R3D.js","assets/css/OnboardingModalIntroduction-DaV3DB_L.css","assets/js/FaviconPermission-B5SYMc7k.js","assets/css/FaviconPermission-B7p_0YQ7.css","assets/js/SafariAccount-Bu45cOgP.js","assets/css/SafariAccount-CZaFAGrJ.css","assets/js/PermissionRequest-C1kOO4tE.js","assets/css/PermissionRequest-CsY0lboS.css"])))=>i.map(i=>d[i]);
var e,t,o=Object.defineProperty,a=(e,t,a)=>((e,t,a)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a)(e,"symbol"!=typeof t?t+"":t,a);import"./VueBase-DhIJfHAY.js";import{i as n,b as s}from"./itemModelMixin-C-MQn-VF.js";import{d as i}from"./itemDataServiceMixins-CdQVI9mg.js";import{V as r,aj as c,r as l,A as d,b as p,ad as u,f as _,u as g,e as E,aH as T,M as S,aI as h,U as b,W as f,a6 as O,Z as y,aJ as R,aK as I,a2 as P}from"./icon-alert-Cei3Tz55.js";import{_ as v,c as w}from"./preload-helper-xKIU3iAw.js";import{s as C,e as D,f as A,u as k,G as L,H as M,g as N,J as U}from"./index-xreAsusa.js";import{_ as F}from"./icon-asana-Csd73e1k.js";import{i as V,f as x,e as B,g as j,d as Y}from"./focusModeHelpers-CJvjcTIo.js";import{a as G,c as H}from"./reactiveCustomization-D0v-tpvX.js";import W from"./SubscriptionSummary-Q5jMw6Hb.js";import{g as $,m as K}from"./localStorage-BThj8CCp.js";import{a as q,D as z}from"./constants-CALDQiUE.js";import{a as J}from"./authService-piMSfLVB.js";import{l as Z,c as Q,a as X}from"./loginHelpers-CQ1ZDpQp.js";import{_ as ee}from"./icon-confetti-Dz2LojDe.js";import{u as te}from"./siteBlockerGroups-BWyYGTCQ.js";const oe=new(r.extend({name:"OnboardingStepDataService",mixins:[i],unreactive:()=>({type:"onboardingSteps",path:"onboarding_steps",queryParams:{update:{update_mask:"*"}}})})),ae=r.extend({name:"OnboardingStepModel",mixins:[n],data:()=>({id:"",name:"",status:"",data:{}}),unreactive:()=>({props:["name","data","status"]})}),ne=new class{add(e={}){Object.entries(e).forEach((([e,t])=>{V[e]().then((e=>e.mockData(t)))}))}clear(e=[]){e.forEach((e=>{V[e]().then((e=>e.clearMockData()))}))}},se=()=>v((()=>import("./TourFeature-BUxq63fh.js")),__vite__mapDeps([0,1,2,3,4,5,6,7]));let ie=!1;const re={legacyId:"C6D78F5E-470F-4F12-A139-4A80FDF3EC13",name:"Plus Introduction",plusSubscriptionTimeGate:"2022-06-05T00:00:00.000Z",component:()=>v((()=>import("./Tour-ohrg_Pky.js")),__vite__mapDeps([8,9,1,2,3,4,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33])),onCreated:async()=>{ie="true"===localStorage.getItem("pomodoro-showing"),window.onbeforeunload=()=>{m.trigger("pomodoro:show",ie)},await x()},onDestroyed:()=>{m.trigger("pomodoro:show",ie)},customCss:` .top-row { padding-top: ${G.bookmarksVisible?10:46}px; `,hideOtherApps:!0,getPlanInfo:!0,shouldActivate:()=>{const e=ro.getStep("tour");return!e||"dismissed"===e.status},transitionName:"fade",alsoCompletesSteps:[C.FREE_INTRODUCTION],subSteps:[{name:"Welcome",progressBarText:"Welcome",component:()=>v((()=>import("./TourIntro-llVYJV7M.js")),__vite__mapDeps([34,19,11,1,2,3,4,12,13,14,15,16,17,35,36,37,5,38])),subStepProps:{subheading:"Welcome to Momentum Plus, your all-in-one command center to help you beat distractions and achieve your goals more consistently.",buttonText:"Take a tour!",cancelText:"Skip"}},function({mockListTitle:e="Asana Tasks",mockTodos:t=["Submit proposal","Schedule meeting","Update documentation"],mockProviderIcon:o=F,mockData:a={clocks:[],metrics:[{label:"Glasses of Water per Day",value:5},{label:"Meditations per Week",value:3},{label:"Blogs Written",value:13},{label:"Fitbit Steps",value:11840}],countdowns:[{utcDate:Date.now()+72576e5,hasHours:!1,name:"Fiji Trip"}]}}={}){return Object.values(a).forEach((e=>{e.forEach((e=>{e.pinned=!0,e.id=m.utils.uuidv4()}))})),{name:"Organization",progressBarText:"Organization",component:se,customCss:` .top-row { padding-top: ${G.bookmarksVisible?10:46}px; `,subStepProps:{heading:"Get Organized",subheading:"Keep all of your goals, habits, tasks, and notes in the center of your workflow to keep the important things in life top of mind. Be sure to integrate your favorite project management system and health apps.",arrow:"above-right",maskDefinitions:[{padding:[0,0,-10,-40],targetElements:".base-metric .metric-type, .base-metric .add-metric"},{padding:[50,2,50,50],targetElements:".mock-todo-app"}],elementReadyEvent:"baseMetric:updated mockTodo:mounted",elementReadyCheck:()=>{const e=e=>e.replace(/\s/g,"");return document.querySelector(".mock-todo")&&(l.windowDimensions.width<600||!document.querySelector(".metric-type .app-dash-icon"))&&Object.entries(a).every((([t,o])=>{const a=`.base-metric .metric-item.app-dash[data-type=${t}] .metric-label-name`,n=o.map((e=>e.name||e.label||e.title));return n.length===document.querySelectorAll(a).length&&(!n.length||((t,o)=>{const a=document.querySelectorAll(t);return a.length&&Array.from(a).every((t=>o.map(e).includes(e(t.textContent))))})(a,n))}))},showAppSelector:".base-metric, .mock-todo",alignCta:"start",onCreated:()=>{c({metricVisible:!0,countdownVisible:!0,multiClockVisible:!1,linksVisible:!1}),(e||t)&&m.once("mockTodo:created",(()=>{m.trigger("mockTodo:overrideContent",{mockListTitle:e,mockTodos:t,mockProviderIcon:o})})),m.trigger("mockTodo:mount"),m.widgetManager.loadWidget("mockTodo"),ne.add(a)},onDestroyed:()=>{c({metricVisible:null,countdownVisible:null,multiClockVisible:null,linksVisible:null}),m.trigger("mockTodo:destroy"),ne.clear(Object.keys(a))}}}}(),{name:"Focus Mode",progressBarText:"Focus Mode",component:se,subStepProps:{heading:"Eliminate distractions",subheading:"Concentrate on one task at a time with a toolset designed for focus.",arrow:"left-above",maskDefinitions:[{padding:[-5,5],targetElements:".focus-mode"}],showAppSelector:".focus-mode",onCreated(){c({focusModeVisible:!0}),m.widgetManager.addVueAppExemption(["focus-mode"],"modalContainer")},onDestroyed:()=>{c({focusModeVisible:null})}}},function({mockQuote:e="Build things you believe in and fall in love with the process",mockMantra:t="Action = Progress"}={}){return{name:"Motivation",progressBarText:"Motivation",component:se,subStepProps:{heading:"Get Motivated",subheading:"Center yourself with calming custom photos, quotes, and your favorite mantras.",arrow:"left-below",maskDefinitions:[{padding:[40],targetElements:".center-clock .default-clock, .greeting .message"},{padding:[15],targetElements:".quote .body-text"}],elementReadyEvent:"center:updated mantra:mounted quote:updated",elementReadyCheck:()=>{var e,o,a;return document.querySelector(".center-clock")&&!(null==(e=document.querySelector(".center-container"))?void 0:e.classList.contains("fade-enter-active"))&&(null==(o=document.querySelector(".greeting .content"))?void 0:o.innerText.includes(t))&&(null==(a=document.querySelector(".quote .body-text"))?void 0:a.getBoundingClientRect().height)>0&&!document.querySelector(".center-container .smooth-height-fade-enter-active")},showAppSelector:".clock, .greeting, .quote",onCreated:async()=>{m.trigger("pomodoro:show",!1),c({clockVisible:!0,greetingVisible:!0,mantraVisible:!0,quoteVisible:!0}),document.querySelector(".quote")?m.trigger("quote:override",e):m.once("quote:created",(()=>{m.trigger("quote:override",e)})),m.once("greetingMantraContainer:created",(()=>{m.trigger("mantra:override",t)})),m.trigger("mantra:override",t)},onDestroyed:()=>{c({clockVisible:null,greetingVisible:null,mantraVisible:null,quoteVisible:null}),m.trigger("quote:override",null),m.trigger("mantra:override","")}}}}(),{name:"Ready",progressBarText:"Ready",component:()=>v((()=>import("./TourEnd-DcW15HiE.js")),__vite__mapDeps([39,1,2,3,4,19,11,12,13,14,15,16,17,5,40])),subStepProps:{heading:"Build Momentum",subheading:"Ready to get more Momentum towards your biggest goals?",buttonText:"Customize your dashboard now",bannerHeading:"Join a Live Workshop",bannerSubheading:"Want to improve your productivity, reduce procrastination, and maximize your Momentum? Sign up for a free live workshop this week.",bannerButtonText:"Learn more",bannerButtonLink:"https://lu.ma/momentum"}}],key:"overlay"};function ce(){var e,t;return{feature:"notifications",notification_id:(null==(e=m.models.notificationManager.displayed[0])?void 0:e.get("notification_id"))+"-2",group_id:null==(t=m.models.notificationManager.displayed[0])?void 0:t.get("group_id")}}const le={name:"Search In Center Notification",id:"searchInCenterNotification",targetElementSelector:"[data-ob=center-below-nav]",elementReadyEvent:"belowNav:loaded",shouldActivate:()=>ro.getStep("plusIntroduction"),onShow(){d.capture("notification show",ce())},onDismiss(){d.capture("notification dismiss",ce())},onComplete(){d.capture("primary cta click",ce())},targetDistance:15,customCss:"\n\t\t\t\t[data-ob=center-below-nav] > .dash-icon { opacity: 1; }\n\t\t\t\t[data-ob=center-below-nav]:after { background: rgba(255,255,255,0.2); }\n\t\t\t",headerText:"Choose what to see",bodyText:"Weâ€™re trying out a central search bar! If you prefer to see your daily goal here, switch back using this button.",nextButtonText:"Got it"},de=()=>v((()=>import("./TourFeature-BUxq63fh.js")),__vite__mapDeps([0,1,2,3,4,5,6,7]));function me({subheading:e="Weâ€™ve unlocked our premium dashboard features for 30 days to help you get more organized, motivated, and focused to beat distractions!"}={}){return{name:"Intro",progressBarText:"Intro",lockProgressBar:!0,component:()=>v((()=>import("./TourIntro-llVYJV7M.js")),__vite__mapDeps([34,19,11,1,2,3,4,12,13,14,15,16,17,35,36,37,5,38])),subStepProps:{subheading:e,component:()=>v((()=>import("./TrialSignUp-0Z4yzdob.js")),__vite__mapDeps([41,1,2,3,4,5]))}}}function pe({mockListTitle:e,mockTodos:t,subheading:o="Keep your most important goals in view with Custom Tasks lists."}={}){return{name:"Goals",component:de,subStepProps:{heading:"Goals",subheading:o,arrow:"right-below",maskDefinitions:[{padding:[30,30,100],targetElements:".mock-todo-app"}],elementReadyEvent:"mockTodo:mounted",elementReadyCheck:()=>document.querySelector(".mock-todo"),showAppSelector:".mock-todo",onCreated:()=>{(e||t)&&m.once("mockTodo:created",(()=>{m.trigger("mockTodo:overrideContent",{mockListTitle:e,mockTodos:t})})),m.trigger("mockTodo:mount"),m.widgetManager.loadWidget("mockTodo")},onDestroyed:()=>{m.trigger("mockTodo:destroy")}}}}function ue({mockData:e={clocks:[],countdowns:[{utcDate:Date.now()+828e5,hasHours:!0,name:"Board Meeting"}],metrics:[{label:"Sales Closed",value:"5"},{label:"Fitbit Steps",value:"1250"}]},subheading:t="Track your habits to stay consistent."}={}){return Object.values(e).forEach((e=>{e.forEach((e=>{e.pinned=!0,e.id=m.utils.uuidv4()}))})),{name:"Habits",component:de,customCss:"\n\t\t\t.base-metric { justify-content: flex-end; align-items: flex-start; }\n\t\t\t.base-metric .dash-items { flex: 0 1 auto; }\n\t\t",subStepProps:{heading:"Habits",subheading:t,arrow:"right-above",maskDefinitions:[{padding:[0,0,-10,-40],targetElements:".base-metric .dash-items"}],elementReadyEvent:"baseMetric:updated",elementReadyCheck:()=>{const t=e=>e.replace(/\s/g,"");return Object.entries(e).every((([e,o])=>0===o.length||((e,o)=>{const a=document.querySelectorAll(e);return a.length&&Array.from(a).every((e=>o.map(t).includes(t(e.textContent))))})(`.base-metric .metric-item.app-dash[data-type=${e}] .metric-label-name`,o.map((e=>e.name||e.label||e.title)))))},showAppSelector:".base-metric",onCreated:()=>{c({metricVisible:!0,countdownVisible:!0,multiClockVisible:!1}),ne.add(e)},onDestroyed:()=>{c({metricVisible:null,countdownVisible:null,multiClockVisible:null}),ne.clear(Object.keys(e))}}}}function _e({subheading:e="Click the clock to start a Pomodoro timer. Play nature sounds for deep work."}={}){return{name:"Pomodoro",component:de,customCss:"\n\t\t\t.pomodoro { width: auto !important; align-self: center; }\n\t\t\t.pomodoro .focuses { whitespace: nowrap; }\n\t\t",subStepProps:{heading:"Pomodoro",subheading:e,arrow:"above-left",maskDefinitions:[{padding:[30,10],targetElements:".pomodoro"}],elementReadyEvent:"center:updated",elementReadyCheck:()=>document.querySelector(".pomodoro"),showAppSelector:".pomodoro, .focuses",onCreated:()=>{m.trigger("pomodoro:show")},onDestroyed:()=>{m.trigger("pomodoro:show",!1)}}}}function ge({subheading:e="Welcome to your 1-stop dashboard to overcome distractions and achieve all your goals.",buttonText:t="Customize now",bannerHeading:o="Want assistance getting started?",bannerSubheading:a="Talk to one of our productivity experts to get Momentum set up for you.",bannerButtonText:n="Schedule a call",bannerButtonLink:s="https://calendly.com/d/cqh-237-ms8/momentum-plus-onboarding"}={}){return{name:"Ready",component:()=>v((()=>import("./TourEnd-DcW15HiE.js")),__vite__mapDeps([39,1,2,3,4,19,11,12,13,14,15,16,17,5,40])),progressBarText:"Ready",subStepProps:{subheading:e,buttonText:t,bannerHeading:o,bannerSubheading:a,bannerButtonText:n,bannerButtonLink:s}}}const Ee={name:"Tour",component:()=>v((()=>import("./Tour-ohrg_Pky.js")),__vite__mapDeps([8,9,1,2,3,4,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33])),customCss:` .top-row { padding-top: ${G.bookmarksVisible?10:46}px; `,getPlanInfo:!0,transitionName:"fade-overlay",userCreatedTimeGate:"2000-01-01T00:00:00.000Z",alsoCompletesSteps:[C.FREE_INTRODUCTION],hideOtherApps:!0,subSteps:[me(),pe(),ue(),_e(),ge()]};var Te=(e=>(e.Welcome="welcome",e.Goal="goal",e.Focus="focus",e))(Te||{});const Se={welcome:{header:"ðŸŒ„ Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra each day."},goal:{header:"ðŸŽ¯ Stay Focused",body:"View your daily goal with each new tab. With Plus, sync your goal with your next task."},focus:{header:"ðŸ§  Beat Procrastination",body:"Get in the zone: Block distractions, vacuum tabs, and use focus timers and sounds."}},he={width:400,appPopupClasses:"inverted-system-theme-override",subStep:!0,onboardingStyling:!0,secondaryClasses:"button button-tertiary"};var be=(e=>(e.Motivation="motivation",e.Procrastination="procrastination",e.Focus="focus",e))(be||{});const fe={motivation:{header:"Boost Motivation",body:"Inspire your best work with a new photo, quote, and mantra daily."},procrastination:{header:"Beat Procrastination",body:"Keep your #1 task front and center. Streamline tasks in a simple task list."},focus:{header:"Focus Better",body:"Stop distractions magically as you vacuum up tabs, turn on white noise, and start a focus timer in one click."}},Oe=(e,t)=>{const o=e.slice(t.length);let a=`${p.capitalizeFirstLetter(t)}: `;for(let n=0;n<o.length;++n){const e=o.at(n);e&&(e===e.toUpperCase()&&(a+=" "),a+=e)}return a},ye=e=>`fade-slide-${"bottom"===e?"down":"up"}-full`,Re=e=>`slide-${e}`,Ie=()=>{const e=localStorage.getItem("user:createTime");return e?new Date(e):null},Pe=()=>{const e=JSON.parse(localStorage.getItem("analytics:tabLoad")??"{}"),t=Ie(),o=t?p.dateDiffIntegerDays(t,new Date)+1:0;return{tabs:e.count??0,days:o}},ve=e=>ro.getStep(e),we=(e,t)=>{var o;const a=["complete","legacy"];return(null==t?void 0:t.includeDismissed)&&a.push("dismissed"),a.includes((null==(o=ve(e))?void 0:o.status)??"")},Ce=e=>{const t=we(e,{includeDismissed:!0}),o=(e=>{const t=ve(e);return t&&!!t.data.dateCompleted&&p.dateDiffIntegerDays(new Date,new Date(t.data.dateCompleted))<0})(e);return t&&o},De=()=>{var e;return"control"!==(null==(e=u("day_based_tips"))?void 0:e.variantName)},Ae=()=>D.currentValue||A.currentValue,ke=e=>{_.$emit("popup:hide",e)},Le=()=>{m.trigger("modal:complete")},Me=()=>{m.trigger("modal:subStepComplete")},Ne=()=>{m.trigger("modal:close")},Ue=()=>{m.on("focusMode:starting",Le),m.on("focusMode:hover:toggle",ke)},Fe=()=>{m.off("focusMode:starting",Le),m.off("focusMode:hover:toggle",ke)},Ve=()=>{m.trigger("focusMode:start")},xe=()=>{m.on("settings:visible",(()=>ke(!0))),m.on("settings:hidden",(()=>ke(!1)))},Be=()=>{m.off("settings:visible",(()=>ke(!0))),m.off("settings:hidden",(()=>ke(!1)))},je={name:"Notification Introduction",component:()=>v((()=>import("./SubStepTipsContainer-BrQRhlME.js")),__vite__mapDeps([42,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109])),hideOtherApps:!1,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,keepOpenUntilComplete:!0,transitionDuration:250,onShow(){m.on("focusMode:starting",Ne),xe()},onLeave(){m.off("focusMode:starting",Ne),Be()},subSteps:[{name:Te.Welcome,transitionType:"fast",component:()=>v((()=>import("./OnboardingNotificationIntroduction-BO5BYuV1.js")),__vite__mapDeps([110,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109,111])),subStepProps:{...he,id:"onboarding-notification-1",targetElementSelector:".app-container.settings .toggle-icon",ctaText:"Next",ctaTriggersComplete:!0,headerText:Se[Te.Welcome].header,bodyText:Se[Te.Welcome].body,videoUrl:"https://momentum.photos/assets/5b4e6695-526f-4e3e-977e-d2cc61af0851",videoIsButtonForModalVideo:!0,footerText:"1 of 3"}},{name:Te.Goal,transitionType:"fast",component:()=>v((()=>import("./OnboardingNotificationIntroduction-BO5BYuV1.js")),__vite__mapDeps([110,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109,111])),subStepProps:{...he,id:"onboarding-notification-2",targetElementSelector:".app-container.settings .toggle-icon",ctaText:"Next",ctaTriggersComplete:!0,headerText:Se[Te.Goal].header,bodyText:Se[Te.Goal].body,videoUrl:"https://momentum.photos/assets/2d20410c-8758-410e-99bc-d0690b47a103",videoIsMask:!0,footerText:"2 of 3"}},{name:Te.Focus,transitionType:"fast",component:()=>v((()=>import("./OnboardingNotificationIntroduction-BO5BYuV1.js")),__vite__mapDeps([110,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109,111])),subStepProps:{...he,id:"onboarding-notification-3",targetElementSelector:".app-container.settings .toggle-icon",ctaText:"Try Focus Mode",ctaCallback:async()=>{m.off("focusMode:starting",Ne),Ve(),await g((()=>A.currentValue)).toBe(!0)},ctaTriggersComplete:!0,headerText:Se[Te.Focus].header,bodyText:Se[Te.Focus].body,videoUrl:"https://momentum.photos/assets/d08bd4ad-bd5c-4793-8077-99ae0add2d54",footerText:"3 of 3"}}]},Ye={name:"Video Modal Introduction",component:()=>v((()=>import("./OnboardingVideoModalIntroduction-DqE6grg4.js")),__vite__mapDeps([112,1,2,3,4,113,75,114,115])),keepOpenUntilComplete:!0,arcadeVideoIframeSrc:"https://demo.arcade.software/O6824L974TVBEyGDk0RT?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=false"},Ge="2000-01-01T00:00:00.000Z",He={Dismissed:"dismissed",Completed:"complete",Errored:"error",Legacy:"legacy"},We={[He.Dismissed]:"onDismiss",[He.Completed]:"onComplete",[He.Errored]:"onError"},$e={[He.Dismissed]:"onboarding step dismiss",[He.Completed]:"onboarding step complete",[He.Errored]:"onboarding step error"},Ke={name:"Video Notification Introduction",component:()=>v((()=>import("./OnboardingVideoNotificationIntroduction-ChxlrQ9C.js")),__vite__mapDeps([116,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109,117])),transitionName:ye("top"),keepOpenUntilComplete:!0,headerText:"Watch a video to get started",previewVideoSrc:"https://customer-fw5z54kkbbca834k.cloudflarestream.com/a10b061203651e2312158b0dbcf686bf/iframe?muted=true&preload=true&loop=true&autoplay=true&poster=https%3A%2F%2Fcustomer-fw5z54kkbbca834k.cloudflarestream.com%2Fa10b061203651e2312158b0dbcf686bf%2Fthumbnails%2Fthumbnail.jpg%3Ftime%3D0%26height%3D600&startTime=0&controls=false",onShow(){m.on("focusMode:starting",Ne),xe()},async onLeave(e){if(m.off("focusMode:starting",Ne),Be(),e!==He.Completed)return;m.cmd("modal.open","FREE_VIDEO_INTRODUCTION");const t=k();await g((()=>t.activeStep.name)).toBe(void 0)}},qe={[L.PLUS_TRIAL_TOUR]:{name:"Plus trial",disabledBrowsers:["Safari"],variants:{[M.PLUS_TRIAL_TOUR_VARIANT_A]:{steps:[C.TOUR],overrides:{[C.TOUR]:{subSteps:[me({subheading:"<p>Weâ€™ve unlocked our premium dashboard features for 30 days to help you get more organized, motivated, and focused to beat distractions!</p>"}),pe({subheading:"<p>Keep your most important goals in view with Tasks lists.</p>",mockTitle:"Long Term Goals",mockTodos:["Run a 5k","Get the promotion","Get a dog","Visit Greece","Give a TEDx talk"]}),ue({subheading:"<p>Track your habits to stay consistent.</p>",mockData:{metrics:[{label:"Glasses of water",value:"7"},{label:"Pages read",value:"145"},{label:"Meditations this week",value:"5"},{label:"Fitbit steps today",value:"11859"}]}}),_e({subheading:"<p>Click the clock to start a Pomodoro timer. Play nature soundscapes for deep work.</p>"}),ge({subheading:"<p>Welcome to your 1-stop dashboard to overcome distractions and achieve all your goals.</p>"})]}},deleteSteps:[C.FREE_INTRODUCTION]},[M.PLUS_TRIAL_TOUR_VARIANT_B]:{steps:[C.TOUR],overrides:{[C.TOUR]:{subSteps:[me({subheading:"<p>Weâ€™ve unlocked our premium dashboard features for 30 days to help you get more organized, motivated, and focused to beat distractions!</p>"}),pe({subheading:"<p>Set your goals with multiple tasks lists and keep whatâ€™s important in front of you.</p>",mockTitle:"Long Term Goals",mockTodos:["Run a 5k","Get the promotion","Visit Greece","Join nonprofit board","Learn guitar"]}),ue({subheading:"<p>Consistent action is key to becoming the person you want to be.</p><p>You can track a habit manually or use our integrations to sync your fitness and work apps.</p>",mockData:{metrics:[{label:"Fitbit steps today",value:"11859"},{label:"Glasses of water today",value:"7"},{label:"Sales calls",value:"34"}]}}),_e({subheading:"<p>Turn every day into a productive day with our unstoppable combo of the Pomodoro Timer and Sounds to get more done in less time.</p>"}),ge({subheading:"<p>Weâ€™re excited to help you get momentum towards your goals.</p>",buttonText:"Letâ€™s go!"})]}},deleteSteps:[C.FREE_INTRODUCTION]}}},[L.ONBOARDING_VARIANTS_TEST_1]:{name:"Introduction",variants:{[M.ONBOARDING_VARIANT_NOTIFICATION]:{steps:[C.FREE_INTRODUCTION],overrides:{[C.FREE_INTRODUCTION]:je}}}},[L.ONBOARDING_VIDEO_TEST]:{name:"Introduction",variants:{[M.ONBOARDING_VIDEO_VARIANT_FULLSCREEN]:{steps:[C.FREE_INTRODUCTION],overrides:{[C.FREE_INTRODUCTION]:Ye}},[M.ONBOARDING_VIDEO_VARIANT_NOTIFICATION]:{steps:[C.FREE_INTRODUCTION],overrides:{[C.FREE_INTRODUCTION]:Ke}}}}},ze={all:Object.keys(qe),unregistered:[L.SEARCH_IN_CENTER,L.ONBOARDING_VARIANTS_TEST_1,L.ONBOARDING_VIDEO_TEST],free:[L.PLUS_TRIAL_TOUR,L.SEARCH_IN_CENTER,L.ONBOARDING_VARIANTS_TEST_1,L.ONBOARDING_VIDEO_TEST],plus:[L.PLUS_TRIAL_TOUR,L.SEARCH_IN_CENTER]};function Je(){var e;const t=function(e=m.utils.getUserState().state){var t;let o={};return null==(t=ze[e])||t.filter((e=>{const t="true"===localStorage.getItem("experiments:disabled"),o=(localStorage.getObject("experiments:disabled:exceptions")??[]).includes(e);return!t||o})).forEach((e=>{var t;Xe(null==(t=qe[e])?void 0:t.disabledBrowsers)||(o[e]=qe[e])})),o}(),o=Ze();if(!t)return o;let a={};return null==(e=l.experiments)||e.forEach((e=>{let n=t[e.experimentName];if(!n)return;const s=n.variants[e.variantName];s&&s.steps.forEach((function(e){var t;a[e]={...oo[e]},(null==(t=s.overrides)?void 0:t[e])&&(a[e]=Object.assign(a[e],s.overrides[e])),s.deleteSteps&&s.deleteSteps.forEach((e=>{delete o[e]}))}))})),Object.assign(o,a)}function Ze(e=m.utils.getUserState().state){var t;let o={};return null==(t=io[e])||t.forEach((e=>{var t;Xe(null==(t=oo[e])?void 0:t.disabledBrowsers)||(o[e]=oo[e])})),o}function Qe(){var e;return Object.keys(qe).length&&(null==(e=l.experiments)?void 0:e.length)?Je():Ze()}function Xe(e){return(null==e?void 0:e.includes(m.utils.getPlatformName()))||(null==e?void 0:e.includes("Mobile"))&&m.utils.isTouchDevice()}function et(){if(!Object.keys(qe).length)return{};const e=ze.all;let t={};return e.forEach((e=>{let o=qe[e],a={variants:{},name:o.name};Object.keys(o.variants).forEach((e=>{let t=o.variants[e];a.variants[e]={steps:{},name:t.name},t.steps.forEach((o=>{a.variants[e].steps[o]=Object.assign({},oo[o],t.overrides?t.overrides[o]:{})}))})),t[e]=a})),t}const tt=new d({feature:"onboarding"});const ot=new class{constructor(){a(this,"_eventListenerMap",{}),a(this,"loaded",!1),this.allocatedDefinitions={}}allocateDefinitions(){this.allocatedDefinitions=Qe()}async loadOnboarding(){if(l.onboardingRefreshing||this.loaded||E())return;const e=e=>{l.onboardingRefreshing=!1,this.loaded=!0,e&&(m.cmd("notification.safariUpdate.shouldShow")?m.cmd("notification.safariUpdate.show"):m.models.notificationManager.displayPendingMessages())},t=()=>(e(!0),!1);try{l.onboardingRefreshing=!0,this.allocateDefinitions(),await this._getOnboardingSteps();let[o,a]=await this._getNextStep(),n=await this._getUncompletedEventTriggeredModals();if(!o&&!n.length)return t();n.length&&this._addEventListeners(n),o&&this._initiateOnboardingStep(o,a),e()}catch(o){console.error(o),t()}}async refreshOnboarding(){if(E())return;l.onboardingRefreshing=!0,await this._getOnboardingSteps(),this.allocateDefinitions();let e=await this._getUncompletedEventTriggeredModals();e.length&&(this._removeAllEventListeners(),this._addEventListeners(e)),await this.initiateNextStep(),l.onboardingRefreshing=!1}async initiateNextStep(){const[e,t]=await this._getNextStep();return!!e&&(this._initiateOnboardingStep(e,t),!0)}async _getOnboardingSteps(){const e=await T.requiresSync("onboardingSteps")?S.Server:S.Cache;await ro.get({mode:e})}_getUncompletedEventTriggeredModals(){return p.asyncFilter(Object.values(this.allocatedDefinitions),(async e=>e.event&&await this._stepCanBeShown(e,{now:!1})))}_removeAllEventListeners(){Object.values(this._eventListenerMap).forEach((({event:e,handler:t})=>m.off(e,t))),this._eventListenerMap={}}_addEventListeners(e){e.forEach((e=>{if(e.event){const t=async()=>{var o;if(await this._stepCanBeShown(e)&&!k().locked){const a=ro.getStep(e);this._initiateOnboardingStep(this._addHooksToDefinitions(e),(null==(o=null==a?void 0:a.data)?void 0:o.activeSubStepIndex)||0),m.off(e.event,t),_.$off(e.event,t),delete this._eventListenerMap[e.name]}};m.on(e.event,t),_.$on(e.event,t),this._eventListenerMap[e.name]={event:e.event,handler:t}}}))}_initiateOnboardingStep(e,t){e&&m.trigger("modal:show",e,{subStepIndex:t})}async _getNextStep(){var e;for(let t in this.allocatedDefinitions){if(!Object.prototype.hasOwnProperty.call(this.allocatedDefinitions,t))continue;const o=this.allocatedDefinitions[t];if(!o.event&&await this._stepCanBeShown(o)){const t=ro.getStep(o);return[this._addHooksToDefinitions(o),(null==(e=null==t?void 0:t.data)?void 0:e.activeSubStepIndex)||0]}}return[]}async _onStepShow(e){var t;await(null==(t=e.onShow)?void 0:t.call(e)),tt.capture("onboarding step show",{name:e.name.toLowerCase()})}async _onStepComplete(e,t,o=He.Completed,a=!0){var n;await(null==(n=e[We[o]])?void 0:n.call(e,t)),tt.capture($e[o],{name:e.name.toLowerCase()}),a&&await ro.saveStepProgress(e,t.activeSubStepIndex,o)}async _onSubStepComplete(e,t){var o;const{activeSubStep:a,nextSubStepIndex:n,hasSubStepsRemaining:s}=t;await(null==(o=e._onSubStepComplete)?void 0:o.call(e,t)),tt.capture("onboarding sub-step complete",{step:e.name.toLowerCase(),sub_step:a.name.toLowerCase()}),s&&await ro.saveStepProgress(e,n)}async _onStepLeave(e,t){var o;await(null==(o=e.onLeave)?void 0:o.call(e,t)),t===He.Errored||await this.initiateNextStep()||m.models.notificationManager.displayPendingMessages()}_addHooksToDefinitions(e){var t;const o={...e,onShow:()=>this._onStepShow(e),onComplete:t=>this._onStepComplete(e,t,He.Completed,!0),onDismiss:t=>this._onStepComplete(e,t,He.Dismissed,!0),onError:t=>this._onStepComplete(e,t,He.Errored,!1),onLeave:this._onStepLeave.bind(this,e)};return(null==(t=e.subSteps)?void 0:t.length)&&(o.onSubStepComplete=t=>this._onSubStepComplete(e,t)),o}async _stepCanBeShown(e,{now:t=!0}={}){let o=ro.getStep(e);return!(o&&[He.Completed,He.Dismissed,He.Legacy].includes(o.status))&&await this._userMeetsDateRestrictions(e)&&(!t||await this._checkShouldActivate(e))}async _userMeetsDateRestrictions(e){let t=localStorage.getItem("user:createTime");if(!t)return!1;let o=!0;if(e.plusSubscriptionTimeGate){const t=W();await g((()=>t.loaded)).toBe(!0),await g((()=>t.loading)).toBe(!1),o=new Date(t.firstSubscriptionStart)>new Date(e.plusSubscriptionTimeGate)}return o&&new Date(t)>new Date(e.userCreatedTimeGate||"2022-01-01T00:00:00.000Z")}async _checkShouldActivate(e){return!e.shouldActivate||await e.shouldActivate()}},at=Object.freeze(Object.defineProperty({__proto__:null,default:ot},Symbol.toStringTag,{value:"Module"})),nt={[C.UPSELL_AI_CHAT]:{name:"AiChat",component:()=>v((()=>import("./AiChatUpsell-DeJkPRNX.js")),__vite__mapDeps([118,119,48,50,1,2,3,4,12,13,14,15,107,86,120,82,121]))},[C.UPSELL_AUTOFOCUS]:{name:"Top task in center",component:()=>v((()=>import("./AutofocusUpsell-DtHdcsNC.js")),__vite__mapDeps([122,119,48,50,1,2,3,4,12,13,14,15,107,86,120,92,91]))},[C.UPSELL_BALANCE_MODE]:{name:"Balance Mode",component:()=>v((()=>import("./BalanceModeUpsell-bZGi5IK1.js")),__vite__mapDeps([123,119,48,50,1,2,3,4,12,13,14,15,107,86,120,96,84]))},[C.UPSELL_COUNTDOWNS]:{name:"Countdown",component:()=>v((()=>import("./CountdownsUpsell-DFMrLZvt.js")),__vite__mapDeps([124,119,48,50,1,2,3,4,12,13,14,15,107,86,120,95]))},[C.UPSELL_FOCUS_MODE]:{name:"Focus Mode",component:()=>v((()=>import("./FocusModeUpsell-sH4xFGQt.js")),__vite__mapDeps([125,1,2,3,4,12,13,14,15,23,19,11,16,17,24,119,48,50,107,86,120,79,94,126]))},[C.UPSELL_FOCUS_MODE_EXPERIMENTAL]:{name:"Focus Mode Experimental",component:()=>v((()=>import("./FocusModeUpsellExperimental-feOz2HgN.js")),__vite__mapDeps([127,1,2,3,4,128,75,129]))},[C.UPSELL_MANTRAS]:{name:"Mantra",component:()=>v((()=>import("./MantrasUpsell-Dw8cfXVH.js")),__vite__mapDeps([130,119,48,50,1,2,3,4,12,13,14,15,107,86,120,99,101,131]))},[C.UPSELL_METRICS]:{name:"Metrics",component:()=>v((()=>import("./MetricsUpsell-DItuL1IF.js")),__vite__mapDeps([132,119,48,50,1,2,3,4,12,13,14,15,107,86,120,90]))},[C.UPSELL_MULTI_TODO]:{name:"MultiTodo",component:()=>v((()=>import("./MultiTodoUpsell-B0AApprO.js")),__vite__mapDeps([133,119,48,50,1,2,3,4,12,13,14,15,107,86,120,87]))},[C.UPSELL_NOTES]:{name:"Notes",component:()=>v((()=>import("./NotesUpsell-WwYlBF1C.js")),__vite__mapDeps([134,119,48,50,1,2,3,4,12,13,14,15,107,86,120,81]))},[C.UPSELL_PHOTOS]:{name:"Photos",component:()=>v((()=>import("./PhotosUpsell-COYd2e2K.js")),__vite__mapDeps([135,119,48,50,1,2,3,4,12,13,14,15,107,86,120,98,100,101]))},[C.UPSELL_POMODORO]:{name:"Pomodoro",component:()=>v((()=>import("./PomodoroUpsell-XKXT2bmJ.js")),__vite__mapDeps([136,119,48,50,1,2,3,4,12,13,14,15,107,86,120,91,89,131]))},[C.UPSELL_QUOTES]:{name:"Quotes",component:()=>v((()=>import("./QuotesUpsell-DKdWUmi9.js")),__vite__mapDeps([137,119,48,50,1,2,3,4,12,13,14,15,107,86,120,99,101,138]))},[C.UPSELL_SOUNDS]:{name:"Sounds",component:()=>v((()=>import("./SoundsUpsell-6JGYqn45.js")),__vite__mapDeps([139,119,48,50,1,2,3,4,12,13,14,15,107,86,120,83,140]))},[C.UPSELL_TAB_GROUPS]:{name:"Tab Groups",component:()=>v((()=>import("./TabGroupsUpsell-CB3M38-x.js")),__vite__mapDeps([141,119,48,50,1,2,3,4,12,13,14,15,107,86,120,103,97,142]))},[C.UPSELL_TAB_STASH]:{name:"Tab Stash",component:()=>v((()=>import("./TabStashUpsell-BBjimcW5.js")),__vite__mapDeps([143,119,48,50,1,2,3,4,12,13,14,15,107,86,120,91,103,104]))},[C.UPSELL_THEMES]:{name:"Themes",component:()=>v((()=>import("./ThemesUpsell-5Xm5Vgy2.js")),__vite__mapDeps([144,119,48,50,1,2,3,4,12,13,14,15,107,86,120,100,88]))},[C.UPSELL_TODO_INTEGRATIONS]:{name:"Tasks Integrations",component:()=>v((()=>import("./TodoIntegrationsUpsell-CD6vMLC5.js")),__vite__mapDeps([145,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,119,48,50,1,2,3,4,12,13,14,15,107,120,146]))},[C.UPSELL_WEATHER]:{name:"Weather",component:()=>v((()=>import("./WeatherUpsell-CGiCyYru.js")),__vite__mapDeps([147,119,48,50,1,2,3,4,12,13,14,15,107,86,120,93,96]))},[C.UPSELL_WORLD_CLOCKS]:{name:"World Clocks",component:()=>v((()=>import("./WorldClocksUpsell-BkZ8lq0L.js")),__vite__mapDeps([148,119,48,50,1,2,3,4,12,13,14,15,107,86,120,102,97]))},[C.UPSELL_SITE_BLOCKER]:{name:"Site Blocker",component:()=>v((()=>import("./SiteBlockerUpsell-BT4ylVlS.js")),__vite__mapDeps([149,1,2,3,4,119,48,50,12,13,14,15,107,86,120,73]))}};Object.values(nt).forEach((e=>{e.name="Upsell: "+e.name,e.getPlanInfo=!0,e.onLeave=()=>ot.initiateNextStep()}));const st=[C.TIP_DAY_ONE_FOCUS_MODE,C.TIP_DAY_TWO_FOCUS_MODE,C.TIP_DAY_THREE_FOCUS_MODE,C.TIP_SURVEY_PMF_TYPEFORM_FREE,C.TIP_ADD_NAME],it=[C.TIP_SURVEY_PMF_TYPEFORM_PLUS],rt=[C.TIP_FOCUS_INSIGHT_APP,C.TIP_SITE_BLOCKER_FIRST_TIME,C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ct={[C.TIP_ADD_NAME]:"Make Momentum yours âœ¨"},lt={[C.TIP_DAY_ONE_FOCUS_MODE]:"Mute your distractions and get in the zone. Start a session now!",[C.TIP_DAY_TWO_FOCUS_MODE]:"Starting with deep work will help you navigate your whole day with more flow and ease. Activate focus mode here.",[C.TIP_DAY_THREE_FOCUS_MODE]:"Feeling distracted? Get into the flow state with focus mode.",[C.TIP_FOCUS_INSIGHT_APP]:"You've completed your first focus timer! Stay motivated by using focus goals.",[C.TIP_SITE_BLOCKER_FIRST_TIME]:"Site Blocker helps eliminate the temptation to open distracting websites.",[C.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Would you be interested in helping us improve Momentum?",[C.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Would you be interested in helping us improve Momentum?",[C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Do you have a minute to answer three questions about Site Blocker?",[C.TIP_ADD_NAME]:"Add your name and make your new tab a little more magical."},dt={[C.TIP_SURVEY_PMF_TYPEFORM_FREE]:"Sure!",[C.TIP_SURVEY_PMF_TYPEFORM_PLUS]:"Sure!",[C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:"Sure!"},mt={width:300,appPopupClasses:"inverted-system-theme-override"},pt="2024-06-18T00:00:00.000Z";C.SURVEY_PMF_TYPEFORM_FREE,C.SURVEY_PMF_TYPEFORM_PLUS,C.SURVEY_SITE_BLOCKER_TYPEFORM,C.SURVEY_GENERAL_FEEDBACK,C.SURVEY_BUG_REPORT,C.SURVEY_BETA_TEST;var ut=(e=>(e.PmfFree="surveys.pmfTypeformFreeSrc",e.PmfPlus="surveys.pmfTypeformPlusSrc",e.SiteBlocker="surveys.siteBlockerTypeformSrc",e))(ut||{}),_t=(e=>(e.GeneralFeedback="https://momentumdash.typeform.com/to/wqLzletJ",e.BugReport="https://momentumdash.typeform.com/to/WyBZaaAe",e.BetaTest="https://momentumdash.typeform.com/to/Io3C6FXv",e))(_t||{});const gt={[C.TIP_DAY_ONE_FOCUS_MODE]:{...mt,name:Oe(C.TIP_DAY_ONE_FOCUS_MODE,"tip"),shouldActivate:()=>{if(!De())return!1;if(!H.focusModeVisible||Ae())return!1;const{tabs:e,days:t}=Pe();return t>=1&&e>=3},onShow:Ue,onLeave:Fe,onPopupClicked:Ve,targetElementSelector:".app-container.focus-mode",position:q.Bottom,bodyText:lt[C.TIP_DAY_ONE_FOCUS_MODE],transitionName:ye("bottom")},[C.TIP_DAY_TWO_FOCUS_MODE]:{...mt,name:Oe(C.TIP_DAY_TWO_FOCUS_MODE,"tip"),shouldActivate:()=>{if(!De())return!1;if(!H.focusModeVisible||Ae())return!1;if(!Ce(C.TIP_DAY_ONE_FOCUS_MODE))return!1;const{tabs:e,days:t}=Pe();return t>=2&&e>=1},onShow:Ue,onLeave:Fe,onPopupClicked:Ve,targetElementSelector:".app-container.focus-mode",position:q.Bottom,bodyText:lt[C.TIP_DAY_TWO_FOCUS_MODE],transitionName:ye("bottom")},[C.TIP_DAY_THREE_FOCUS_MODE]:{...mt,name:Oe(C.TIP_DAY_THREE_FOCUS_MODE,"tip"),shouldActivate:()=>{if(!De())return!1;if(!H.focusModeVisible||Ae())return!1;if(!Ce(C.TIP_DAY_TWO_FOCUS_MODE))return!1;const{tabs:e,days:t}=Pe();return t>=3&&e>=3},onShow:Ue,onLeave:Fe,onPopupClicked:Ve,targetElementSelector:".app-container.focus-mode",position:q.Bottom,bodyText:lt[C.TIP_DAY_THREE_FOCUS_MODE],transitionName:ye("bottom")},[C.TIP_FOCUS_INSIGHT_APP]:{...mt,bodyText:lt[C.TIP_FOCUS_INSIGHT_APP],name:Oe(C.TIP_FOCUS_INSIGHT_APP,"tip"),targetElementSelector:".app-dash.focus-mode-metric",position:q.Bottom,alignment:z.Right,onShow:()=>{_.$on("focusModeInsights:toggled",Le)},onLeave:()=>{_.$off("focusModeInsights:toggled",Le)},onPopupClicked:()=>{_.$emit("focusModeInsights:open")},event:"pomodoro:firstSessionCompleted",transitionName:ye("bottom")},[C.TIP_SITE_BLOCKER_FIRST_TIME]:{...mt,name:Oe(C.TIP_SITE_BLOCKER_FIRST_TIME,"tip"),shouldActivate:()=>H.siteBlockerVisible&&D.currentValue&&!A.currentValue&&we(C.FOCUS_MODE_ONBOARDING,{includeDismissed:!0}),onShow:()=>{_.$on("siteBlocker:toggled",Le)},onLeave:()=>{_.$off("siteBlocker:toggled",Le)},onPopupClicked:()=>{_.$emit("siteBlocker:open")},targetElementSelector:".app-container.site-blocker",position:q.Bottom,bodyText:lt[C.TIP_SITE_BLOCKER_FIRST_TIME],transitionName:ye("bottom")},[C.TIP_SURVEY_PMF_TYPEFORM_FREE]:{...mt,name:Oe(C.TIP_SURVEY_PMF_TYPEFORM_FREE,"tip"),targetElementSelector:".app-container.settings .toggle-icon",targetDistance:15,position:q.Top,nippleVisible:!1,bodyText:lt[C.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaText:dt[C.TIP_SURVEY_PMF_TYPEFORM_FREE],ctaTriggersComplete:!0,transitionName:ye("top"),shouldActivate:async()=>{if(!(await $(ut.PmfFree))||Ae())return!1;const{days:e}=Pe();return e>=14},userCreatedTimeGate:pt,onShow:xe,onLeave:Be,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_FREE",{force:!0})}},[C.TIP_SURVEY_PMF_TYPEFORM_PLUS]:{...mt,name:Oe(C.TIP_SURVEY_PMF_TYPEFORM_PLUS,"tip"),targetElementSelector:".app-container.settings .toggle-icon",targetDistance:15,position:q.Top,nippleVisible:!1,bodyText:lt[C.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaText:dt[C.TIP_SURVEY_PMF_TYPEFORM_PLUS],ctaTriggersComplete:!0,transitionName:ye("top"),async shouldActivate(){if(!(await $(ut.PmfPlus))||Ae())return!1;const e=W();return await g((()=>e.loaded)).toBe(!0),e.subscriptionDaysElapsed>=14},onShow:xe,onLeave:Be,userCreatedTimeGate:pt,onComplete(){m.cmd("modal.open","SURVEY_PMF_TYPEFORM_PLUS",{force:!0})},alsoCompletesSteps:[C.TIP_SURVEY_PMF_TYPEFORM_FREE]},[C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM]:{...mt,name:Oe(C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM,"tip"),targetElementSelector:".app-container.settings .toggle-icon",targetDistance:15,position:q.Top,nippleVisible:!1,bodyText:lt[C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaText:dt[C.TIP_SURVEY_SITE_BLOCKER_TYPEFORM],ctaTriggersComplete:!0,transitionName:ye("top"),async shouldActivate(){if(!(await $(ut.SiteBlocker))||Ae())return!1;const e=(await v((async()=>{const{default:e}=await import("./streaks-OUKo-glr.js").then((e=>e.s));return{default:e}}),__vite__mapDeps([150,1,2,3,4]))).default();return e.refresh(),await g((()=>e.loaded)).toBe(!0),e.getValidSitesResistedSince(10)>=3},event:"focusMode:stopped",onShow:xe,onLeave:Be,onComplete(){m.cmd("modal.open","SURVEY_SITE_BLOCKER_TYPEFORM",{force:!0})},alsoCompletesSteps:[C.TIP_SURVEY_PMF_TYPEFORM_FREE]},[C.TIP_ADD_NAME]:{...mt,name:Oe(C.TIP_ADD_NAME,"tip"),targetElementSelector:".greeting .name.editing",elementReadyEvent:"message:name:editing",targetDistance:15,position:q.Bottom,alignment:z.Center,headerText:ct[C.TIP_ADD_NAME],bodyText:lt[C.TIP_ADD_NAME],clickOutsideTriggersDismiss:!0,transitionName:ye("bottom"),shouldActivate:()=>{if(""!==G.displayname||Ae())return!1;const{tabs:e}=Pe(),t=e>=2;return t&&_.$emit("greeting:name:edit"),t},onShow:()=>{_.$on("message:name:edited",Le)},onLeave:()=>{_.$off("message:name:edited",Le)}}};async function Et(){localStorage.removeItem(h),await W().refresh(!0),await ot.refreshOnboarding()}const Tt=(e,t)=>{const o=new d({feature:e});return{hideOtherApps:!0,feature:e,transitionName:"fade",component:()=>v((()=>import("./UpgradeModal-9PxoxnrS.js")),__vite__mapDeps([151,1,2,3,4,152,153,56,154,27,12,13,14,15,19,11,16,17,69,48,113,75,114,155])),onShow:()=>{o.capture("free-trial show",{cardless:t})},onDismiss:async()=>{await ot.refreshOnboarding(),o.capture("free-trial dismiss",{cardless:t})},onComplete:async()=>{await J.onSuccessfulUserLogin(),o.capture("free-trial complete",{cardless:t})},onLeave:async e=>{e===He.Completed&&await Et()}}},St={[C.FREE_TRIAL]:{getPlanInfo:!0,name:"Free Trial Cardless",startingHeight:"426.38px",...Tt("free-trial",!0)},[C.FREE_TRIAL_CARD]:{name:"Free Trial Card",startingHeight:"531px",...Tt("checkout",!1)}};var ht=(e=>(e.PROCESSING="Processing",e.UNSAVED_DATA="Unsaved-data",e.ERROR="Error",e))(ht||{});const bt={name:"One Time Login",component:()=>v((()=>import("./OneTimeLogin-DKlhCGjB.js")),__vite__mapDeps([156,1,2,3,4,157,27,12,13,14,15,19,11,16,17,18,20,21,22,23,24,25,26,28,29,30,31,32,158])),subSteps:Object.values(ht).map((e=>({name:e}))),hideOtherApps:!0,onDismiss:async()=>{await Z()},onComplete:async()=>{await Q()},onLeave:async()=>{await X(),l.oneTimeLoginActive=!1}},ft={name:"Login",component:()=>v((()=>import("./Login-CmPMHJ61.js")),__vite__mapDeps([159,1,2,3,4,160])),firstSubStep(){const e=localStorage.getObject(b),t=!!localStorage.getItem(f);return p.isFirefox()&&!t?N.DATA_COLLECTION:(null==e?void 0:e.email)?N.EMAIL:N.NAME},async onComplete(){await U(),await Q()},async onLeave(){await X(),l.introductionActive=!1},hideOtherApps:!0,transitionName:"fade",subSteps:[{name:"Name",component:()=>v((()=>import("./LoginName-BSrC9fsM.js")),__vite__mapDeps([161,162,35,1,2,3,4,36,37,5,163,164,165,166,167,12,13,14,15,131]))},{name:"Email",component:()=>v((()=>import("./LoginEmail-nIDWlto6.js")),__vite__mapDeps([168,162,35,1,2,3,4,36,37,5,163,164,165,166,167,12,13,14,15,27,19,11,16,17,48]))},{name:"Choose Password",component:()=>v((()=>import("./LoginChoosePassword-CdwsWURV.js")),__vite__mapDeps([169,162,35,1,2,3,4,36,37,5,163,170,164,165,166,167,67,171,12,13,14,15,27,19,11,16,17,48]))},{name:"Enter Password",component:()=>v((()=>import("./LoginEnterPassword-BMAY_BJK.js")),__vite__mapDeps([172,162,35,1,2,3,4,36,37,5,163,12,13,14,15,170,164,165,166,167,67,171,27,19,11,16,17,48,59]))},{name:"Reset Password",component:()=>v((()=>import("./LoginResetPassword-CPg4M857.js")),__vite__mapDeps([173,162,35,1,2,3,4,36,37,5,163,170,164,165,166,167,67,171,12,13,14,15,27,19,11,16,17,48]))},{name:"Reset Password Sent",component:()=>v((()=>import("./LoginResetPasswordSent-CeY-mo1K.js")),__vite__mapDeps([174,162,35,1,2,3,4,36,37,5,163,12,13,14,15,48,175]))},{name:"Data Collection",component:()=>v((()=>import("./LoginDataCollection-QLb3Ws9j.js")),__vite__mapDeps([176,162,35,1,2,3,4,36,37,5,163,12,13,14,15,177]))}]},Ot="subscribe",yt=new d({feature:Ot}),Rt={name:"Subscribe",feature:Ot,startingHeight:"530.48px",hideOtherApps:!0,component:()=>v((()=>import("./UpgradeModal-9PxoxnrS.js")),__vite__mapDeps([151,1,2,3,4,152,153,56,154,27,12,13,14,15,19,11,16,17,69,48,113,75,114,155])),onShow:()=>{yt.capture("show")},onDismiss:()=>{yt.capture("dismiss")},onComplete:async()=>{await J.onSuccessfulUserLogin(),yt.capture("complete"),_.$emit("flashMessage",{message:"You are now subscribed to Momentum Plus!",icon:ee,buttons:[{text:"Learn more about Plus",action:()=>{m.cmd("modal.open","PLUS_INTRODUCTION")},dismissOnClick:!0,cssClasses:["button-link"]}],confetti:!0,closeButtonEnabled:!1,persist:1e4})},onLeave:async e=>{e===He.Completed&&await Et()}},It=[C.TAB_STASH_ONBOARDING,C.FOCUS_MODE_ONBOARDING,C.ONBOARDING_SITE_BLOCKER_ONE,C.ONBOARDING_FOCUS_INSIGHTS,C.ONBOARDING_SOUNDS],Pt={[C.ONBOARDING_SITE_BLOCKER_ONE]:"Every time you open a distracting website, weâ€™ll intervene. Add websites that steal your time by clicking into a group."};var vt=(e=>(e.Goal="goal",e.Track="track",e))(vt||{});const wt={goal:"Set a goal to concentrate regularly. You can update the amount and time span in the settings.",track:"Track your stats to stay motivated. See how many focus timers and tasks you've completed in the last 7 days."};var Ct=(e=>(e.Eliminate="eliminate",e.Focus="focus",e.Ritual="ritual",e.Personal="personal",e))(Ct||{});const Dt={eliminate:{header:"ðŸ™…ðŸ½â€ï¸ Eliminate distractions",body:"Block distracting websites when your focus timer is running. If tempted, your focus task, breathing exercises, and resistance streak will keep you on track."},focus:{header:"ðŸ”¢ï¸ Focus on one task only",body:"Single-tasking makes working less overwhelming. Automatically show the first task of your todo list here (Plus feature)."},ritual:{header:"â°ï¸ Make focusing a ritual",body:"Set a goal how much you want to concentrate daily to turn it into a habit!"},personal:{header:"âš™ï¸ï¸ Your personal focus space",body:"Enable features that help you get things done. Committing to focus will help you feel more accomplished!"}};var At=(e=>(e.New="new",e.Existing="existing",e))(At||{});const kt={new:{header:"ðŸ”Šâ€ Tune in, zone out",body:"Choose from our music selection. Connect streaming services for no ads. Our custom sound scenes are designed to help you concentrate â€“ adjust them to your liking! If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."},existing:{header:"ðŸ”Šâ€ Improved sound experience",body:"We revamped Soundscapes with music and advanced sound customization. Connect streaming services for an ad-free experience. If your browser is logged into Spotify/YouTube, you're connected. We don't access your data."}},Lt={width:400,appPopupClasses:"inverted-system-theme-override",onboardingStyling:!0,secondaryClasses:"button button-tertiary",transitionName:"fade-blurred-tip-app"},Mt=()=>{B("siteBlocker","enabled",!0),Me()},Nt=()=>{var e;const t=null==(e=Ie())?void 0:e.getTime();return!t||t>=1733449440884},Ut={name:"Focus Mode Onboarding",component:()=>v((()=>import("./SubStepTipsContainer-BrQRhlME.js")),__vite__mapDeps([42,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109])),event:"focusMode:started",userCreatedTimeGate:Ge,hideOtherApps:!1,keepOpenUntilComplete:!0,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,customCss:"\n\t\t.app-dash, .pomodoro, .focus-mode-metric.app-dash { opacity: 50% !important; }\n\t",alsoCompletesSteps:[C.TIP_SITE_BLOCKER_FIRST_TIME],onShow(){m.on("focusMode:stopping",Ne)},onLeave(){m.off("focusMode:stopping",Ne)},subSteps:[{name:Ct.Eliminate,transitionType:Re("down"),customCss:"\n\t\t\t\t.site-blocker .app-dash { opacity: 100% !important; }\n\t\t\t",beforeShow:async()=>{_.$on("siteBlocker:opened",Mt);const e=j();c({focusModeSettingsStr:JSON.stringify({...e,apps:{...e.apps,siteBlocker:{enabled:!0}}})}),e.apps.siteBlocker.enabled||await O(200)},onLeave:async e=>{var t,o,a;_.$off("siteBlocker:opened",Mt),(null==(t=u(L.ONBOARDING_VARIANTS_TEST_1))?void 0:t.variantName)===M.ONBOARDING_VARIANT_NOTIFICATION&&Me(),c({focusModeSettingsStr:null});const n=(null==(a=null==(o=Y().focusModeSettings.apps)?void 0:o.siteBlocker)?void 0:a.enabled)??!0,s=(await v((async()=>{const{default:e}=await import("./siteBlockerSession-DLWrywXh.js");return{default:e}}),__vite__mapDeps([178,1,2,3,4,12,13,14,15,30,31,32,179,180,23,19,11,16,17,24,181,28,27,182]))).default();e===He.Completed&&n&&!s.hasPermissions&&(await s.ensurePermissions(),await g((()=>{var e;return null==(e=k().activeStep)?void 0:e.name})).toBe("Focus Mode Onboarding"))},subStepProps:{...Lt,targetElementSelector:".app-container.site-blocker",position:q.Bottom,ctaText:"Block sites",ctaTriggersComplete:!0,ctaCallback:async()=>{await B("siteBlocker","enabled",!0)},secondaryText:"Disable Site Blocker",secondaryTriggersComplete:!0,secondaryCallback:async()=>{await B("siteBlocker","enabled",!1)},headerText:Dt[Ct.Eliminate].header,bodyText:Dt[Ct.Eliminate].body}},{name:Ct.Focus,transitionType:Re("up"),customCss:"\n\t\t\t\t.pomodoro { opacity: 100% !important; }\n\t\t\t",subStepProps:{...Lt,targetElementSelector:".pomodoro-focus .prompt",targetDistance:15,position:q.Right,alignment:z.Left,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,secondaryText:"Sync with Tasks",secondaryIcon:"icon-refresh",secondaryCallback(){if(H.autoFocus)return Me();m.commandManager.execute("todo.toggle.autofocus",null,{sourceApp:"Focus Mode Onboarding",eventSource:"focus"}),m.conditionalFeatures.featureEnabled("pinfocus")&&Me()},headerText:Dt[Ct.Focus].header,bodyText:Dt[Ct.Focus].body}},{name:Ct.Ritual,transitionType:Re("down"),customCss:"\n\t\t\t\t.focus-mode-metric.app-dash { opacity: 100% !important; }\n\t\t\t",beforeShow:async()=>{const e=j();c({focusModeSettingsStr:JSON.stringify({...e,focusInsightVisible:!0})}),e.focusInsightVisible||await O(200)},onLeave(){c({focusModeSettingsStr:null})},subStepProps:{...Lt,targetElementSelector:".app-dash.focus-mode-metric",position:q.Bottom,alignment:z.Right,nippleVisible:!1,ctaText:"Next",ctaTriggersComplete:!0,headerText:Dt[Ct.Ritual].header,bodyText:Dt[Ct.Ritual].body}},{name:Ct.Personal,transitionType:Re("down"),beforeShow:async()=>{m.on("settings:hidden",Me),await m.commandManager.executeAsync("settings.display",null,{section:"focus-mode-settings"})},onLeave(){m.off("settings:hidden",Me)},subStepProps:{...Lt,elementReadyEvent:"settings:focusMode:rendered",targetElementSelector:".app.settings-app",position:q.Right,alignment:z.Left,nippleVisible:!1,ctaText:"I'm ready to focus!",ctaTriggersComplete:!0,ctaCallback(){m.commandManager.execute("settings.toggle")},headerText:Dt[Ct.Personal].header,bodyText:Dt[Ct.Personal].body}}]},Ft={name:"Tab Stash Onboarding",component:()=>v((()=>import("./Tour-ohrg_Pky.js")),__vite__mapDeps([8,9,1,2,3,4,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33])),event:"tabStash:opened",userCreatedTimeGate:Ge,transitionName:"fade",hideOtherApps:!0,progressVisible:!1,onCreated:async()=>{const e=(await V.tabsViewStateStore())();e.popupActive||e.togglePopup(!0)},customCss:".tour-feature { max-width: 700px!important; right: 0!important; } .cta { max-width: 800px !important; margin-top: 90px; margin-left: -275px; } .arrow { transform: translate(-100px, -20px) rotate(-135deg)!important;}",subSteps:[{name:"Tab Stash",component:()=>v((()=>import("./TourFeature-BUxq63fh.js")),__vite__mapDeps([0,1,2,3,4,5,6,7])),subStepProps:{heading:"",component:()=>v((()=>import("./TabStashOnboarding-qBD-xjS4.js")),__vite__mapDeps([183,1,2,3,4,184])),arrow:"left-above",maskDefinitions:[{padding:[10],targetElements:".tabs .app"}],elementReadyCheck:()=>document.querySelector(".tabs .app-popup:not(.slide-down-fade-enter-active)"),elementReadyEvent:"tabStash:opened",showAppSelector:".tabs",buttonText:""}}]},Vt={...Lt,name:Oe(C.ONBOARDING_SITE_BLOCKER_ONE,"onboarding"),targetElementSelector:".app-container .site-blocker-groups-list-item",position:q.Right,targetDistance:5,ctaText:"Got it!",ctaTriggersComplete:!0,bodyText:Pt[C.ONBOARDING_SITE_BLOCKER_ONE],shouldActivate:async()=>(await g((()=>te().loaded)).toBe(!0),await g((()=>te().loading)).toBe(!1),await O(300),!0),event:"siteBlockerGroups:opened",onShow:()=>{_.$on(["siteBlocker:closed","siteBlockerGroups:closed"],Ne)},onLeave:()=>{_.$off(["siteBlocker:closed","siteBlockerGroups:closed"],Ne)}},xt={name:Oe(C.ONBOARDING_FOCUS_INSIGHTS,"onboarding"),event:"focusInsightsApp:opened",component:()=>v((()=>import("./SubStepTipsContainer-BrQRhlME.js")),__vite__mapDeps([42,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109])),transitionOnSubStepChange:!0,transitionName:"fade-slide-tip",onShow:()=>{m.on("focusInsightsApp:closed",Ne)},onLeave:()=>{m.off("focusInsightsApp:closed",Ne)},subSteps:[{name:vt.Goal,transitionType:Re("down"),subStepProps:{...Lt,bodyText:wt[vt.Goal],targetElementSelector:".app-dash.focus-mode-metric .weekly-time",position:q.Left,region:"top-right",targetDistance:36,nippleAlignmentOffset:10,ctaText:"Next",ctaTriggersComplete:!0}},{name:vt.Track,transitionType:Re("down"),subStepProps:{...Lt,bodyText:wt[vt.Track],targetElementSelector:".app-dash.focus-mode-metric .cell-metric:first-child",position:q.Left,region:"top-right",targetDistance:26,ctaText:"Got it!",ctaTriggersComplete:!0}}]},Bt=async({appsEnabled:e}={})=>new Promise((t=>{const o=()=>{m.trigger("focusMode:start"),m.once("focusMode:started",t)},a=!G.focusModeVisible;a&&_.$once("focusMode:ready",(()=>o())),G.focusModeVisible=!0,null==e||e.forEach((e=>{B(e,"enabled",!0)})),D.currentValue||a?D.currentValue&&t():o()})),jt=()=>{y("https://moda.sh/release-notes")},Yt=()=>u("release_update_site_blocker_visual"),Gt={name:"Sounds Onboarding",component:()=>v((()=>import("./SubStepTipsContainer-BrQRhlME.js")),__vite__mapDeps([42,1,2,3,4,43,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109])),event:"sounds:opened",userCreatedTimeGate:Ge,keepOpenUntilComplete:!0,transitionName:"fade-slide-tip",transitionOnSubStepChange:!0,onShow(){_.$on("sounds:closed",Ne)},onLeave(){_.$off("sounds:closed",Ne)},subSteps:[{name:"Onboarding Step 1",transitionType:Re("down"),subStepProps:{...Lt,targetElementSelector:".sounds-library",targetDistance:5,position:q.Right,alignment:z.Left,nippleVisible:!1,ctaText:Nt()?"Start exploring":"Release Notes",ctaTriggersComplete:!0,ctaCallback(){Nt()||jt()},headerText:kt[Nt()?At.New:At.Existing].header,bodyText:kt[Nt()?At.New:At.Existing].body}}]},Ht={[C.FOCUS_MODE_ONBOARDING]:Ut,[C.TAB_STASH_ONBOARDING]:Ft,[C.ONBOARDING_SITE_BLOCKER_ONE]:Vt,[C.ONBOARDING_FOCUS_INSIGHTS]:xt,[C.ONBOARDING_SOUNDS]:Gt},Wt=(e,t)=>{const o=new d({feature:`survey pmf typeform ${w(e)}`});return{src:`${t}#id=${R()}`,component:()=>v((()=>import("./SurveyIframeModal-B_aJFkKU.js")),__vite__mapDeps([185,1,2,3,4,113,75,114,186])),onShow(){o.capture(`survey pmf show ${e} typeform`)},onDismiss(){o.capture(`survey pmf dismiss ${e} typeform`)}}},$t=(e,t,o)=>{const a=Wt(e,"");return{...a,async onShow(){var e;await(null==(e=a.onShow)?void 0:e.call(a));const n=await $(o);Kt[t].src=`${n}#id=${R()}`}}},Kt={[C.SURVEY_PMF_TYPEFORM_FREE]:I({name:Oe(C.SURVEY_PMF_TYPEFORM_FREE,"survey"),...$t("free",C.SURVEY_PMF_TYPEFORM_FREE,ut.PmfFree)}),[C.SURVEY_PMF_TYPEFORM_PLUS]:I({name:Oe(C.SURVEY_PMF_TYPEFORM_PLUS,"survey"),...$t("plus",C.SURVEY_PMF_TYPEFORM_PLUS,ut.PmfPlus)}),[C.SURVEY_SITE_BLOCKER_TYPEFORM]:I({name:Oe(C.SURVEY_SITE_BLOCKER_TYPEFORM,"survey"),...$t("site blocker",C.SURVEY_SITE_BLOCKER_TYPEFORM,ut.SiteBlocker)}),[C.SURVEY_GENERAL_FEEDBACK]:I({name:Oe(C.SURVEY_GENERAL_FEEDBACK,"survey"),...Wt("general feedback",_t.GeneralFeedback)}),[C.SURVEY_BUG_REPORT]:I({name:Oe(C.SURVEY_BUG_REPORT,"survey"),...Wt("bug report",_t.BugReport)}),[C.SURVEY_BETA_TEST]:I({name:Oe(C.SURVEY_BETA_TEST,"survey"),...Wt("beta test",_t.BetaTest)})},qt={width:350,appPopupClasses:"inverted-system-theme-override",name:"Search Provider removed",bodyText:"Search is now using the search provider chosen in your browser settings.",ctaText:"Got it!",ctaTriggersComplete:!0,secondaryText:"See how to change",secondaryCallback(){chrome.tabs.create({url:"https://support.google.com/chrome/answer/95426?hl=en&co=GENIE.Platform%3DDesktop"})},targetElementSelector:".search .search-icon-container",targetDistance:5,alignmentOffset:6,event:"updateAlerts:SearchProvider",shouldActivate:()=>{const e=new Date(localStorage.getItem("user:createTime")||"").getTime();return"dismissed"!==localStorage.getItem("updateAlerts:searchProvider")&&e>0&&e<17256672e5}},zt={width:350,appPopupClasses:"inverted-system-theme-override",name:"Pomodoro switcher moved",bodyText:"We've given Pomodoro a new home. You'll now find it in here.",ctaText:"Got it!",ctaTriggersComplete:!0,customCss:".clock .more-toggle .icon-ellipsis, .clock .portal-toggle { opacity: 1 !important; }",targetElementSelector:".clock .more-toggle .icon-ellipsis",targetDistance:5,imageUrl:"https://momentum.photos/assets/89478a9e-3314-4e69-b5fa-5984bb6c0cdd",visualIsVideo:!0,shouldActivate:async()=>{const e=(await v((async()=>{const{usePomodoroCompletedStore:e}=await import("./pomodoroCompleted-CChcDNoN.js").then((e=>e.c));return{usePomodoroCompletedStore:e}}),__vite__mapDeps([181,1,2,3,4,12,13,14,15,24,19,11,16,17,28,27,182]))).usePomodoroCompletedStore(),t=(await v((async()=>{const{default:e}=await import("./SubscriptionSummary-Q5jMw6Hb.js");return{default:e}}),__vite__mapDeps([25,1,2,3,4,12,13,14,15]))).default(),o=17256672e5;return e.refresh(),await g((()=>e.loaded)).toBe(!0),await g((()=>t.loaded)).toBe(!0),await g((()=>t.loading)).toBe(!1),null!==t.firstSubscriptionStart&&new Date(t.firstSubscriptionStart).getTime()<o&&e.data.some((e=>new Date(e.completed).getTime()<o))&&!0===G.clockVisible&&"true"!==localStorage.getItem("pomodoro-showing")},onShow(){m.on("clock:dropdownToggled",Le)},onLeave(){m.off("clock:dropdownToggled",Le)}},Jt=[{title:"Focus Mode 1.2",description:"Your focus just got an upgrade",notes:["New picture-in-picture mode allows you to always see your focus timer.","Prefer not to use Pomodoro? Enable Countup mode.","A fully updated timer, fullscreen view, smoother transitions, sounds that sync with the timer and more!"],visualSrc:"/img/release/focus-mode-one-point-two.png",accentColor:"180 87% 30%",ctaText:"Try now in Focus Mode",ctaCallback:async()=>{await Bt({appsEnabled:["siteBlocker"]})},secondaryText:"Learn more",secondaryCallback:()=>{jt()}},{title:"Site Blocker",description:"Protect your focus with Site Blocker",notes:["Introducing Site Blocker: our new tool to block distracting websites during Focus Mode.","Hereâ€™s how it works: When you go to open a distracting website, an intervention will appear.","The intervention screen reminds you of your current task, goal, or intention."],visualSrc:"video"===(null==(e=Yt())?void 0:e.variantName)?"https://momentum.photos/assets/blogimages/e5b0b49c-004e-4609-81c5-ba7a4a6a1242":"/img/release/site-blocker.png",visualIsVideo:"video"===(null==(t=Yt())?void 0:t.variantName),accentColor:"242 70% 52%",ctaText:"Try now for free in Focus Mode",ctaCallback:async()=>{await Bt({appsEnabled:["siteBlocker"]}),we(C.FOCUS_MODE_ONBOARDING,{includeDismissed:!0})&&we(C.TIP_SITE_BLOCKER_FIRST_TIME,{includeDismissed:!0})&&_.$emit("siteBlocker:open")},secondaryText:"Learn more",secondaryCallback:()=>{jt()}}][0],Zt="releaseUpdateModalCheck",Qt=new d({feature:"release update modal",modalId:C.RELEASE_UPDATE}),Xt={name:"Release Update",component:()=>v((()=>import("./ReleaseUpdateModal-DtUkZEhN.js")),__vite__mapDeps([187,1,2,3,4,113,75,114,188])),shouldActivate:async()=>{const e="true"===await K.get(Zt),t=A.currentValue||D.currentValue,o=e&&!t;return o&&K.delete(Zt),o},...Jt,onShow(){Qt.capture("release update modal show")},onLeave(){Qt.capture("release update modal leave")},ctaCallback:async()=>{Qt.capture("release update modal cta click"),await(null==Jt?void 0:Jt.ctaCallback())},secondaryCallback:()=>{Qt.capture("release update modal secondary click"),null==Jt||Jt.secondaryCallback()}},eo={name:"Setup Dashboard",component:()=>v((()=>import("./SetupUnregisteredDashboard-qNSdQ0X8.js")),__vite__mapDeps([189,1,2,3,4,27,12,13,14,15,19,11,16,17,35,36,37,190])),hideOtherApps:!0,async onComplete(){await U(),await Q()},async onLeave(){await X(),l.introductionActive=!1}},to={name:"Modal Introduction",component:()=>v((()=>import("./OnboardingModalIntroduction-rDWk8R3D.js")),__vite__mapDeps([191,1,2,3,4,113,75,114,192])),shouldActivate:()=>(K.delete(Zt),!0),hideOtherApps:!1,keepOpenUntilComplete:!0,subSteps:[{name:be.Motivation,headerText:fe[be.Motivation].header,bodyText:fe[be.Motivation].body,imageUrl:"motivation.png",ctaText:"Next"},{name:be.Procrastination,headerText:fe[be.Procrastination].header,bodyText:fe[be.Procrastination].body,imageUrl:"procrastination.png",ctaText:"Next",secondaryText:"Try Plus for free",secondaryCallback:()=>{m.cmd("modal.open","FREE_TRIAL",{force:!0})}},{name:be.Focus,headerText:fe[be.Focus].header,bodyText:fe[be.Focus].body,imageUrl:"focus.png",ctaText:"Try Focus Mode",ctaCallback:async()=>{Ve(),await g((()=>A.currentValue)).toBe(!0)},secondaryText:"Explore dashboard",secondaryTriggersComplete:!0}]},oo={[C.SETUP_UNREGISTERED_DASHBOARD]:eo,[C.LOGIN]:ft,[C.ONE_TIME_LOGIN]:bt,[C.RELEASE_UPDATE]:Xt,[C.TOUR]:Ee,[C.FREE_INTRODUCTION]:to,[C.FREE_VIDEO_INTRODUCTION]:Ye,[C.PLUS_INTRODUCTION]:re,[C.FREE_TRIAL]:St[C.FREE_TRIAL],[C.FREE_TRIAL_CARD]:St[C.FREE_TRIAL_CARD],[C.UPGRADE]:Rt,[C.SEARCH_IN_CENTER_NOTIFICATION]:le,[C.SAFARI_VERSION]:{name:"Safari Version Notification",headerText:"Want Momentum as your start page?",bodyText:"Update to Safari 14.1 or later to get the full experience.",position:"top-right",nextButtonText:"Close",targetElementSelector:"[data-ob=settings-toggle]",targetDistance:5},[C.FAVICON_PERMISSION]:{name:"Favicon Permission",component:()=>v((()=>import("./FaviconPermission-B5SYMc7k.js")),__vite__mapDeps([193,43,1,2,3,4,44,6,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,5,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,29,81,82,22,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,26,107,108,109,194]))},[C.SEARCH_PROVIDER]:qt,[C.POMODORO_SWITCHER]:zt,[C.SAFARI_ACCOUNT]:{name:"Safari account modal",component:()=>v((()=>import("./SafariAccount-Bu45cOgP.js")),__vite__mapDeps([195,35,1,2,3,4,36,37,63,50,196])),customCss:".step-container { background: white; } .modal { --modal-height: auto!important; }",transitionName:"fade"},[C.PERMISSION_REQUEST]:{name:"Permission request",component:()=>v((()=>import("./PermissionRequest-C1kOO4tE.js")),__vite__mapDeps([197,1,2,3,4,35,36,37,53,198])),transitionName:"fade"},...nt,...gt,...Ht,...Kt};Object.entries(oo).forEach((([e,t])=>t.id=e));const ao=[C.FREE_INTRODUCTION,...p.isTouchDevice()?[]:[C.RELEASE_UPDATE],...st],no=[C.PLUS_INTRODUCTION,...p.isTouchDevice()?[]:[C.RELEASE_UPDATE],...it,C.POMODORO_SWITCHER],so=[...rt,...It,...P()?[C.SEARCH_PROVIDER]:[]],io={all:Object.keys(oo),upsells:Object.keys(nt),unregistered:[...ao,...so],free:[...ao,...so],plus:[...no,...so],teamMember:[...so],teamAdmin:[...so]},ro=new(r.extend({name:"OnboardingStepCollection",mixins:[s],unreactive:()=>({type:"onboardingSteps",Model:ae,dataService:oe}),methods:{async saveStepProgress(e,t,o="active"){let a=this.getStep(e);if(a){a.copyProperties(),a.editProps.status=o,a.editProps.data||(a.editProps.data={}),a.editProps.data.activeSubStepIndex=t;try{await this.update(a),a.commitChanges()}catch(n){console.error(n),a.revertChanges()}}else{a=new this.Model;const s=["complete","dismissed"].includes(o)?Date.now():void 0;a.updateData({name:e.id,status:o,data:{activeSubStepIndex:t,dateCompleted:s}});try{await this.add(a)}catch(n){console.error(n)}}e.alsoCompletesSteps&&["complete","dismissed"].includes(o)&&await Promise.all(e.alsoCompletesSteps.map((e=>{const t=oo[e],a=this.getStep(t);return a&&["complete","dismissed"].includes(a.status)?Promise.resolve():this.saveStepProgress(t,void 0,o)})))},getAddRequestBody(e){let t={};return e.props.forEach((o=>t[o]=e[o])),t},getUpdateRequestBody(e){let t={};return e.props.forEach((o=>t[o]=e.editProps[o])),t},getStep(e){return"string"==typeof e&&(e=oo[e]),Object.values(this.data.items).find((t=>!(!e.legacyId||"legacy"!==t.status||t.name!==e.legacyId)||t.name===e.id))}}})),co=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"}));export{ht as O,He as S,Qe as a,We as b,io as c,oo as d,ze as e,ro as f,et as g,at as h,co as i,ot as o};