const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/LocationTypeahead-DagDHwih.js","assets/js/SoftFocus-BUhesXB-.js","assets/js/SmoothReflow-DOlTFzdt.js","assets/js/icon-alert-Cei3Tz55.js","assets/js/localStorage-BThj8CCp.js","assets/js/preload-helper-xKIU3iAw.js","assets/js/string-CbqVM-Zr.js","assets/js/allComponentsMounted-C3UsG_cA.js","assets/css/SmoothReflow-DiGQ1RDg.css","assets/css/LocationTypeahead-DhC2n4K3.css","assets/js/DetailedInfo-D8bJKNnZ.js","assets/js/BaseIcon-DKpoUDYB.js","assets/js/arrow-Be8MuPJi.js","assets/js/icon-weather-reset-CoyptBb8.js","assets/js/icon-settings-Bycjf8-G.js","assets/js/icon-back-arrow-CiRQJ6G-.js","assets/js/icon-back-D_TFrgyJ.js","assets/js/icon-trash-BQ1O-AfY.js","assets/js/icon-close-BUGl_M7j.js","assets/js/icon-cog-BFr_Pva7.js","assets/js/icon-skip-BOkC5L0N.js","assets/js/icon-down-BiHbKN-t.js","assets/js/icon-edit-CixeXNYx.js","assets/js/icon-ellipsis-D3jS4u3x.js","assets/js/icon-error-state-BKQhfBCj.js","assets/js/icon-heart-v5O7C6eS.js","assets/js/icon-hide-NFfBhfBx.js","assets/js/icon-key-BPNRipb3.js","assets/js/icon-next-B4hjdiAA.js","assets/js/icon-photo-BrwqV1T0.js","assets/js/icon-pin-BHeOuzvO.js","assets/js/icon-plus-D4YOesIc.js","assets/js/icon-profile-B_XWyuTb.js","assets/js/icon-x-qUCmf2CW.js","assets/js/icon-skip-intro-BUi8b3Ak.js","assets/js/icon-tooltip-CN09iXOB.js","assets/js/icon-visible-on-CM3kpcFN.js","assets/js/icon-x-caret-half-CZtcH_PM.js","assets/js/tasks-completed-Dg2z75km.js","assets/js/add-COIuonao.js","assets/js/google-DKPAcOmk.js","assets/js/arrow-up-1QPpu78M.js","assets/js/square-check-DwLT60gj.js","assets/js/clocks-DjzskNOU.js","assets/js/close-Bj_A2br_.js","assets/js/search-DCqlmJx6.js","assets/js/folder-CwWTWsnJ.js","assets/js/switch-EuBTQVVE.js","assets/js/focus-mode-09pIyYAW.js","assets/js/storage-YYEO5TB5.js","assets/js/icon-confetti-Dz2LojDe.js","assets/js/sparks-CAw9b6ob.js","assets/js/secure-B8YP-AML.js","assets/js/icon-asana-Csd73e1k.js","assets/js/icon-soundwave-CtfxieWt.js","assets/js/icon-percent-schedule-CA5EI9b7.js","assets/js/icon-trello-DeIn-36G.js","assets/js/icon-clean-rFsPxTtp.js","assets/js/icon-more-lists-Cl9oRGK2.js","assets/js/icon-more-fonts-CcfOY0t4.js","assets/js/icon-focus-stats-keERwXFt.js","assets/js/icon-top-of-mind-B6EhbCcK.js","assets/js/icon-flow-5QqmGIWX.js","assets/js/icon-integrations-D9o58ob4.js","assets/js/icon-weather-extra-ufLpT_SX.js","assets/js/icon-spiral-gh4hwZDD.js","assets/js/icon-time-sensitive-CP2L3maw.js","assets/js/icon-hourly-CdMmiQZT.js","assets/js/icon-infinity-D4yMRoAd.js","assets/js/icon-personalize-photos-D2M4lLlt.js","assets/js/icon-skip-2bGCAGKt.js","assets/js/icon-photo-match-C2EChNEK.js","assets/js/icon-random-375DbcwF.js","assets/js/icon-timezones-DGZoTtaT.js","assets/js/icon-simplify-BRUtLJYp.js","assets/js/icon-sync-DIH26Y9h.js","assets/css/BaseIcon-BlT7Qz-y.css","assets/css/DetailedInfo-BqVF-K4o.css"])))=>i.map(i=>d[i]);
import{_ as t}from"./preload-helper-xKIU3iAw.js";import{B as e}from"./BaseIcon-DKpoUDYB.js";import{n as o,B as i}from"./icon-alert-Cei3Tz55.js";import{S as s}from"./SmoothReflow-DOlTFzdt.js";import{a}from"./reactiveCustomization-D0v-tpvX.js";import{w as r}from"./main-DwUQ_CI9.js";import{A as n}from"./AppPopup-BwTiSELh.js";import{g as c}from"./globalKeyEventManager-2_REwTdI.js";import{a as p}from"./AppHeader-qzvUiXuB.js";import{B as l}from"./BaseDropdown-BnEBcF3g.js";import{B as d}from"./BaseDropdownOption--ggIz8bI.js";import{T as h}from"./ToggleSwitch-cciEx5Ka.js";import{A as u}from"./AppViewSwitchDynamic-DCOLomdp.js";import{A as w}from"./AppView-CLCF208Q.js";import{A as g}from"./AppActionBanner-CioGZkgY.js";import{b as f}from"./constants-CALDQiUE.js";import{B as y}from"./BaseDropdownDivider-BDCJHxgS.js";import{A as v}from"./AppHeaderControl-DmqWUMjw.js";import"./arrow-Be8MuPJi.js";import"./icon-weather-reset-CoyptBb8.js";import"./icon-settings-Bycjf8-G.js";import"./icon-back-arrow-CiRQJ6G-.js";import"./icon-back-D_TFrgyJ.js";import"./icon-trash-BQ1O-AfY.js";import"./icon-close-BUGl_M7j.js";import"./icon-cog-BFr_Pva7.js";import"./icon-skip-BOkC5L0N.js";import"./icon-down-BiHbKN-t.js";import"./icon-edit-CixeXNYx.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-hide-NFfBhfBx.js";import"./icon-key-BPNRipb3.js";import"./icon-next-B4hjdiAA.js";import"./icon-photo-BrwqV1T0.js";import"./icon-pin-BHeOuzvO.js";import"./icon-plus-D4YOesIc.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./tasks-completed-Dg2z75km.js";import"./add-COIuonao.js";import"./google-DKPAcOmk.js";import"./arrow-up-1QPpu78M.js";import"./square-check-DwLT60gj.js";import"./clocks-DjzskNOU.js";import"./close-Bj_A2br_.js";import"./search-DCqlmJx6.js";import"./folder-CwWTWsnJ.js";import"./switch-EuBTQVVE.js";import"./focus-mode-09pIyYAW.js";import"./storage-YYEO5TB5.js";import"./icon-confetti-Dz2LojDe.js";import"./sparks-CAw9b6ob.js";import"./secure-B8YP-AML.js";import"./icon-asana-Csd73e1k.js";import"./icon-soundwave-CtfxieWt.js";import"./icon-percent-schedule-CA5EI9b7.js";import"./icon-trello-DeIn-36G.js";import"./icon-clean-rFsPxTtp.js";import"./icon-more-lists-Cl9oRGK2.js";import"./icon-more-fonts-CcfOY0t4.js";import"./icon-focus-stats-keERwXFt.js";import"./icon-top-of-mind-B6EhbCcK.js";import"./icon-flow-5QqmGIWX.js";import"./icon-integrations-D9o58ob4.js";import"./icon-weather-extra-ufLpT_SX.js";import"./icon-spiral-gh4hwZDD.js";import"./icon-time-sensitive-CP2L3maw.js";import"./icon-hourly-CdMmiQZT.js";import"./icon-infinity-D4yMRoAd.js";import"./icon-personalize-photos-D2M4lLlt.js";import"./icon-skip-2bGCAGKt.js";import"./icon-photo-match-C2EChNEK.js";import"./icon-random-375DbcwF.js";import"./icon-timezones-DGZoTtaT.js";import"./icon-simplify-BRUtLJYp.js";import"./icon-sync-DIH26Y9h.js";import"./localStorage-BThj8CCp.js";import"./string-CbqVM-Zr.js";import"./allComponentsMounted-C3UsG_cA.js";import"./VueBase-DhIJfHAY.js";import"./index-xreAsusa.js";import"./migrateLegacyUserMessageHandler-aPkGeFs_.js";import"./main-Bw6ngw5x.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-D8ZiK_2v.js";import"./AppContainer-CuCmPr8M.js";import"./showAnyway-IMtKhwyy.js";import"./AppDash-CHdOMoU_.js";import"./hideEventsMixin-C3v17jdv.js";import"./appToggleMixin-YpT44oar.js";import"./ViewState-Wts6aMTb.js";import"./BaseDropdownContent-CE_Bs11r.js";import"./index-CAmMGhGv.js";const j=o({name:"BasicInfo",components:{BaseIcon:e},props:{hourlyForecastShowing:{type:Boolean,required:!0},detailedInfoShowing:{type:Boolean,required:!0},conditions:{type:Object,required:!0},forecastDay:{type:Boolean,required:!0}},computed:{temperature(){return void 0===this.conditions.temperature?this.conditions.high:this.conditions.temperature},apparentTemperature(){return void 0===this.conditions.apparentTemperature?this.conditions.apparentHigh:this.conditions.apparentTemperature}},methods:{toggleOption(t){this.forecastDay||this.$emit(t)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"basic-info"},[e("div",{staticClass:"current-icon-temp column",class:{active:t.hourlyForecastShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-hourly-div"},on:{click:function(e){return t.toggleOption("toggle-hourly-forecast")}}},[e("base-icon",{staticClass:"current-icon",attrs:{src:t.conditions.icon,size:"58px"}}),e("div",{staticClass:"current-temp",attrs:{"data-test":"high-temp"}},[t._v(" "+t._s(t.temperature+"°")+" ")]),t.forecastDay&&t.$plus?e("div",{staticClass:"current-temp low"},[t._v(t._s(t.conditions.low+"°"))]):t._e(),t.forecastDay?t._e():e("base-icon",{staticClass:"icon-down",attrs:{src:"icon/down",size:"20px"}})],1),e("div",{staticClass:"current-summary column",class:{active:t.detailedInfoShowing,"toggle-cursor":!t.forecastDay},attrs:{"data-test":"toggle-details-div"},on:{click:function(e){return t.toggleOption("toggle-detailed-info")}}},[e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[t._v("Feels like")]),t._v(" "+t._s(t.apparentTemperature+"°")+" "),t.forecastDay&&t.$plus?e("span",{staticClass:"low"},[t._v(t._s(t.conditions.apparentLow+"°"))]):t._e()]),t.$plus?e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[e("span",{staticClass:"u--mobile-hide"},[t._v("Chance of "+t._s(t.conditions.precipitationChance.type.toLowerCase())+" ")]),e("span",{staticClass:"u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationChance.type)+" ")])]),t._v(" "+t._s(t.conditions.precipitationChance.chance)+"% ")]):e("div",{staticClass:"summary-item",attrs:{title:"Last 6 Hours"}},[e("span",{staticClass:"title u--mobile-hide"},[t._v("Recent "+t._s(t.conditions.precipitationType.toLowerCase()))]),e("span",{staticClass:"title u--mobile-only-inline"},[t._v(t._s(t.conditions.precipitationType)+" ")]),e("span",[t._v(t._s(t.conditions.precipAmount6Hours))])]),e("div",{staticClass:"summary-item"},[e("span",{staticClass:"title"},[t._v("Wind")]),e("base-icon",{staticClass:"icon-arrow",style:`transform: rotate(${t.conditions.windDirection}deg)`,attrs:{src:"icon-arrow"}}),t._v(" "+t._s(t.conditions.windSpeed)+" ")],1),t.forecastDay?t._e():e("base-icon",{staticClass:"icon-down",attrs:{src:"icon/down",size:"20px"}})],1)])}),[],!1,null,"5b27ecd4").exports;const _=o({name:"ForecastItem",components:{BaseIcon:e},props:{icon:{type:String,required:!0},time:{type:String,required:!0},temperature:{type:Number,required:!0},temperatureSecondary:{type:Number,default:null}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"forecast-item"},[e("div",{staticClass:"forecast-label",attrs:{"data-test":"forecast-label"}},[t._v(t._s(t.time))]),e("base-icon",{staticClass:"forecast-icon",attrs:{src:t.icon,size:"20px"}}),e("div",{staticClass:"forecast-temp"},[e("span",{staticClass:"forecast-temp-high",attrs:{"data-test":"forecast-high"}},[t._v(t._s(t.temperature)+"°")]),t.temperatureSecondary?e("span",{staticClass:"forecast-temp-low"},[t._v(t._s(t.temperatureSecondary)+"°")]):t._e()])],1)}),[],!1,null,"726cfcaf").exports;const C=o({name:"WeatherApp",components:{AppHeaderControl:v,BaseDropdownDivider:y,AppActionBanner:g,AppView:w,ToggleSwitch:h,BaseDropdownOption:d,BaseDropdown:l,BaseIcon:e,AppHeader:p,AppPopup:n,SmoothReflow:s,LocationTypeahead:()=>t((()=>import("./LocationTypeahead-DagDHwih.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),BasicInfo:j,DetailedInfo:()=>t((()=>import("./DetailedInfo-D8bJKNnZ.js")),__vite__mapDeps([10,3,4,5,6,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77])),ForecastItem:_,AppViewSwitchDynamic:u},inject:["viewStateStore","capture"],setup:()=>({settingsDropdown:i(),DropdownOptionSpacing:f}),data:()=>({typeaheadShowing:!1,alertShowing:!1,selectedDay:0}),computed:{loading:()=>r.loading,detailedDay(){return 0===this.selectedDay},conditions:()=>r.conditions,location:()=>r.locationName,noConnection:()=>r.noConnection,activeForecast(){return this.detailedDay?this.conditions.now:this.conditions.days[this.selectedDay]},temperatureUnit:{get:()=>a.temperatureUnit,set(t){a.temperatureUnit=t,this.capture("metrics unit toggle",{new_value:"c"===t})}},hourlyForecastShowing:{get(){return a.weatherHourly&&this.$plus},set(t){a.weatherHourly=t,this.capture("hourly forecast toggle",{new_value:t})}},detailedInfoShowing:{get(){return a.weatherDetail&&this.$plus},set(t){a.weatherDetail=t,this.capture("detailed weather toggle",{new_value:t})}}},watch:{typeaheadShowing(t){t?c.registerEventListener("closeTypeahead","keyup",27,(()=>{this.typeaheadShowing=!1})):c.removeEventListener("closeTypeahead","keyup",27)}},created(){c.registerEventListener("closeApp","keyup",27,this.closeApp)},destroyed(){c.removeEventListener("closeApp","keyup",27)},methods:{refresh(){r.refreshFromServer()},setLocation(t=null){this.typeaheadShowing=!1,this.capture("location change",{automatic:!t}),r.setLocation(t)},selectForecastDay(t){this.selectedDay=t,this.capture("day select")},closeApp(){this.$emit("close")},closeTypeahead(){this.typeaheadShowing=!1},providerClick(){this.capture("provider click",{provider:"Accuweather"})},onHourlyDropdownClick(){this.$plus?this.hourlyForecastShowing=!this.hourlyForecastShowing:m.cmd("modal.open","UPSELL_WEATHER",{eventSource:"dash"})},onDetailedDropdownClick(){this.$plus?this.detailedInfoShowing=!this.detailedInfoShowing:m.cmd("modal.open","UPSELL_WEATHER",{eventSource:"dash"})},onUnitsDropdownClick(){this.temperatureUnit="f"!==this.temperatureUnit?"f":"c"},onEditLocationClick(){var t;null==(t=this.settingsDropdown)||t.closeDropdown(),this.typeaheadShowing=!0}}},(function(){var t=this,e=t._self._c;return e("app-popup",{attrs:{position:"bottom-left",width:460,region:"top-right",focused:t.viewStateStore.focused},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("app-view-switch-dynamic",[e("app-view",{staticClass:"weather",class:{"show-alert":t.alertShowing,"show-typeahead":t.typeaheadShowing},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){var o;return[t.activeForecast?e("base-icon",{staticClass:"app-header-icon",attrs:{src:(null==(o=t.activeForecast)?void 0:o.icon)??"icon/weather/cloud-sun"}}):t._e(),e("span",{staticClass:"app-header-name",attrs:{"data-test":"location-name-day"}},[t._v(t._s(t.location)+" "),e("span",{attrs:{"data-test":"location-day"}},[t._v(t._s(t.activeForecast.day))]),t._v(" Weather")]),t.loading?e("i",{staticClass:"loading-icon"}):t._e()]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{attrs:{"data-test":"edit-icon"},on:{click:t.onEditLocationClick}},[e("base-icon",{attrs:{src:"icon/location/map-pin"}})],1),e("base-dropdown",{ref:"settingsDropdown",attrs:{"min-width":"200px","data-test":"more"}},[e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-hourly"},on:{click:t.onHourlyDropdownClick}},[e("span",[t._v("Hourly Forecast "),t.$plus?t._e():e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")])]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:t.hourlyForecastShowing}})],1)]),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-details"},on:{click:t.onDetailedDropdownClick}},[e("span",[t._v("Detailed Info "),t.$plus?t._e():e("span",{staticClass:"badge badge-plus"},[t._v("PLUS")])]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:t.detailedInfoShowing}})],1)]),e("base-dropdown-option",{attrs:{spacing:t.DropdownOptionSpacing.Between,"data-test":"toggle-metrics"},on:{click:t.onUnitsDropdownClick}},[e("span",[t._v("Metric Units")]),e("span",{staticClass:"toggle-right"},[e("toggle-switch",{attrs:{value:"f"!==t.temperatureUnit}})],1)]),e("base-dropdown-divider"),e("base-dropdown-option",{attrs:{"data-test":"edit-dropdown"},on:{click:t.onEditLocationClick}},[e("base-icon",{attrs:{src:"icon/location/map-pin"}}),e("span",[t._v("Change Location")])],1)],1)]},proxy:!0}])}),t.conditions?t._e():e("app-action-banner",{attrs:{"action-text":"Retry",text:"Looks like you're offline. Weather info will resume when you're reconnected."},on:{action:t.refresh}}),t.noConnection?e("app-action-banner",{attrs:{"action-text":"Retry",text:"Weather info will update when you reconnect."},on:{action:t.refresh}}):t._e()]},proxy:!0},{key:"body",fn:function(){return[t.activeForecast?e("div",{staticClass:"conditions"},[t._v(t._s(t.activeForecast.condition))]):t._e(),e("div",{staticClass:"basic-weather section"},[t.activeForecast?e("basic-info",{attrs:{conditions:t.activeForecast,"forecast-day":!t.detailedDay||!t.$plus,"hourly-forecast-showing":t.hourlyForecastShowing,"detailed-info-showing":t.detailedInfoShowing},on:{"toggle-hourly-forecast":function(e){t.hourlyForecastShowing=!t.hourlyForecastShowing},"toggle-detailed-info":function(e){t.detailedInfoShowing=!t.detailedInfoShowing}}}):t._e()],1),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.hourlyForecastShowing&&t.conditions&&t.detailedDay?e("div",{staticClass:"hourly-forecast section",attrs:{"data-test":"weather-hourly"}},t._l(t.conditions.hours,(function(t,o){return e("forecast-item",{key:o,attrs:{time:t.hour,icon:t.icon,temperature:t.temperature}})})),1):t._e()]),e("smooth-reflow",{attrs:{nested:!0,duration:350,"hide-overflow":!0}},[t.detailedInfoShowing&&t.activeForecast&&t.detailedDay?e("div",{staticClass:"detailed-weather section",attrs:{"data-test":"weather-details"}},[e("detailed-info",{attrs:{forecast:t.activeForecast}})],1):t._e()]),t.conditions&&t.$plus?e("div",{staticClass:"daily-forecast section"},t._l(t.conditions.days,(function(o,i){return e("forecast-item",{key:i,staticClass:"has-action",class:{selected:i===t.selectedDay},attrs:{time:o.day.slice(0,3),icon:o.icon,temperature:o.high,"temperature-secondary":o.low,"data-test":"forecast-day"},nativeOn:{click:function(e){return t.selectForecastDay(i)}}})})),1):t._e(),e("div",{staticClass:"source section"},[t.activeForecast.link?e("a",{staticClass:"source-link has-action",attrs:{href:t.activeForecast.link,target:"_blank"},on:{click:t.providerClick}},[t._v(" "+t._s(t.$plus?"More weather info →":"Current conditions and 7-day forecast →")+" "),e("base-icon",{staticClass:"icon-external",attrs:{src:"icon-external-link",size:"10px"}})],1):t._e(),e("img",{staticClass:"source-logo",attrs:{src:"/assets/png/logo-accuweather-BrOG6cnu.png"}})])]},proxy:!0},{key:"confirm",fn:function(){return[t.typeaheadShowing?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeTypeahead,expression:"closeTypeahead"}],staticClass:"weather-typeahead",attrs:{"data-test":"typeahead"}},[e("location-typeahead",{attrs:{type:"location"},on:{input:t.setLocation}},[e("div",{staticClass:"input-icons"},[e("div",{staticClass:"icon-wrapper",on:{click:function(e){return t.setLocation(null,!1)}}},[e("base-icon",{attrs:{src:"icon-weather-reset",size:"14px"}})],1),e("div",{staticClass:"icon-wrapper",attrs:{"data-test":"clear-icon"},on:{click:t.closeTypeahead}},[e("base-icon",{attrs:{src:"icon-close",size:"12px"}})],1)])])],1):t._e()]},proxy:!0}])})],1)],1)}),[],!1,null,"ff3fd5ea").exports;export{C as default};