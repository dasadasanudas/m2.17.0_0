import{a as t,A as e}from"./AppView-CLCF208Q.js";import{a4 as n,n as s,aM as i,_ as o,A as r,d as a,w as c,r as l,B as u,y as d,L as h,x as p,q as g,b as f,Z as k}from"./icon-alert-Cei3Tz55.js";import{N as _,S as b,a as v,b as y,A as C,c as D,d as A,e as w,m as E,w as x,M as S,f as F,g as L,h as T,i as M,t as z,P as B,j as I,T as N,k as O,E as H,l as j,n as R,F as P,o as $,D as q,p as V,q as U,r as Z,s as W,v as G,x as K,y as J,z as Q,B as Y,C as X,G as tt,H as et,I as nt,J as st,K as it,L as ot,O as rt,Q as at,R as ct,u as lt,U as ut,V as dt,W as ht,X as pt,Y as mt,Z as gt,_ as ft,$ as kt,a0 as _t,a1 as bt,a2 as vt,a3 as yt,a4 as Ct,a5 as Dt,a6 as At,a7 as wt,a8 as Et,a9 as xt,aa as St,ab as Ft,ac as Lt}from"./notes-BFFsuu6k.js";import{A as Tt}from"./AppPopup-BwTiSELh.js";import{A as Mt}from"./AppLoading-B4vn2HVx.js";import{A as zt}from"./AppEmpty-ChhIi3BX.js";import{a as Bt,c as It}from"./AppHeader-qzvUiXuB.js";import{B as Nt}from"./BaseDropdownOption--ggIz8bI.js";import{B as Ot}from"./BaseItemList-DZ-fAhZy.js";import{B as Ht}from"./BaseDropdown-BnEBcF3g.js";import{A as jt}from"./AppHeaderControl-DmqWUMjw.js";import{a as Rt,D as Pt}from"./constants-CALDQiUE.js";import{B as $t,a as qt}from"./BaseDropdownContent-CE_Bs11r.js";import{_ as Vt}from"./arrow-Be8MuPJi.js";import{d as Ut,a as Zt,e as Wt,f as Gt,g as Kt,h as Jt,b as Qt,i as Yt,c as Xt,j as te,k as ee,l as ne,m as se,n as ie,o as oe,p as re,_ as ae,q as ce,r as le,s as ue,t as de,u as he,v as pe,w as me,x as ge,y as fe,z as ke,A as _e,B as be,C as ve,D as ye,E as Ce,F as De,G as Ae}from"./icon-weather-reset-CoyptBb8.js";import{a as we,b as Ee,_ as xe}from"./icon-settings-Bycjf8-G.js";import{_ as Se}from"./icon-back-arrow-CiRQJ6G-.js";import{_ as Fe}from"./icon-back-D_TFrgyJ.js";import{_ as Le,a as Te,b as Me,c as ze}from"./icon-trash-BQ1O-AfY.js";import{_ as Be}from"./icon-close-BUGl_M7j.js";import{_ as Ie}from"./icon-cog-BFr_Pva7.js";import{_ as Ne,a as Oe}from"./icon-skip-BOkC5L0N.js";import{_ as He}from"./icon-down-BiHbKN-t.js";import{_ as je}from"./icon-edit-CixeXNYx.js";import{_ as Re}from"./icon-ellipsis-D3jS4u3x.js";import{_ as Pe}from"./icon-error-state-BKQhfBCj.js";import{_ as $e}from"./icon-heart-v5O7C6eS.js";import{_ as qe}from"./icon-hide-NFfBhfBx.js";import{_ as Ve}from"./icon-key-BPNRipb3.js";import{_ as Ue}from"./icon-next-B4hjdiAA.js";import{_ as Ze}from"./icon-photo-BrwqV1T0.js";import{_ as We}from"./icon-pin-BHeOuzvO.js";import{_ as Ge}from"./icon-plus-D4YOesIc.js";import{_ as Ke}from"./icon-profile-B_XWyuTb.js";import{_ as Je,a as Qe}from"./icon-x-qUCmf2CW.js";import{_ as Ye}from"./icon-skip-intro-BUi8b3Ak.js";import{_ as Xe}from"./icon-tooltip-CN09iXOB.js";import{_ as tn,a as en}from"./icon-visible-on-CM3kpcFN.js";import{_ as nn}from"./icon-x-caret-half-CZtcH_PM.js";import{l as sn,m as on,n as rn,o as an,p as cn,q as ln,r as un,s as dn,t as hn,u as pn,v as mn,w as gn,x as fn,y as kn,z as _n,A as bn,C as vn,D as yn,E as Cn,F as Dn,G as An,H as wn,I as En,J as xn,K as Sn,L as Fn,M as Ln,N as Tn,O as Mn,P as zn,Q as Bn,R as In,S as Nn,T as On,U as Hn,V as jn,W as Rn,X as Pn,Y as $n,Z as qn,$ as Vn,a0 as Un,a1 as Zn,a2 as Wn,a3 as Gn,a4 as Kn,a5 as Jn,a6 as Qn,a7 as Yn,a8 as Xn,a9 as ts,aa as es,ab as ns,ac as ss,ad as is,ae as os,af as rs,ag as as,ah as cs,ai as ls,aj as us,ak as ds,al as hs,am as ps,an as ms,ao as gs,ap as fs,aq as ks,ar as _s,as as bs,at as vs,au as ys,av as Cs,aw as Ds,ax as As,ay as ws,az as Es,aA as xs,aB as Ss,aC as Fs,aD as Ls,aE as Ts,aF as Ms,aG as zs,aH as Bs,aI as Is,aJ as Ns,aK as Os,aL as Hs,aM as js,aN as Rs,aO as Ps,aP as $s,aQ as qs,aR as Vs,aS as Us,aT as Zs,aU as Ws,aV as Gs,aW as Ks,aX as Js,aY as Qs,aZ as Ys,a_ as Xs,a$ as ti,b0 as ei,b1 as ni,b2 as si,b3 as ii,b4 as oi,b5 as ri,b6 as ai,b7 as ci,b8 as li,b9 as ui,c as di,ba as hi,k as pi,bb as mi,bc as gi,bd as fi,a as ki,be as _i,bf as bi,g as vi,bg as yi,bh as Ci,bi as Di,bj as Ai,d as wi,bk as Ei,bl as xi,bm as Si,bn as Fi,b as Li,bo as Ti,bp as Mi,bq as zi,br as Bi,bs as Ii,bt as Ni,e as Oi,_ as Hi,bu as ji,bv as Ri,bw as Pi,i as $i,bx as qi,h as Vi,by as Ui,bz as Zi,bA as Wi,bB as Gi,bC as Ki,bD as Ji,bE as Qi,bF as Yi,bG as Xi,j as to,bH as eo,bI as no,bJ as so,bK as io,bL as oo,bM as ro,f as ao,bN as co,B as lo}from"./BaseIcon-DKpoUDYB.js";import{_ as uo,a as ho,b as po,c as mo}from"./tasks-completed-Dg2z75km.js";import{_ as go}from"./add-COIuonao.js";import{_ as fo,a as ko,f as _o,g as bo,d as vo,e as yo,b as Co,c as Do,h as Ao,i as wo}from"./google-DKPAcOmk.js";import{_ as Eo}from"./arrow-up-1QPpu78M.js";import{a as xo,b as So,_ as Fo}from"./square-check-DwLT60gj.js";import{a as Lo,_ as To,b as Mo}from"./clocks-DjzskNOU.js";import{_ as zo}from"./close-Bj_A2br_.js";import{a as Bo,_ as Io}from"./search-DCqlmJx6.js";import{_ as No}from"./folder-CwWTWsnJ.js";import{_ as Oo}from"./switch-EuBTQVVE.js";import{_ as Ho}from"./focus-mode-09pIyYAW.js";import{_ as jo,a as Ro,b as Po}from"./storage-YYEO5TB5.js";import{_ as $o}from"./icon-confetti-Dz2LojDe.js";import{_ as qo,a as Vo}from"./sparks-CAw9b6ob.js";import{a as Uo,_ as Zo}from"./secure-B8YP-AML.js";import{_ as Wo}from"./icon-asana-Csd73e1k.js";import{b as Go,_ as Ko,a as Jo}from"./icon-soundwave-CtfxieWt.js";import{a as Qo,_ as Yo}from"./icon-percent-schedule-CA5EI9b7.js";import{b as Xo,c as tr,d as er,e as nr,f as sr,a as ir,g as or,h as rr,i as ar,j as cr,_ as lr,k as ur,l as dr,m as hr}from"./icon-trello-DeIn-36G.js";import{_ as pr}from"./icon-clean-rFsPxTtp.js";import{_ as mr,a as gr,b as fr}from"./icon-more-lists-Cl9oRGK2.js";import{a as kr,_ as _r}from"./icon-more-fonts-CcfOY0t4.js";import{_ as br,a as vr}from"./icon-focus-stats-keERwXFt.js";import{_ as yr,a as Cr,b as Dr}from"./icon-top-of-mind-B6EhbCcK.js";import{_ as Ar}from"./icon-flow-5QqmGIWX.js";import{a as wr,_ as Er}from"./icon-integrations-D9o58ob4.js";import{_ as xr,a as Sr}from"./icon-weather-extra-ufLpT_SX.js";import{a as Fr,_ as Lr}from"./icon-spiral-gh4hwZDD.js";import{_ as Tr,a as Mr}from"./icon-time-sensitive-CP2L3maw.js";import{_ as zr}from"./icon-hourly-CdMmiQZT.js";import{_ as Br}from"./icon-infinity-D4yMRoAd.js";import{_ as Ir}from"./icon-personalize-photos-D2M4lLlt.js";import{a as Nr,_ as Or}from"./icon-skip-2bGCAGKt.js";import{_ as Hr}from"./icon-photo-match-C2EChNEK.js";import{_ as jr}from"./icon-random-375DbcwF.js";import{_ as Rr,a as Pr}from"./icon-timezones-DGZoTtaT.js";import{_ as $r}from"./icon-simplify-BRUtLJYp.js";import{_ as qr}from"./icon-sync-DIH26Y9h.js";import{u as Vr}from"./ViewState-Wts6aMTb.js";import{B as Ur}from"./BaseDropdownDivider-BDCJHxgS.js";import{S as Zr}from"./SmoothReflow-DOlTFzdt.js";import{f as Wr}from"./flashMessageMixin-CIN22zc0.js";import{B as Gr}from"./BaseDropdownText-CBFPvlq-.js";import{y as Kr}from"./index-xreAsusa.js";import{u as Jr}from"./notesViewState-BQl9XJ_e.js";import{g as Qr}from"./globalKeyEventManager-2_REwTdI.js";import{u as Yr}from"./preload-helper-xKIU3iAw.js";import{c as Xr,a as ta}from"./reactiveCustomization-D0v-tpvX.js";import{d as ea}from"./index-CAmMGhGv.js";import"./localStorage-BThj8CCp.js";import"./string-CbqVM-Zr.js";import"./compareObjects-BF7sSNEf.js";import"./constants-BpVlFj04.js";import"./allComponentsMounted-C3UsG_cA.js";import"./portal-vue.esm-D8ZiK_2v.js";import"./main-Bw6ngw5x.js";import"./migrateLegacyUserMessageHandler-aPkGeFs_.js";import"./VueBase-DhIJfHAY.js";import"./index-CJJH83pl.js";const{Axios:na,AxiosError:sa,CanceledError:ia,isCancel:oa,CancelToken:ra,VERSION:aa,all:ca,Cancel:la,isAxiosError:ua,spread:da,toFormData:ha,AxiosHeaders:pa,HttpStatusCode:ma,formToJSON:ga,getAdapter:fa,mergeConfig:ka}=n;const _a=s({name:"AppViewSwitch",mixins:[t]},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-view-switch app-view-switch-static",class:{transitioning:t.transitionActive}},[e("transition",{attrs:{name:t.transitionType,duration:300},on:{beforeLeave:t.beforeTransition,beforeEnter:t.beforeTransition,afterEnter:t.afterTransition}},[e("div",{key:t.orderKey},[t._t("default")],2)])],1)}),[],!1,null,"85ff11de").exports;const ba=s({name:"NotesListItem",props:{note:{type:_,required:!0},active:{type:Boolean,required:!0}},emits:["click"],computed:{titlePreview(){return this.note.preview.slice(0,b)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-list-item",class:{active:t.active},attrs:{"data-test":"list-item"},on:{click:function(e){return t.$emit("click")}}},[e("div",{staticClass:"notes-list-item-title",attrs:{"data-test":"list-title"}},[t._v(" "+t._s(t.titlePreview)+" ")])])}),[],!1,null,"1f87fcaf").exports;const va=s({name:"NotesEditorToolbarButton",props:{icon:{type:String,required:!0},active:{type:Boolean,default:!1},title:{type:String,required:!0}},emits:["click"]},(function(){var t=this,e=t._self._c;return e("button",{staticClass:"notes-editor-toolbar-button icon-wrapper",class:{active:t.active},attrs:{title:t.title},on:{click:function(e){return t.$emit("click",e)}}},[e("inline-svg",{staticClass:"icon icon-toolbar",attrs:{src:ya(`../../../img/${t.icon}.svg`)}})],1)}),[],!1,null,"d384c5bf").exports;function ya(t){switch(t){case"../../../img/arrow":case"../../../img/arrow.svg":return Vt;case"../../../img/icon-add-circle-clear":case"../../../img/icon-add-circle-clear.svg":return Ae;case"../../../img/icon-add-circle":case"../../../img/icon-add-circle.svg":return De;case"../../../img/icon-add-member":case"../../../img/icon-add-member.svg":return xe;case"../../../img/icon-alert":case"../../../img/icon-alert.svg":return o;case"../../../img/icon-announcement":case"../../../img/icon-announcement.svg":return Ee;case"../../../img/icon-apple":case"../../../img/icon-apple.svg":return Ce;case"../../../img/icon-apps":case"../../../img/icon-apps.svg":return ye;case"../../../img/icon-archive":case"../../../img/icon-archive.svg":return ve;case"../../../img/icon-arrow":case"../../../img/icon-arrow.svg":return be;case"../../../img/icon-back-arrow":case"../../../img/icon-back-arrow.svg":return Se;case"../../../img/icon-back":case"../../../img/icon-back.svg":return Fe;case"../../../img/icon-bottom-link":case"../../../img/icon-bottom-link.svg":return _e;case"../../../img/icon-check-green":case"../../../img/icon-check-green.svg":return ke;case"../../../img/icon-check":case"../../../img/icon-check.svg":return fe;case"../../../img/icon-chrome":case"../../../img/icon-chrome.svg":return ge;case"../../../img/icon-circle":case"../../../img/icon-circle.svg":return ze;case"../../../img/icon-clocks":case"../../../img/icon-clocks.svg":return me;case"../../../img/icon-close":case"../../../img/icon-close.svg":return Be;case"../../../img/icon-cog":case"../../../img/icon-cog.svg":return Ie;case"../../../img/icon-countdowns":case"../../../img/icon-countdowns.svg":return pe;case"../../../img/icon-dislike-light":case"../../../img/icon-dislike-light.svg":return he;case"../../../img/icon-dislike":case"../../../img/icon-dislike.svg":return Oe;case"../../../img/icon-down-light":case"../../../img/icon-down-light.svg":return Me;case"../../../img/icon-down":case"../../../img/icon-down.svg":return He;case"../../../img/icon-edge":case"../../../img/icon-edge.svg":return de;case"../../../img/icon-edit":case"../../../img/icon-edit.svg":return je;case"../../../img/icon-ellipsis":case"../../../img/icon-ellipsis.svg":return Re;case"../../../img/icon-error-state":case"../../../img/icon-error-state.svg":return Pe;case"../../../img/icon-external-link":case"../../../img/icon-external-link.svg":return ue;case"../../../img/icon-heart-empty":case"../../../img/icon-heart-empty.svg":return le;case"../../../img/icon-heart":case"../../../img/icon-heart.svg":return $e;case"../../../img/icon-help":case"../../../img/icon-help.svg":return ce;case"../../../img/icon-hide":case"../../../img/icon-hide.svg":return qe;case"../../../img/icon-key":case"../../../img/icon-key.svg":return Ve;case"../../../img/icon-lock":case"../../../img/icon-lock.svg":return ae;case"../../../img/icon-log-in":case"../../../img/icon-log-in.svg":return Te;case"../../../img/icon-menu":case"../../../img/icon-menu.svg":return re;case"../../../img/icon-metrics":case"../../../img/icon-metrics.svg":return oe;case"../../../img/icon-next":case"../../../img/icon-next.svg":return Ue;case"../../../img/icon-pause":case"../../../img/icon-pause.svg":return ie;case"../../../img/icon-percent":case"../../../img/icon-percent.svg":return se;case"../../../img/icon-photo":case"../../../img/icon-photo.svg":return Ze;case"../../../img/icon-pin-empty-light":case"../../../img/icon-pin-empty-light.svg":return ne;case"../../../img/icon-pin-empty":case"../../../img/icon-pin-empty.svg":return ee;case"../../../img/icon-pin-light":case"../../../img/icon-pin-light.svg":return te;case"../../../img/icon-pin":case"../../../img/icon-pin.svg":return We;case"../../../img/icon-play":case"../../../img/icon-play.svg":return Xt;case"../../../img/icon-plus":case"../../../img/icon-plus.svg":return Ge;case"../../../img/icon-pointer":case"../../../img/icon-pointer.svg":return Yt;case"../../../img/icon-pomodoro":case"../../../img/icon-pomodoro.svg":return Qt;case"../../../img/icon-profile":case"../../../img/icon-profile.svg":return Ke;case"../../../img/icon-quotes":case"../../../img/icon-quotes.svg":return Qe;case"../../../img/icon-refresh":case"../../../img/icon-refresh.svg":return Jt;case"../../../img/icon-restore":case"../../../img/icon-restore.svg":return Kt;case"../../../img/icon-settings":case"../../../img/icon-settings.svg":return we;case"../../../img/icon-skip-intro":case"../../../img/icon-skip-intro.svg":return Ye;case"../../../img/icon-skip":case"../../../img/icon-skip.svg":return Ne;case"../../../img/icon-subtract":case"../../../img/icon-subtract.svg":return Gt;case"../../../img/icon-tooltip":case"../../../img/icon-tooltip.svg":return Xe;case"../../../img/icon-topics":case"../../../img/icon-topics.svg":return Wt;case"../../../img/icon-trash":case"../../../img/icon-trash.svg":return Le;case"../../../img/icon-unarchive":case"../../../img/icon-unarchive.svg":return Zt;case"../../../img/icon-visible-off":case"../../../img/icon-visible-off.svg":return en;case"../../../img/icon-visible-on":case"../../../img/icon-visible-on.svg":return tn;case"../../../img/icon-weather-reset":case"../../../img/icon-weather-reset.svg":return Ut;case"../../../img/icon-x-caret-half":case"../../../img/icon-x-caret-half.svg":return nn;case"../../../img/icon-x":case"../../../img/icon-x.svg":return Je;case"../../../img/paywall-timeline":case"../../../img/paywall-timeline.svg":return co;case"../../../img/pomodoro-circle":case"../../../img/pomodoro-circle.svg":return ao;case"../../../img/star-rating":case"../../../img/star-rating.svg":return ro;case"../../../img/star":case"../../../img/star.svg":return mo;case"../../../img/thanks":case"../../../img/thanks.svg":return oo;case"../../../img/icon/add":case"../../../img/icon/add.svg":return go;case"../../../img/icon/ai":case"../../../img/icon/ai.svg":return wo;case"../../../img/icon/apps":case"../../../img/icon/apps.svg":return io;case"../../../img/icon/arrow-down":case"../../../img/icon/arrow-down.svg":return so;case"../../../img/icon/arrow-left":case"../../../img/icon/arrow-left.svg":return no;case"../../../img/icon/arrow-right":case"../../../img/icon/arrow-right.svg":return eo;case"../../../img/icon/arrow-up":case"../../../img/icon/arrow-up.svg":return Eo;case"../../../img/icon/ban":case"../../../img/icon/ban.svg":return Fo;case"../../../img/icon/biceps-flexed":case"../../../img/icon/biceps-flexed.svg":return So;case"../../../img/icon/chevron-down":case"../../../img/icon/chevron-down.svg":return to;case"../../../img/icon/chevron-left":case"../../../img/icon/chevron-left.svg":return Xi;case"../../../img/icon/chevron-right":case"../../../img/icon/chevron-right.svg":return Yi;case"../../../img/icon/chevron-up":case"../../../img/icon/chevron-up.svg":return Qi;case"../../../img/icon/clock":case"../../../img/icon/clock.svg":return Ji;case"../../../img/icon/clocks":case"../../../img/icon/clocks.svg":return Mo;case"../../../img/icon/close":case"../../../img/icon/close.svg":return zo;case"../../../img/icon/collapse":case"../../../img/icon/collapse.svg":return Ki;case"../../../img/icon/countdowns":case"../../../img/icon/countdowns.svg":return To;case"../../../img/icon/countup":case"../../../img/icon/countup.svg":return Gi;case"../../../img/icon/delete":case"../../../img/icon/delete.svg":return Wi;case"../../../img/icon/denied":case"../../../img/icon/denied.svg":return Zi;case"../../../img/icon/down":case"../../../img/icon/down.svg":return Ui;case"../../../img/icon/drag":case"../../../img/icon/drag.svg":return Vi;case"../../../img/icon/expand":case"../../../img/icon/expand.svg":return qi;case"../../../img/icon/external-link":case"../../../img/icon/external-link.svg":return $i;case"../../../img/icon/focus":case"../../../img/icon/focus.svg":return Io;case"../../../img/icon/folder-2":case"../../../img/icon/folder-2.svg":return Pi;case"../../../img/icon/folder-3":case"../../../img/icon/folder-3.svg":return Ri;case"../../../img/icon/folder":case"../../../img/icon/folder.svg":return No;case"../../../img/icon/info":case"../../../img/icon/info.svg":return i;case"../../../img/icon/internal-link":case"../../../img/icon/internal-link.svg":return ji;case"../../../img/icon/links-fallback":case"../../../img/icon/links-fallback.svg":return Hi;case"../../../img/icon/links":case"../../../img/icon/links.svg":return Oi;case"../../../img/icon/logo":case"../../../img/icon/logo.svg":return Ni;case"../../../img/icon/metrics":case"../../../img/icon/metrics.svg":return Lo;case"../../../img/icon/notes":case"../../../img/icon/notes.svg":return Ii;case"../../../img/icon/pause":case"../../../img/icon/pause.svg":return Bi;case"../../../img/icon/pin":case"../../../img/icon/pin.svg":return zi;case"../../../img/icon/pip":case"../../../img/icon/pip.svg":return Mi;case"../../../img/icon/play":case"../../../img/icon/play.svg":return Ti;case"../../../img/icon/pomodoro":case"../../../img/icon/pomodoro.svg":return Li;case"../../../img/icon/search":case"../../../img/icon/search.svg":return Ao;case"../../../img/icon/sidebar":case"../../../img/icon/sidebar.svg":return Fi;case"../../../img/icon/sliders-horizontal":case"../../../img/icon/sliders-horizontal.svg":return Si;case"../../../img/icon/soundscapes-variant":case"../../../img/icon/soundscapes-variant.svg":return xi;case"../../../img/icon/square-check":case"../../../img/icon/square-check.svg":return xo;case"../../../img/icon/stop":case"../../../img/icon/stop.svg":return Ei;case"../../../img/icon/switch":case"../../../img/icon/switch.svg":return Oo;case"../../../img/icon/tabs":case"../../../img/icon/tabs.svg":return wi;case"../../../img/icon/topics":case"../../../img/icon/topics.svg":return Ai;case"../../../img/icon/undelete":case"../../../img/icon/undelete.svg":return Di;case"../../../img/icon/unpin":case"../../../img/icon/unpin.svg":return Ci;case"../../../img/icon/weather":case"../../../img/icon/weather.svg":return yi;case"../../../img/upgrade/upgrade-tiles-overview":case"../../../img/upgrade/upgrade-tiles-overview.svg":return vi;case"../../../img/icon/actions/info":case"../../../img/icon/actions/info.svg":return bi;case"../../../img/icon/apps/app-launcher":case"../../../img/icon/apps/app-launcher.svg":return _i;case"../../../img/icon/apps/focus-mode-fill":case"../../../img/icon/apps/focus-mode-fill.svg":return ki;case"../../../img/icon/apps/focus-mode":case"../../../img/icon/apps/focus-mode.svg":return Ho;case"../../../img/icon/apps/notes":case"../../../img/icon/apps/notes.svg":return fi;case"../../../img/icon/apps/search":case"../../../img/icon/apps/search.svg":return Bo;case"../../../img/icon/apps/settings":case"../../../img/icon/apps/settings.svg":return gi;case"../../../img/icon/apps/site-blocker-fill":case"../../../img/icon/apps/site-blocker-fill.svg":return mi;case"../../../img/icon/apps/site-blocker":case"../../../img/icon/apps/site-blocker.svg":return pi;case"../../../img/icon/apps/sounds-fill":case"../../../img/icon/apps/sounds-fill.svg":return hi;case"../../../img/icon/apps/sounds":case"../../../img/icon/apps/sounds.svg":return di;case"../../../img/icon/apps/tasks-fill":case"../../../img/icon/apps/tasks-fill.svg":return ui;case"../../../img/icon/apps/tasks":case"../../../img/icon/apps/tasks.svg":return li;case"../../../img/icon/apps/topics":case"../../../img/icon/apps/topics.svg":return ci;case"../../../img/icon/dev-panel/home-outline":case"../../../img/icon/dev-panel/home-outline.svg":return Po;case"../../../img/icon/dev-panel/home":case"../../../img/icon/dev-panel/home.svg":return Ro;case"../../../img/icon/dev-panel/storage":case"../../../img/icon/dev-panel/storage.svg":return jo;case"../../../img/icon/focus/icon-check":case"../../../img/icon/focus/icon-check.svg":return ai;case"../../../img/icon/focus/icon-confetti":case"../../../img/icon/focus/icon-confetti.svg":return $o;case"../../../img/icon/location/map-pin":case"../../../img/icon/location/map-pin.svg":return ri;case"../../../img/icon/location/map-pinned":case"../../../img/icon/location/map-pinned.svg":return oi;case"../../../img/icon/media/skip-forward":case"../../../img/icon/media/skip-forward.svg":return ii;case"../../../img/icon/notes/bold":case"../../../img/icon/notes/bold.svg":return si;case"../../../img/icon/notes/h1":case"../../../img/icon/notes/h1.svg":return ni;case"../../../img/icon/notes/h2":case"../../../img/icon/notes/h2.svg":return ei;case"../../../img/icon/notes/highlight":case"../../../img/icon/notes/highlight.svg":return ti;case"../../../img/icon/notes/italic":case"../../../img/icon/notes/italic.svg":return Xs;case"../../../img/icon/notes/link":case"../../../img/icon/notes/link.svg":return Ys;case"../../../img/icon/notes/linked-note":case"../../../img/icon/notes/linked-note.svg":return Qs;case"../../../img/icon/notes/list":case"../../../img/icon/notes/list.svg":return Js;case"../../../img/icon/notes/strikethrough":case"../../../img/icon/notes/strikethrough.svg":return Ks;case"../../../img/icon/notes/underline":case"../../../img/icon/notes/underline.svg":return Gs;case"../../../img/icon/onboarding/icon-autofocus":case"../../../img/icon/onboarding/icon-autofocus.svg":return Ws;case"../../../img/icon/onboarding/icon-countdown":case"../../../img/icon/onboarding/icon-countdown.svg":return Zs;case"../../../img/icon/onboarding/icon-custom-content":case"../../../img/icon/onboarding/icon-custom-content.svg":return Us;case"../../../img/icon/onboarding/icon-daily-focus":case"../../../img/icon/onboarding/icon-daily-focus.svg":return Vs;case"../../../img/icon/onboarding/icon-links":case"../../../img/icon/onboarding/icon-links.svg":return qs;case"../../../img/icon/onboarding/icon-mantras":case"../../../img/icon/onboarding/icon-mantras.svg":return $s;case"../../../img/icon/onboarding/icon-metrics":case"../../../img/icon/onboarding/icon-metrics.svg":return Ps;case"../../../img/icon/onboarding/icon-more-functionality":case"../../../img/icon/onboarding/icon-more-functionality.svg":return Rs;case"../../../img/icon/onboarding/icon-notes":case"../../../img/icon/onboarding/icon-notes.svg":return js;case"../../../img/icon/onboarding/icon-photos":case"../../../img/icon/onboarding/icon-photos.svg":return Hs;case"../../../img/icon/onboarding/icon-quotes":case"../../../img/icon/onboarding/icon-quotes.svg":return Os;case"../../../img/icon/onboarding/icon-todo-integrations":case"../../../img/icon/onboarding/icon-todo-integrations.svg":return Ns;case"../../../img/icon/onboarding/icon-todo":case"../../../img/icon/onboarding/icon-todo.svg":return Is;case"../../../img/icon/pomodoro/icon-forward":case"../../../img/icon/pomodoro/icon-forward.svg":return Bs;case"../../../img/icon/pomodoro/icon-plus":case"../../../img/icon/pomodoro/icon-plus.svg":return zs;case"../../../img/icon/pomodoro/icon-restart":case"../../../img/icon/pomodoro/icon-restart.svg":return Ms;case"../../../img/icon/search/bing-white":case"../../../img/icon/search/bing-white.svg":return Do;case"../../../img/icon/search/bing":case"../../../img/icon/search/bing.svg":return Co;case"../../../img/icon/search/duckduckgo-white":case"../../../img/icon/search/duckduckgo-white.svg":return yo;case"../../../img/icon/search/duckduckgo":case"../../../img/icon/search/duckduckgo.svg":return vo;case"../../../img/icon/search/ecosia-white":case"../../../img/icon/search/ecosia-white.svg":return bo;case"../../../img/icon/search/ecosia":case"../../../img/icon/search/ecosia.svg":return _o;case"../../../img/icon/search/google-white":case"../../../img/icon/search/google-white.svg":return ko;case"../../../img/icon/search/google":case"../../../img/icon/search/google.svg":return fo;case"../../../img/icon/sounds/air-vent":case"../../../img/icon/sounds/air-vent.svg":return Ts;case"../../../img/icon/sounds/binaural-alpha":case"../../../img/icon/sounds/binaural-alpha.svg":return Ls;case"../../../img/icon/sounds/binaural-beta":case"../../../img/icon/sounds/binaural-beta.svg":return Fs;case"../../../img/icon/sounds/binaural-delta":case"../../../img/icon/sounds/binaural-delta.svg":return Ss;case"../../../img/icon/sounds/binaural-gamma":case"../../../img/icon/sounds/binaural-gamma.svg":return xs;case"../../../img/icon/sounds/binaural-theta":case"../../../img/icon/sounds/binaural-theta.svg":return Es;case"../../../img/icon/sounds/binaural":case"../../../img/icon/sounds/binaural.svg":return ws;case"../../../img/icon/sounds/bird":case"../../../img/icon/sounds/bird.svg":return As;case"../../../img/icon/sounds/bug":case"../../../img/icon/sounds/bug.svg":return Ds;case"../../../img/icon/sounds/building":case"../../../img/icon/sounds/building.svg":return Cs;case"../../../img/icon/sounds/chimes":case"../../../img/icon/sounds/chimes.svg":return ys;case"../../../img/icon/sounds/cloud-lightning":case"../../../img/icon/sounds/cloud-lightning.svg":return vs;case"../../../img/icon/sounds/cloud-rain-wind":case"../../../img/icon/sounds/cloud-rain-wind.svg":return bs;case"../../../img/icon/sounds/cloud-rain":case"../../../img/icon/sounds/cloud-rain.svg":return _s;case"../../../img/icon/sounds/coffee":case"../../../img/icon/sounds/coffee.svg":return ks;case"../../../img/icon/sounds/coffeemaker":case"../../../img/icon/sounds/coffeemaker.svg":return fs;case"../../../img/icon/sounds/creek":case"../../../img/icon/sounds/creek.svg":return gs;case"../../../img/icon/sounds/custom":case"../../../img/icon/sounds/custom.svg":return ms;case"../../../img/icon/sounds/droplets":case"../../../img/icon/sounds/droplets.svg":return ps;case"../../../img/icon/sounds/flame-kindling":case"../../../img/icon/sounds/flame-kindling.svg":return hs;case"../../../img/icon/sounds/flame":case"../../../img/icon/sounds/flame.svg":return ds;case"../../../img/icon/sounds/fluorescent":case"../../../img/icon/sounds/fluorescent.svg":return us;case"../../../img/icon/sounds/garden":case"../../../img/icon/sounds/garden.svg":return ls;case"../../../img/icon/sounds/keyboard":case"../../../img/icon/sounds/keyboard.svg":return cs;case"../../../img/icon/sounds/music":case"../../../img/icon/sounds/music.svg":return as;case"../../../img/icon/sounds/noise-brown":case"../../../img/icon/sounds/noise-brown.svg":return rs;case"../../../img/icon/sounds/noise-green":case"../../../img/icon/sounds/noise-green.svg":return os;case"../../../img/icon/sounds/noise-pink":case"../../../img/icon/sounds/noise-pink.svg":return is;case"../../../img/icon/sounds/noise-white":case"../../../img/icon/sounds/noise-white.svg":return ss;case"../../../img/icon/sounds/ocean-bubbles":case"../../../img/icon/sounds/ocean-bubbles.svg":return ns;case"../../../img/icon/sounds/ocean-splash":case"../../../img/icon/sounds/ocean-splash.svg":return es;case"../../../img/icon/sounds/palm-tree-island-sun":case"../../../img/icon/sounds/palm-tree-island-sun.svg":return ts;case"../../../img/icon/sounds/plane":case"../../../img/icon/sounds/plane.svg":return Xn;case"../../../img/icon/sounds/printer":case"../../../img/icon/sounds/printer.svg":return Yn;case"../../../img/icon/sounds/sailboat":case"../../../img/icon/sounds/sailboat.svg":return Qn;case"../../../img/icon/sounds/ship":case"../../../img/icon/sounds/ship.svg":return Jn;case"../../../img/icon/sounds/speech-blocker":case"../../../img/icon/sounds/speech-blocker.svg":return Kn;case"../../../img/icon/sounds/speech":case"../../../img/icon/sounds/speech.svg":return Gn;case"../../../img/icon/sounds/tent-tree":case"../../../img/icon/sounds/tent-tree.svg":return Wn;case"../../../img/icon/sounds/train-front":case"../../../img/icon/sounds/train-front.svg":return Zn;case"../../../img/icon/sounds/train-track":case"../../../img/icon/sounds/train-track.svg":return Un;case"../../../img/icon/sounds/trees":case"../../../img/icon/sounds/trees.svg":return Vn;case"../../../img/icon/sounds/umbrella":case"../../../img/icon/sounds/umbrella.svg":return qn;case"../../../img/icon/sounds/waves-birds":case"../../../img/icon/sounds/waves-birds.svg":return $n;case"../../../img/icon/sounds/waves":case"../../../img/icon/sounds/waves.svg":return Pn;case"../../../img/icon/sounds/white-noise":case"../../../img/icon/sounds/white-noise.svg":return Rn;case"../../../img/icon/sounds/wind":case"../../../img/icon/sounds/wind.svg":return jn;case"../../../img/icon/sounds/zap":case"../../../img/icon/sounds/zap.svg":return Hn;case"../../../img/icon/upsell/brain":case"../../../img/icon/upsell/brain.svg":return Vo;case"../../../img/icon/upsell/easy":case"../../../img/icon/upsell/easy.svg":return Zo;case"../../../img/icon/upsell/icon-asana":case"../../../img/icon/upsell/icon-asana.svg":return Wo;case"../../../img/icon/upsell/icon-audio-file":case"../../../img/icon/upsell/icon-audio-file.svg":return Jo;case"../../../img/icon/upsell/icon-balance":case"../../../img/icon/upsell/icon-balance.svg":return Yo;case"../../../img/icon/upsell/icon-basecamp":case"../../../img/icon/upsell/icon-basecamp.svg":return hr;case"../../../img/icon/upsell/icon-clean":case"../../../img/icon/upsell/icon-clean.svg":return pr;case"../../../img/icon/upsell/icon-clickup":case"../../../img/icon/upsell/icon-clickup.svg":return dr;case"../../../img/icon/upsell/icon-color":case"../../../img/icon/upsell/icon-color.svg":return fr;case"../../../img/icon/upsell/icon-custom-soundscapes":case"../../../img/icon/upsell/icon-custom-soundscapes.svg":return ur;case"../../../img/icon/upsell/icon-custom-theme":case"../../../img/icon/upsell/icon-custom-theme.svg":return _r;case"../../../img/icon/upsell/icon-customize-timers":case"../../../img/icon/upsell/icon-customize-timers.svg":return vr;case"../../../img/icon/upsell/icon-easy-access":case"../../../img/icon/upsell/icon-easy-access.svg":return lr;case"../../../img/icon/upsell/icon-fitness":case"../../../img/icon/upsell/icon-fitness.svg":return Dr;case"../../../img/icon/upsell/icon-flow":case"../../../img/icon/upsell/icon-flow.svg":return Ar;case"../../../img/icon/upsell/icon-focus-stats":case"../../../img/icon/upsell/icon-focus-stats.svg":return br;case"../../../img/icon/upsell/icon-focused":case"../../../img/icon/upsell/icon-focused.svg":return Er;case"../../../img/icon/upsell/icon-fullscreen":case"../../../img/icon/upsell/icon-fullscreen.svg":return cr;case"../../../img/icon/upsell/icon-github":case"../../../img/icon/upsell/icon-github.svg":return ar;case"../../../img/icon/upsell/icon-global-weather":case"../../../img/icon/upsell/icon-global-weather.svg":return Sr;case"../../../img/icon/upsell/icon-google-tasks":case"../../../img/icon/upsell/icon-google-tasks.svg":return rr;case"../../../img/icon/upsell/icon-habit":case"../../../img/icon/upsell/icon-habit.svg":return Lr;case"../../../img/icon/upsell/icon-happy-place":case"../../../img/icon/upsell/icon-happy-place.svg":return or;case"../../../img/icon/upsell/icon-headphones":case"../../../img/icon/upsell/icon-headphones.svg":return Ko;case"../../../img/icon/upsell/icon-history":case"../../../img/icon/upsell/icon-history.svg":return Mr;case"../../../img/icon/upsell/icon-hourly":case"../../../img/icon/upsell/icon-hourly.svg":return zr;case"../../../img/icon/upsell/icon-hub":case"../../../img/icon/upsell/icon-hub.svg":return ir;case"../../../img/icon/upsell/icon-infinity":case"../../../img/icon/upsell/icon-infinity.svg":return Br;case"../../../img/icon/upsell/icon-integrations":case"../../../img/icon/upsell/icon-integrations.svg":return wr;case"../../../img/icon/upsell/icon-kanban":case"../../../img/icon/upsell/icon-kanban.svg":return gr;case"../../../img/icon/upsell/icon-microsoft-todo":case"../../../img/icon/upsell/icon-microsoft-todo.svg":return sr;case"../../../img/icon/upsell/icon-more-fonts":case"../../../img/icon/upsell/icon-more-fonts.svg":return kr;case"../../../img/icon/upsell/icon-more-lists":case"../../../img/icon/upsell/icon-more-lists.svg":return mr;case"../../../img/icon/upsell/icon-multiple-types":case"../../../img/icon/upsell/icon-multiple-types.svg":return Cr;case"../../../img/icon/upsell/icon-note-search":case"../../../img/icon/upsell/icon-note-search.svg":return nr;case"../../../img/icon/upsell/icon-percent-schedule":case"../../../img/icon/upsell/icon-percent-schedule.svg":return Qo;case"../../../img/icon/upsell/icon-personalize-photos":case"../../../img/icon/upsell/icon-personalize-photos.svg":return Ir;case"../../../img/icon/upsell/icon-personalize":case"../../../img/icon/upsell/icon-personalize.svg":return Or;case"../../../img/icon/upsell/icon-photo-match":case"../../../img/icon/upsell/icon-photo-match.svg":return Hr;case"../../../img/icon/upsell/icon-random":case"../../../img/icon/upsell/icon-random.svg":return jr;case"../../../img/icon/upsell/icon-search-loc":case"../../../img/icon/upsell/icon-search-loc.svg":return Pr;case"../../../img/icon/upsell/icon-simple-notes":case"../../../img/icon/upsell/icon-simple-notes.svg":return er;case"../../../img/icon/upsell/icon-simplify":case"../../../img/icon/upsell/icon-simplify.svg":return $r;case"../../../img/icon/upsell/icon-skip":case"../../../img/icon/upsell/icon-skip.svg":return Nr;case"../../../img/icon/upsell/icon-soundwave":case"../../../img/icon/upsell/icon-soundwave.svg":return Go;case"../../../img/icon/upsell/icon-spiral":case"../../../img/icon/upsell/icon-spiral.svg":return Fr;case"../../../img/icon/upsell/icon-sync":case"../../../img/icon/upsell/icon-sync.svg":return qr;case"../../../img/icon/upsell/icon-time-sensitive":case"../../../img/icon/upsell/icon-time-sensitive.svg":return Tr;case"../../../img/icon/upsell/icon-timezones":case"../../../img/icon/upsell/icon-timezones.svg":return Rr;case"../../../img/icon/upsell/icon-todoist":case"../../../img/icon/upsell/icon-todoist.svg":return tr;case"../../../img/icon/upsell/icon-top-of-mind":case"../../../img/icon/upsell/icon-top-of-mind.svg":return yr;case"../../../img/icon/upsell/icon-trello":case"../../../img/icon/upsell/icon-trello.svg":return Xo;case"../../../img/icon/upsell/icon-weather-extra":case"../../../img/icon/upsell/icon-weather-extra.svg":return xr;case"../../../img/icon/upsell/secure":case"../../../img/icon/upsell/secure.svg":return Uo;case"../../../img/icon/upsell/sparks":case"../../../img/icon/upsell/sparks.svg":return qo;case"../../../img/icon/weather/cloud-drizzle":case"../../../img/icon/weather/cloud-drizzle.svg":return On;case"../../../img/icon/weather/cloud-fog":case"../../../img/icon/weather/cloud-fog.svg":return Nn;case"../../../img/icon/weather/cloud-hail":case"../../../img/icon/weather/cloud-hail.svg":return In;case"../../../img/icon/weather/cloud-lightning":case"../../../img/icon/weather/cloud-lightning.svg":return Bn;case"../../../img/icon/weather/cloud-moon-rain":case"../../../img/icon/weather/cloud-moon-rain.svg":return zn;case"../../../img/icon/weather/cloud-moon":case"../../../img/icon/weather/cloud-moon.svg":return Mn;case"../../../img/icon/weather/cloud-rain-wind":case"../../../img/icon/weather/cloud-rain-wind.svg":return Tn;case"../../../img/icon/weather/cloud-rain":case"../../../img/icon/weather/cloud-rain.svg":return Ln;case"../../../img/icon/weather/cloud-snow":case"../../../img/icon/weather/cloud-snow.svg":return Fn;case"../../../img/icon/weather/cloud-sun-rain":case"../../../img/icon/weather/cloud-sun-rain.svg":return Sn;case"../../../img/icon/weather/cloud-sun":case"../../../img/icon/weather/cloud-sun.svg":return xn;case"../../../img/icon/weather/cloud":case"../../../img/icon/weather/cloud.svg":return En;case"../../../img/icon/weather/cloudy":case"../../../img/icon/weather/cloudy.svg":return wn;case"../../../img/icon/weather/haze":case"../../../img/icon/weather/haze.svg":return An;case"../../../img/icon/weather/moon-star":case"../../../img/icon/weather/moon-star.svg":return Dn;case"../../../img/icon/weather/moon":case"../../../img/icon/weather/moon.svg":return Cn;case"../../../img/icon/weather/not-today":case"../../../img/icon/weather/not-today.svg":return yn;case"../../../img/icon/weather/rainbow":case"../../../img/icon/weather/rainbow.svg":return vn;case"../../../img/icon/weather/snowflake":case"../../../img/icon/weather/snowflake.svg":return bn;case"../../../img/icon/weather/sun-dim":case"../../../img/icon/weather/sun-dim.svg":return _n;case"../../../img/icon/weather/sun-medium":case"../../../img/icon/weather/sun-medium.svg":return kn;case"../../../img/icon/weather/sun-moon":case"../../../img/icon/weather/sun-moon.svg":return fn;case"../../../img/icon/weather/sun-snow":case"../../../img/icon/weather/sun-snow.svg":return gn;case"../../../img/icon/weather/sun":case"../../../img/icon/weather/sun.svg":return mn;case"../../../img/icon/weather/sunrise":case"../../../img/icon/weather/sunrise.svg":return pn;case"../../../img/icon/weather/sunset":case"../../../img/icon/weather/sunset.svg":return hn;case"../../../img/icon/weather/thermometer-snowflake":case"../../../img/icon/weather/thermometer-snowflake.svg":return dn;case"../../../img/icon/weather/thermometer-sun":case"../../../img/icon/weather/thermometer-sun.svg":return un;case"../../../img/icon/weather/thermometer":case"../../../img/icon/weather/thermometer.svg":return ln;case"../../../img/icon/weather/wind":case"../../../img/icon/weather/wind.svg":return cn;case"../../../img/upgrade/stats/feel-focused":case"../../../img/upgrade/stats/feel-focused.svg":return po;case"../../../img/upgrade/stats/stay-on-task":case"../../../img/upgrade/stats/stay-on-task.svg":return ho;case"../../../img/upgrade/stats/tasks-completed":case"../../../img/upgrade/stats/tasks-completed.svg":return uo;case"../../../img/icon/sounds/volume/volume-1":case"../../../img/icon/sounds/volume/volume-1.svg":return an;case"../../../img/icon/sounds/volume/volume-2":case"../../../img/icon/sounds/volume/volume-2.svg":return rn;case"../../../img/icon/sounds/volume/volume-x":case"../../../img/icon/sounds/volume/volume-x.svg":return on;case"../../../img/icon/sounds/volume/volume":case"../../../img/icon/sounds/volume/volume.svg":return sn;default:throw new Error("Cann't found module: "+t)}}const Ca=s({name:"NotesEditorToolbarDivider"},(function(){return(0,this._self._c)("div",{staticClass:"notes-editor-toolbar-divider"})}),[],!1,null,"ce5580e9").exports;var Da=(t=>(t.ToolbarDefault="hidden",t.ToolbarLink="toolbarLink",t.AiActions="actions",t.AiHistory="history",t))(Da||{});const Aa=Vr("notesEditor",{views:{hidden:{defaultView:!0},toolbarLink:{},actions:{},history:{}}});const wa=s({name:"NotesEditorToolbar",components:{BaseDropdownContent:$t,NotesEditorToolbarDivider:Ca,NotesEditorToolbarButton:va,BaseDropdown:Ht},inject:["editorViewStateStore","viewStateStore","editorStore","notesEditorElement"],setup:()=>({DropdownPosition:Rt,DropdownAlignment:Pt}),data:()=>({linkUrl:""}),computed:{defaultVisible(){return this.editorViewStateStore.activeViewId===Da.ToolbarDefault},linkVisible(){return this.editorViewStateStore.activeViewId===Da.ToolbarLink},selectedText(){return this.editorStore.selectedText}},watch:{defaultVisible(){this.defaultVisible||this.closeDefaultDropdown(),this.openDefaultDropdownDebounce()},linkVisible(){this.linkVisible?(this.openLinkDropdown(),this.$nextTick().then((()=>this.$refs["link-input"].select()))):this.closeLinkDropdown()},linkUrl(){if(!this.linkUrl)return void this.editorStore.editor.chain().unsetLink().run();const t=(this.linkUrl.startsWith("http://")||this.linkUrl.startsWith("https://")?"":"https://")+this.linkUrl;this.editorStore.editor.chain().setLink({href:t}).run()}},mounted(){this.editorStore.editor.on("selectionUpdate",this.onSelectionUpdate)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.onSelectionUpdate)},methods:{onSelectionUpdate(){this.closeLinkDropdown(),this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(Da.ToolbarDefault),this.openDefaultDropdownDebounce(),m.off("globalEvent:metaK",this.editOrSetLink),this.selectedText&&m.on("globalEvent:metaK",this.editOrSetLink)},editLink(){this.linkUrl=this.editorStore.editor.getAttributes("link").href??"",this.editorViewStateStore.setActiveView(Da.ToolbarLink)},setLink(){this.editorStore.editor.commands.focus(),this.editorViewStateStore.setActiveView(Da.ToolbarDefault)},editOrSetLink(){this.editorViewStateStore.activeViewId===Da.ToolbarLink?this.setLink():this.editLink()},openDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].openDropdown()},openDefaultDropdownDebounce(){clearTimeout(this.defaultDropdownDebounce),this.defaultDropdownDebounce=setTimeout((()=>{if(!this.selectedText||!this.defaultVisible)return;this.editorStore.editor.state.selection.$from.parent.type.name!==v&&this.openDefaultDropdown()}),y)},closeDefaultDropdown(){this.$refs["notes-editor-toolbar-default"].closeDropdown()},openLinkDropdown(){this.$refs["notes-editor-toolbar-link"].openDropdown()},closeLinkDropdown(){this.$refs["notes-editor-toolbar-link"].closeDropdown()},openAi(){this.closeDefaultDropdown(),this.editorViewStateStore.setActiveView(Da.AiActions)},openNoteLinking(){this.closeDefaultDropdown(),this.editorStore.editor.commands.openLinkSuggestionAtSelection()}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-editor-toolbar"},[e("base-dropdown",{ref:"notes-editor-toolbar-default",staticClass:"notes-editor-toolbar-default",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Center,position:t.DropdownPosition.Top,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-toolbar-default-toggle"})]},proxy:!0}])},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-toolbar-default-content"},[e("notes-editor-toolbar-button",{attrs:{title:"Bold",active:t.editorStore.controlStates.bold,icon:"icon/notes/bold"},on:{click:t.editorStore.toggleBold}}),e("notes-editor-toolbar-button",{attrs:{title:"Italic",active:t.editorStore.controlStates.italic,icon:"icon/notes/italic"},on:{click:t.editorStore.toggleItalic}}),e("notes-editor-toolbar-button",{attrs:{title:"Strikethrough",active:t.editorStore.controlStates.strike,icon:"icon/notes/strikethrough"},on:{click:t.editorStore.toggleStrike}}),e("notes-editor-toolbar-button",{attrs:{title:"Highlight",active:t.editorStore.controlStates.highlight,icon:"icon/notes/highlight"},on:{click:t.editorStore.toggleHighlight}}),e("notes-editor-toolbar-button",{attrs:{title:"Insert link",active:t.editorStore.controlStates.link,icon:"icon/notes/link"},on:{click:t.editLink}}),e("notes-editor-toolbar-divider"),e("notes-editor-toolbar-button",{attrs:{title:"Large heading",active:t.editorStore.controlStates.heading[1].value,icon:"icon/notes/h1"},on:{click:function(e){return t.editorStore.toggleHeading(1)}}}),e("notes-editor-toolbar-button",{attrs:{title:"Medium heading",active:t.editorStore.controlStates.heading[2].value,icon:"icon/notes/h2"},on:{click:function(e){return t.editorStore.toggleHeading(2)}}}),e("notes-editor-toolbar-button",{attrs:{title:"Bulleted list",active:t.editorStore.controlStates.bulletList,icon:"icon/notes/list"},on:{click:t.editorStore.toggleBulletList}}),e("notes-editor-toolbar-divider"),e("notes-editor-toolbar-button",{attrs:{title:"Link Note",icon:"icon/internal-link"},on:{click:t.openNoteLinking}}),e("notes-editor-toolbar-divider"),e("notes-editor-toolbar-button",{attrs:{title:"Use AI",icon:"icon/ai"},on:{click:t.openAi}})],1)],1)],2),e("base-dropdown",{ref:"notes-editor-toolbar-link",staticClass:"notes-editor-toolbar-link",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Center,position:t.DropdownPosition.Bottom,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1,width:"14.5rem"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-toolbar-link-toggle"})]},proxy:!0}])},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-toolbar-link-content"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.linkUrl,expression:"linkUrl"}],ref:"link-input",attrs:{placeholder:"Paste link"},domProps:{value:t.linkUrl},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setLink.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.setLink.apply(null,arguments))},input:function(e){e.target.composing||(t.linkUrl=e.target.value)}}})])],1)],2)],1)}),[],!1,null,"8e5cf9d7").exports,Ea=new r({feature:C.Feature});const xa=s({name:"NotesAiHistory",components:{BaseDropdown:Ht,SmoothReflow:Zr,BaseDropdownContent:$t,BaseDropdownDivider:Ur},mixins:[Wr],inject:["editorViewStateStore","editorStore","aiStore"],props:{scrollTarget:qt.props.scrollTarget,alignment:{type:String,default:Pt.Center},appendToEnd:{type:Boolean,default:!1}},emits:["close","toggle"],unreactive:()=>({DropdownPosition:Rt,NotesMessage:D}),computed:{activeHistoryData(){return this.aiStore.activeHistoryData},error(){return this.aiStore.error}},watch:{error:{handler(){this.error&&Ea.capture(C.ActionError,{type:this.aiStore.activeActionLabel})},immediate:!0}},methods:{async closeAi(){this.$emit("close"),this.aiStore.reset()},replaceText(){const{from:t,to:e}=this.editorStore.selection;this.appendToEnd?this.editorStore.setContent(this.editorStore.getTitleContent(),this.activeHistoryData.result,!1):this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).deleteRange({from:t,to:e}).focus().run(),this.closeAi()},insertText(){const{to:t}=this.editorStore.selection,e=this.editorStore.editor.state.doc.content.size;this.appendToEnd?this.editorStore.editor.chain().insertContentAt(e,this.activeHistoryData.result).focus().run():this.editorStore.editor.chain().insertContentAt(t+1,this.activeHistoryData.result).focus().run(),this.closeAi()},copyText(){navigator.clipboard.writeText(this.activeHistoryData.result),this.showFlashMessage({message:"Copied to Clipboard."})},async reRunRequest(){await this.aiStore.runActiveRequest()},openDropdown(){this.$refs["notes-ai-history"].openDropdown(),Ea.capture(C.OpenHistory)},closeDropdown(){this.$refs["notes-ai-history"].closeDropdown()},onToggle(t){this.$emit("toggle",t),!1===t&&this.aiStore.reset()}}},(function(){var t,e=this,n=e._self._c;return n("base-dropdown",{ref:"notes-ai-history",staticClass:"notes-ai-history",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:e.alignment,position:e.DropdownPosition.Bottom,"scroll-target":e.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1,width:"28rem"},on:{toggle:e.onToggle},scopedSlots:e._u([{key:"toggle",fn:function(){return[n("div",{staticClass:"notes-ai-history-toggle"})]},proxy:!0}])},[n("template",{slot:"contentOverride"},[n("base-dropdown-content",{staticClass:"notes-ai-history-content"},[n("div",{staticClass:"history-header"},[n("span",[e._v(e._s(e.aiStore.activeActionLabel))]),n("button",{staticClass:"icon-wrapper",on:{click:e.closeAi}},[n("inline-svg",{staticClass:"icon icon-close",attrs:{src:Be}})],1)]),n("base-dropdown-divider"),n("div",{staticClass:"history-body"},[n("smooth-reflow",{attrs:{"hide-overflow":!0}},[n("div",{staticClass:"history-body-result"},[e.aiStore.loading||e.error?n("span",{staticClass:"history-body-result-loading",attrs:{"data-test":"ai-history-loading"}},[e._v(e._s(e.aiStore.loading?"Loading...":e.error.message??""))]):n("div",{staticClass:"history-body-result-content",attrs:{"data-test":"ai-history-content"},domProps:{innerHTML:e._s(e.activeHistoryData.result)}})])]),n("smooth-reflow",[!e.aiStore.loading&&(null==(t=e.activeHistoryData)?void 0:t.brokenLinks)?n("div",{staticClass:"history-ai-links-warning",attrs:{"data-test":"ai-links-warning"}},[n("inline-svg",{staticClass:"icon icon-info",attrs:{src:i}}),n("span",[e._v("Links to Notes may be added or removed due to AI")])],1):e._e()]),n("transition",{attrs:{name:"fade"}},[e.error?n("div",{staticClass:"history-body-actions"},[n("button",{key:"retry",staticClass:"button",on:{click:e.reRunRequest}},[e._v("Retry")])]):n("div",{staticClass:"history-body-actions",class:{disabled:e.aiStore.loading}},[n("button",{key:"replace",staticClass:"button",on:{click:e.replaceText}},[e._v("Replace")]),n("button",{key:"insert",staticClass:"button",on:{click:e.insertText}},[e._v("Insert")]),n("button",{key:"copy",staticClass:"button button-neutral",on:{click:e.copyText}},[e._v("Copy")]),n("button",{key:"rerun",staticClass:"button button-neutral",on:{click:e.reRunRequest}},[e._v("Re-run")])])])],1)],1)],1)],2)}),[],!1,null,"c420063a").exports,Sa=new r({feature:C.Feature});const Fa=s({name:"NotesAiActions",components:{BaseDropdownDivider:Ur,BaseDropdownOption:Nt,BaseDropdown:Ht,BaseDropdownText:Gr},mixins:[Wr],inject:["editorStore","aiStore"],props:{scrollTarget:qt.props.scrollTarget,useAiHeader:{type:Boolean,default:!0},activeNote:{type:Object,required:!0},alignment:{type:String,default:Pt.Center}},emits:["action:history","toggle"],setup:()=>({DropdownPosition:Rt,DropdownAlignment:Pt,NoteAiAction:A}),computed:{orderedLanguages(){return[...this.aiStore.languages.data].sort(((t,e)=>t.name.localeCompare(e.name,"en")))},actionSelectedText(){return this.editorStore.selectedHTML||this.editorStore.getBodyHTMLContent(!0)}},async mounted(){await this.getLanguages()},methods:{async summarize(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.Summary,data:{selectedText:this.actionSelectedText}}),this.onAction(A.Summary)},async improveWriting(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.ImproveWriting,data:{selectedText:this.actionSelectedText}}),this.onAction(A.ImproveWriting)},async listActionItems(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.ActionItems,data:{selectedText:this.actionSelectedText}}),this.onAction(A.ActionItems)},async fixSpellingAndGrammar(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.FixSpellingGrammar,data:{selectedText:this.actionSelectedText}}),this.onAction(A.FixSpellingGrammar)},async simplify(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.Simplification,data:{selectedText:this.actionSelectedText}}),this.onAction(A.Simplification)},async expand(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.Expansion,data:{selectedText:this.actionSelectedText}}),this.onAction(A.Expansion)},async getOutline(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.Outline,data:{selectedText:this.actionSelectedText}}),this.onAction(A.Outline)},async getJournalPrompts(){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.JournalPrompts,data:{selectedText:this.actionSelectedText}}),this.onAction(A.JournalPrompts)},async translateText(t){this.$emit("action:history"),await this.aiStore.runActiveRequest({id:this.activeNote.id,type:A.Translation,data:{selectedText:this.actionSelectedText,languageId:t}}),this.onAction(A.Translation)},async getLanguages(){try{await this.aiStore.getLanguages()}catch(t){this.aiStore.languages.loading=!1,this.showFlashMessage({error:!0,message:D.ErrorFetchLanguages})}},onAction(t){Sa.capture(C.Action,{type:t})},openDropdown(){this.$refs["notes-ai-actions"].openDropdown(),Sa.capture(C.OpenActions)},closeDropdown(){var t;null==(t=this.$refs["notes-ai-actions-translate"])||t.closeDropdown(),this.$refs["notes-ai-actions"].closeDropdown()}}},(function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"notes-ai-actions",staticClass:"notes-ai-actions",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.alignment,position:t.DropdownPosition.Bottom,"scroll-target":t.scrollTarget,"bound-scroll-x":!0,"use-toast-mobile":!1},on:{toggle:function(e){return t.$emit("toggle",e)}},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-ai-actions-toggle"})]},proxy:!0}])},[t.useAiHeader?e("base-dropdown-text",{attrs:{"is-title":!0}},[t._v("Ask AI to...")]):t._e(),e("base-dropdown-option",{attrs:{"data-test":"ai-action-spelling"},on:{click:t.fixSpellingAndGrammar}},[t._v(t._s(t.NoteAiAction.FixSpellingGrammar))]),e("base-dropdown-option",{on:{click:t.simplify}},[t._v(t._s(t.NoteAiAction.Simplification))]),e("base-dropdown-option",{on:{click:t.improveWriting}},[t._v(t._s(t.NoteAiAction.ImproveWriting))]),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.summarize}},[t._v(t._s(t.NoteAiAction.Summary))]),e("base-dropdown-option",{on:{click:t.expand}},[t._v(t._s(t.NoteAiAction.Expansion))]),e("base-dropdown-option",{on:{click:t.listActionItems}},[t._v(t._s(t.NoteAiAction.ActionItems))]),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.getOutline}},[t._v(t._s(t.NoteAiAction.Outline))]),e("base-dropdown-option",{on:{click:t.getJournalPrompts}},[t._v(t._s(t.NoteAiAction.JournalPrompts))]),e("base-dropdown-divider"),e("base-dropdown",{ref:"notes-ai-actions-translate",attrs:{position:t.DropdownPosition.Right,alignment:t.DropdownAlignment.Center,nipple:!1,"position-offset":-2,disabled:!t.aiStore.languages.loaded},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("base-dropdown-option",{attrs:{disabled:!t.aiStore.languages.loaded}},[t._v(t._s(t.NoteAiAction.Translation))])]},proxy:!0}])},t._l(t.orderedLanguages,(function(n){return e("base-dropdown-option",{key:n.id,on:{click:function(e){return t.translateText(n.id)}}},[t._v(" "+t._s(n.name)+" ")])})),1)],1)}),[],!1,null,"6ea880b8").exports;const La=s({name:"NotesEditorAi",components:{NotesAiActions:Fa,NotesAiHistory:xa},inject:["editorViewStateStore","viewStateStore","aiStore","notesEditorElement"],props:{activeNote:{type:Object,required:!0}},computed:{actionsVisible(){return this.editorViewStateStore.activeViewId===Da.AiActions},historyVisible(){return this.editorViewStateStore.activeViewId===Da.AiHistory}},watch:{actionsVisible(){this.actionsVisible?this.openActionsDropdown():this.closeActionsDropdown()},historyVisible(){this.historyVisible?this.openHistoryDropdown():this.closeHistoryDropdown()}},methods:{openHistoryDropdown(){this.$refs["notes-ai-history"].openDropdown()},closeHistoryDropdown(){this.$refs["notes-ai-history"].closeDropdown()},openActionsDropdown(){this.$refs["notes-ai-actions"].openDropdown()},closeActionsDropdown(){this.$refs["notes-ai-actions"].closeDropdown()},async setHistoryActive(){await this.editorViewStateStore.setActiveView(Da.AiHistory)},async setToolbarActive(){await this.editorViewStateStore.setActiveView(Da.ToolbarDefault)}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes-editor-ai"},[e("notes-ai-history",{ref:"notes-ai-history",attrs:{"scroll-target":t.notesEditorElement},on:{close:t.setToolbarActive}}),e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"scroll-target":t.notesEditorElement,"active-note":t.activeNote},on:{"action:history":t.setHistoryActive}})],1)}),[],!1,null,"c9c5ff7f").exports,Ta=/^\s*>\s$/,Ma=w.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[x({find:Ta,type:this.type})]}}),za=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Ba=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Ia=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Na=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Oa=S.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[F({find:za,type:this.type}),F({find:Ia,type:this.type})]},addPasteRules(){return[L({find:Ba,type:this.type}),L({find:Na,type:this.type})]}}),Ha=w.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",E(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ja=S.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",E(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=T(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),Ra=/^\s*([-+*])\s$/,Pa=w.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",E(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ha.name,this.editor.getAttributes(ja.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=x({find:Ra,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=x({find:Ra,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(ja.name),editor:this.editor})),[t]}}),$a=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,qa=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,Va=S.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[F({find:$a,type:this.type})]},addPasteRules(){return[L({find:qa,type:this.type})]}}),Ua=/^```([a-z]+)?[\s\n]$/,Za=/^~~~([a-z]+)?[\s\n]$/,Wa=w.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...(null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]].filter((t=>t.startsWith(n))).map((t=>t.replace(n,"")))[0];return s||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:e}){return["pre",E(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const o=s.parentOffset===s.parent.nodeSize-2,r=s.parent.textContent.endsWith("\n\n");return!(!o||!r)&&t.chain().command((({tr:t})=>(t.delete(s.pos-2,s.pos),!0))).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type)return!1;if(!(i.parentOffset===i.parent.nodeSize-2))return!1;const r=i.after();if(void 0===r)return!1;return s.nodeAt(r)?t.commands.command((({tr:t})=>(t.setSelection(M.near(s.resolve(r))),!0))):t.commands.exitCode()}}},addInputRules(){return[z({find:Ua,type:this.type,getAttributes:t=>({language:t[1]})}),z({find:Za,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new B({key:new I("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,o=null==i?void 0:i.mode;if(!n||!o)return!1;const{tr:r,schema:a}=t.state,c=a.text(n.replace(/\r\n?/g,"\n"));return r.replaceSelectionWith(this.type.create({language:o},c)),r.selection.$from.parent.type!==this.type&&r.setSelection(N.near(r.doc.resolve(Math.max(0,r.selection.from-2)))),r.setMeta("paste",!0),t.dispatch(r),!0}}})]}}),Ga=w.create({name:"doc",topNode:!0,content:"block+"});function Ka(t={}){return new B({view:e=>new Ja(e,t)})}class Ja{constructor(t,e){var n;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=e.width)&&void 0!==n?n:1,this.color=!1===e.color?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent;if(n){let n=e.nodeBefore,s=e.nodeAfter;if(n||s){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(e){let i=e.getBoundingClientRect(),o=n?i.bottom:i.top;n&&s&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:i.left,right:i.right,top:o-this.width/2,bottom:o+this.width/2}}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let s,i,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!o||o==document.body&&"static"==getComputedStyle(o).position)s=-pageXOffset,i=-pageYOffset;else{let t=o.getBoundingClientRect();s=t.left-o.scrollLeft,i=t.top-o.scrollTop}this.element.style.left=t.left-s+"px",this.element.style.top=t.top-i+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),s=n&&n.type.spec.disableDropCursor,i="function"==typeof s?s(this.editorView,e,t):s;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let e=O(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=e&&(t=e)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const Qa=H.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[Ka(this.options)]}});class Ya extends M{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return Ya.valid(n)?new Ya(n):M.near(n)}content(){return $.empty}eq(t){return t instanceof Ya&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ya(t.resolve(e.pos))}getBookmark(){return new Xa(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(0!=n)for(let t=s.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(s.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n!=s.childCount)for(let t=s.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(s.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let s=e.contentMatchAt(t.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&Ya.valid(t))return t;let s=t.pos,i=null;for(let n=t.depth;;n--){let o=t.node(n);if(e>0?t.indexAfter(n)<o.childCount:t.index(n)>0){i=o.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;s+=e;let r=t.doc.resolve(s);if(Ya.valid(r))return r}for(;;){let o=e>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!R.isSelectable(i)){t=t.doc.resolve(s+i.nodeSize*e),n=!1;continue t}break}i=o,s+=e;let r=t.doc.resolve(s);if(Ya.valid(r))return r}return null}}}Ya.prototype.visible=!1,Ya.findFrom=Ya.findGapCursorFrom,M.jsonID("gapcursor",Ya);class Xa{constructor(t){this.pos=t}map(t){return new Xa(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return Ya.valid(e)?new Ya(e):M.near(e)}}const tc=j({ArrowLeft:ec("horiz",-1),ArrowRight:ec("horiz",1),ArrowUp:ec("vert",-1),ArrowDown:ec("vert",1)});function ec(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,s,i){let o=t.selection,r=e>0?o.$to:o.$from,a=o.empty;if(o instanceof N){if(!i.endOfTextblock(n)||0==r.depth)return!1;a=!1,r=t.doc.resolve(e>0?r.after():r.before())}let c=Ya.findGapCursorFrom(r,e,a);return!!c&&(s&&s(t.tr.setSelection(new Ya(c))),!0)}}function nc(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!Ya.valid(s))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&R.isSelectable(t.state.doc.nodeAt(i.inside)))&&(t.dispatch(t.state.tr.setSelection(new Ya(s))),!0)}function sc(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof Ya))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let i=P.empty;for(let r=s.length-1;r>=0;r--)i=P.from(s[r].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new $(i,0,0));return o.setSelection(N.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function ic(t){if(!(t.selection instanceof Ya))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",q.create(t.doc,[V.widget(t.selection.head,e,{key:"gapcursor"})])}const oc=H.create({name:"gapCursor",addProseMirrorPlugins:()=>[new B({props:{decorations:ic,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&Ya.valid(n)?new Ya(n):null,handleClick:nc,handleKeyDown:tc,handleDOMEvents:{beforeinput:sc}}})],extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!==(e=U(Z(t,"allowGapCursor",n)))&&void 0!==e?e:null}}}),rc=w.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",E(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command((()=>{const{selection:t,storedMarks:i}=n;if(t.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:r}=s.extensionManager,a=i||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:this.name}).command((({tr:t,dispatch:e})=>{if(e&&a&&o){const e=a.filter((t=>r.includes(t.type.name)));t.ensureMarks(e)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),ac=w.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((t=>({tag:`h${t}`,attrs:{level:t}})))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,E(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode(this.name,t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addInputRules(){return this.options.levels.map((t=>z({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}})))}});var cc=200,lc=function(){};lc.prototype.append=function(t){return t.length?(t=lc.from(t),!this.length&&t||t.length<cc&&this.leafAppend(t)||this.length<cc&&t.leafPrepend(this)||this.appendInner(t)):this},lc.prototype.prepend=function(t){return t.length?lc.from(t).append(this):this},lc.prototype.appendInner=function(t){return new dc(this,t)},lc.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?lc.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},lc.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},lc.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},lc.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var s=[];return this.forEach((function(e,n){return s.push(t(e,n))}),e,n),s},lc.from=function(t){return t instanceof lc?t:t&&t.length?new uc(t):lc.empty};var uc=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,s){for(var i=e;i<n;i++)if(!1===t(this.values[i],s+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,s){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],s+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=cc)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=cc)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(lc);lc.empty=new uc([]);var dc=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,s){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),s))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,s+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,s){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,s+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,s))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(lc);class hc{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,s,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(n=this.remapping(i,this.items.length),s=n.maps.length);let o,r,a=t.tr,c=[],l=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),s=n.maps.length),s--,void l.push(t);if(n){l.push(new pc(t.map));let e,i=t.step.map(n.slice(s));i&&a.maybeStep(i).doc&&(e=a.mapping.maps[a.mapping.maps.length-1],c.push(new pc(e,void 0,void 0,c.length+l.length))),s--,e&&n.appendMap(e,s)}else a.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(s)):t.selection,r=new hc(this.items.slice(0,i).append(l.reverse().concat(c)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:r,transform:a,selection:o}}addTransform(t,e,n,s){let i=[],o=this.eventCount,r=this.items,a=!s&&r.length?r.get(r.length-1):null;for(let l=0;l<t.steps.length;l++){let n,c=t.steps[l].invert(t.docs[l]),u=new pc(t.mapping.maps[l],c,e);(n=a&&a.merge(u))&&(u=n,l?i.pop():r=r.slice(0,r.length-1)),i.push(u),e&&(o++,e=void 0),s||(a=u)}let c=o-n.depth;return c>gc&&(r=function(t,e){let n;return t.forEach(((t,s)=>{if(t.selection&&0==e--)return n=s,!1})),t.slice(n)}(r,c),o-=c),new hc(r.append(i),o)}remapping(t,e){let n=new W;return this.items.forEach(((e,s)=>{let i=null!=e.mirrorOffset&&s-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new hc(this.items.append(t.map((t=>new pc(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,r=this.eventCount;this.items.forEach((t=>{t.selection&&r--}),s);let a=e;this.items.forEach((e=>{let s=i.getMirror(--a);if(null==s)return;o=Math.min(o,s);let c=i.maps[s];if(e.step){let o=t.steps[s].invert(t.docs[s]),l=e.selection&&e.selection.map(i.slice(a+1,s));l&&r++,n.push(new pc(c,o,l))}else n.push(new pc(c))}),s);let c=[];for(let d=e;d<o;d++)c.push(new pc(i.maps[d]));let l=this.items.slice(0,s).append(c).append(n),u=new hc(l,r);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,s=[],i=0;return this.items.forEach(((o,r)=>{if(r>=t)s.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),r=t&&t.getMap();if(n--,r&&e.appendMap(r,n),t){let a=o.selection&&o.selection.map(e.slice(n));a&&i++;let c,l=new pc(r.invert(),t,a),u=s.length-1;(c=s.length&&s[u].merge(l))?s[u]=c:s.push(l)}}else o.map&&n--}),this.items.length,0),new hc(lc.from(s.reverse()),i)}}hc.empty=new hc(lc.empty,0);class pc{constructor(t,e,n,s){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=s}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new pc(e.getMap().invert(),e,this.selection)}}}class mc{constructor(t,e,n,s,i){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const gc=20;function fc(t){let e=[];for(let n=t.length-1;n>=0&&0==e.length;n--)t[n].forEach(((t,n,s,i)=>e.push(s,i)));return e}function kc(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let i=e.map(t[s],1),o=e.map(t[s+1],-1);i<=o&&n.push(i,o)}return n}let _c=!1,bc=null;function vc(t){let e=t.plugins;if(bc!=e){_c=!1,bc=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){_c=!0;break}}return _c}const yc=new I("history"),Cc=new I("closeHistory");function Dc(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new B({key:yc,state:{init:()=>new mc(hc.empty,hc.empty,null,0,-1),apply:(e,n,s)=>function(t,e,n,s){let i,o=n.getMeta(yc);if(o)return o.historyState;n.getMeta(Cc)&&(t=new mc(t.done,t.undone,null,0,-1));let r=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(r&&r.getMeta(yc))return r.getMeta(yc).redo?new mc(t.done.addTransform(n,void 0,s,vc(e)),t.undone,fc(n.mapping.maps),t.prevTime,t.prevComposition):new mc(t.done,t.undone.addTransform(n,void 0,s,vc(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||r&&!1===r.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new mc(t.done.rebased(n,i),t.undone.rebased(n,i),kc(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new mc(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),kc(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let i=n.getMeta("composition"),o=0==t.prevTime||!r&&t.prevComposition!=i&&(t.prevTime<(n.time||0)-s.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,s)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&s>=e[i]&&(n=!0)})),n}(n,t.prevRanges)),a=r?kc(t.prevRanges,n.mapping):fc(n.mapping.maps);return new mc(t.done.addTransform(n,o?e.selection.getBookmark():void 0,s,vc(e)),hc.empty,a,n.time,null==i?t.prevComposition:i)}}(n,s,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,s="historyUndo"==n?wc:"historyRedo"==n?Ec:null;return!!s&&(e.preventDefault(),s(t.state,t.dispatch))}}}})}function Ac(t,e){return(n,s)=>{let i=yc.getState(n);if(!i||0==(t?i.undone:i.done).eventCount)return!1;if(s){let o=function(t,e,n){let s=vc(e),i=yc.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,s);if(!o)return null;let r=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,s),c=new mc(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(r).setMeta(yc,{redo:n,historyState:c})}(i,n,t);o&&s(e?o.scrollIntoView():o)}return!0}}const wc=Ac(!1,!0),Ec=Ac(!0,!0),xc=H.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:e})=>wc(t,e),redo:()=>({state:t,dispatch:e})=>Ec(t,e)}),addProseMirrorPlugins(){return[Dc(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Sc=w.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",E(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:s,$to:i}=n,o=t();return 0===s.parentOffset?o.insertContentAt({from:Math.max(s.pos-1,0),to:i.pos},{type:this.name}):G(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command((({tr:t,dispatch:e})=>{var n;if(e){const{$to:e}=t.selection,s=e.end();if(e.nodeAfter)e.nodeAfter.isTextblock?t.setSelection(N.create(t.doc,e.pos+1)):e.nodeAfter.isBlock?t.setSelection(R.create(t.doc,e.pos)):t.setSelection(N.create(t.doc,e.pos));else{const i=null===(n=e.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();i&&(t.insert(s,i),t.setSelection(N.create(t.doc,s+1)))}t.scrollIntoView()}return!0})).run()}}},addInputRules(){return[K({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Fc=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Lc=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Tc=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Mc=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,zc=S.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[F({find:Fc,type:this.type}),F({find:Tc,type:this.type})]},addPasteRules(){return[L({find:Lc,type:this.type}),L({find:Mc,type:this.type})]}}),Bc=w.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",E(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ic=w.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",E(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Nc=S.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:t}){return["span",E(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=T(t,this.type);return!!Object.entries(n).some((([,t])=>!!t))||e.unsetMark(this.name)}}}}),Oc=/^(\d+)\.\s$/,Hc=w.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",E(this.options.HTMLAttributes,n),0]:["ol",E(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Ic.name,this.editor.getAttributes(Nc.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=x({find:Oc,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=x({find:Oc,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Nc.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[t]}}),jc=w.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Rc=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Pc=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,$c=S.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[F({find:Rc,type:this.type})]},addPasteRules(){return[L({find:Pc,type:this.type})]}}),qc=w.create({name:"text",group:"inline"}),Vc=H.create({name:"starterKit",addExtensions(){var t,e,n,s,i,o,r,a,c,l,u,d,h,p,m,g,f,k;const _=[];return!1!==this.options.bold&&_.push(Oa.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.blockquote&&_.push(Ma.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bulletList&&_.push(Pa.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&_.push(Va.configure(null===(s=this.options)||void 0===s?void 0:s.code)),!1!==this.options.codeBlock&&_.push(Wa.configure(null===(i=this.options)||void 0===i?void 0:i.codeBlock)),!1!==this.options.document&&_.push(Ga.configure(null===(o=this.options)||void 0===o?void 0:o.document)),!1!==this.options.dropcursor&&_.push(Qa.configure(null===(r=this.options)||void 0===r?void 0:r.dropcursor)),!1!==this.options.gapcursor&&_.push(oc.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&_.push(rc.configure(null===(c=this.options)||void 0===c?void 0:c.hardBreak)),!1!==this.options.heading&&_.push(ac.configure(null===(l=this.options)||void 0===l?void 0:l.heading)),!1!==this.options.history&&_.push(xc.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&_.push(Sc.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&_.push(zc.configure(null===(h=this.options)||void 0===h?void 0:h.italic)),!1!==this.options.listItem&&_.push(Bc.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&_.push(Hc.configure(null===(m=this.options)||void 0===m?void 0:m.orderedList)),!1!==this.options.paragraph&&_.push(jc.configure(null===(g=this.options)||void 0===g?void 0:g.paragraph)),!1!==this.options.strike&&_.push($c.configure(null===(f=this.options)||void 0===f?void 0:f.strike)),!1!==this.options.text&&_.push(qc.configure(null===(k=this.options)||void 0===k?void 0:k.text)),_}}),Uc=H.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new B({key:new I("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants(((t,e)=>{const n=s>=e&&s<=e+t.nodeSize,r=!t.isLeaf&&J(t);if((n||!this.options.showOnlyCurrent)&&r){const s=[this.options.emptyNodeClass];o&&s.push(this.options.emptyEditorClass);const r=V.node(e,e+t.nodeSize,{class:s.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:e,hasAnchor:n}):this.options.placeholder});i.push(r)}return this.options.includeChildren})),q.create(t,i)}}})]}}),Zc=w.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",E(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),Wc=/^\s*(\[([( |x])?\])\s$/,Gc=w.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return""===e||"true"===e},renderHTML:t=>({"data-checked":t.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",E(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const i=document.createElement("li"),o=document.createElement("label"),r=document.createElement("span"),a=document.createElement("input"),c=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",(t=>t.preventDefault())),a.addEventListener("change",(e=>{if(!s.isEditable&&!this.options.onReadOnlyChecked)return void(a.checked=!a.checked);const{checked:i}=e.target;s.isEditable&&"function"==typeof n&&s.chain().focus(void 0,{scrollIntoView:!1}).command((({tr:t})=>{const e=n();if("number"!=typeof e)return!1;const s=t.doc.nodeAt(e);return t.setNodeMarkup(e,void 0,{...null==s?void 0:s.attrs,checked:i}),!0})).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,i)||(a.checked=!a.checked))})),Object.entries(this.options.HTMLAttributes).forEach((([t,e])=>{i.setAttribute(t,e)})),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,r),i.append(o,c),Object.entries(e).forEach((([t,e])=>{i.setAttribute(t,e)})),{dom:i,contentDOM:c,update:t=>t.type===this.type&&(i.dataset.checked=t.attrs.checked,t.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[x({find:Wc,type:this.type,getAttributes:t=>({checked:"x"===t[t.length-1]})})]}}),Kc="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Jc="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Qc=(t,e)=>{for(const n in e)t[n]=e[n];return t},Yc="numeric",Xc="ascii",tl="alpha",el="asciinumeric",nl="alphanumeric",sl="domain",il="emoji",ol="scheme",rl="slashscheme",al="whitespace";function cl(t,e){return t in e||(e[t]=[]),e[t]}function ll(t,e,n){e[Yc]&&(e[el]=!0,e[nl]=!0),e[Xc]&&(e[el]=!0,e[tl]=!0),e[el]&&(e[nl]=!0),e[tl]&&(e[nl]=!0),e[nl]&&(e[sl]=!0),e[il]&&(e[sl]=!0);for(const s in e){const e=cl(s,n);e.indexOf(t)<0&&e.push(t)}}function ul(t){void 0===t&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}ul.groups={},ul.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const n=e.jr[s][0],i=e.jr[s][1];if(i&&n.test(t))return i}return e.jd},has(t,e){return void 0===e&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,s)},tr(t,e,n,s){let i;return s=s||ul.groups,e&&e.j?i=e:(i=new ul(e),n&&s&&ll(e,n,s)),this.jr.push([t,i]),i},ts(t,e,n,s){let i=this;const o=t.length;if(!o)return i;for(let r=0;r<o-1;r++)i=i.tt(t[r]);return i.tt(t[o-1],e,n,s)},tt(t,e,n,s){s=s||ul.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let r,a=i.go(t);if(a?(r=new ul,Qc(r.j,a.j),r.jr.push.apply(r.jr,a.jr),r.jd=a.jd,r.t=a.t):r=new ul,o){if(s)if(r.t&&"string"==typeof r.t){const t=Qc(function(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}(r.t,s),n);ll(o,t,s)}else n&&ll(o,n,s);r.t=o}return i.j[t]=r,r}};const dl=(t,e,n,s,i)=>t.ta(e,n,s,i),hl=(t,e,n,s,i)=>t.tr(e,n,s,i),pl=(t,e,n,s,i)=>t.ts(e,n,s,i),ml=(t,e,n,s,i)=>t.tt(e,n,s,i),gl="WORD",fl="UWORD",kl="LOCALHOST",_l="TLD",bl="UTLD",vl="SCHEME",yl="SLASH_SCHEME",Cl="NUM",Dl="WS",Al="NL",wl="OPENBRACE",El="CLOSEBRACE",xl="OPENBRACKET",Sl="CLOSEBRACKET",Fl="OPENPAREN",Ll="CLOSEPAREN",Tl="OPENANGLEBRACKET",Ml="CLOSEANGLEBRACKET",zl="FULLWIDTHLEFTPAREN",Bl="FULLWIDTHRIGHTPAREN",Il="LEFTCORNERBRACKET",Nl="RIGHTCORNERBRACKET",Ol="LEFTWHITECORNERBRACKET",Hl="RIGHTWHITECORNERBRACKET",jl="FULLWIDTHLESSTHAN",Rl="FULLWIDTHGREATERTHAN",Pl="AMPERSAND",$l="APOSTROPHE",ql="ASTERISK",Vl="AT",Ul="BACKSLASH",Zl="BACKTICK",Wl="CARET",Gl="COLON",Kl="COMMA",Jl="DOLLAR",Ql="DOT",Yl="EQUALS",Xl="EXCLAMATION",tu="HYPHEN",eu="PERCENT",nu="PIPE",su="PLUS",iu="POUND",ou="QUERY",ru="QUOTE",au="SEMI",cu="SLASH",lu="TILDE",uu="UNDERSCORE",du="EMOJI",hu="SYM";var pu=Object.freeze({__proto__:null,WORD:gl,UWORD:fl,LOCALHOST:kl,TLD:_l,UTLD:bl,SCHEME:vl,SLASH_SCHEME:yl,NUM:Cl,WS:Dl,NL:Al,OPENBRACE:wl,CLOSEBRACE:El,OPENBRACKET:xl,CLOSEBRACKET:Sl,OPENPAREN:Fl,CLOSEPAREN:Ll,OPENANGLEBRACKET:Tl,CLOSEANGLEBRACKET:Ml,FULLWIDTHLEFTPAREN:zl,FULLWIDTHRIGHTPAREN:Bl,LEFTCORNERBRACKET:Il,RIGHTCORNERBRACKET:Nl,LEFTWHITECORNERBRACKET:Ol,RIGHTWHITECORNERBRACKET:Hl,FULLWIDTHLESSTHAN:jl,FULLWIDTHGREATERTHAN:Rl,AMPERSAND:Pl,APOSTROPHE:$l,ASTERISK:ql,AT:Vl,BACKSLASH:Ul,BACKTICK:Zl,CARET:Wl,COLON:Gl,COMMA:Kl,DOLLAR:Jl,DOT:Ql,EQUALS:Yl,EXCLAMATION:Xl,HYPHEN:tu,PERCENT:eu,PIPE:nu,PLUS:su,POUND:iu,QUERY:ou,QUOTE:ru,SEMI:au,SLASH:cu,TILDE:lu,UNDERSCORE:uu,EMOJI:du,SYM:hu});const mu=/[a-z]/,gu=new RegExp("\\p{L}","u"),fu=new RegExp("\\p{Emoji}","u"),ku=/\d/,_u=/\s/,bu="\n",vu="",yu="";let Cu=null,Du=null;function Au(t,e,n,s,i){let o;const r=e.length;for(let a=0;a<r-1;a++){const n=e[a];t.j[n]?o=t.j[n]:(o=new ul(s),o.jr=i.slice(),t.j[n]=o),t=o}return o=new ul(n),o.jr=i.slice(),t.j[e[r-1]]=o,o}function wu(t){const e=[],n=[];let s=0;for(;s<t.length;){let i=0;for(;"0123456789".indexOf(t[s+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let e=parseInt(t.substring(s,s+i),10);e>0;e--)n.pop();s+=i}else n.push(t[s]),s++}return e}const Eu={defaultProtocol:"http",events:null,format:Su,formatHref:Su,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function xu(t,e){void 0===e&&(e=null);let n=Qc({},Eu);t&&(n=Qc(n,t instanceof xu?t.o:t));const s=n.ignoreTags,i=[];for(let o=0;o<s.length;o++)i.push(s[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}function Su(t){return t}function Fu(t,e){this.t="token",this.v=t,this.tk=e}function Lu(t,e){class n extends Fu{constructor(e,n){super(e,n),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}xu.prototype={o:Eu,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=null!=e;let i=this.o[t];return i?("object"==typeof i?(i=n.t in i?i[n.t]:Eu[t],"function"==typeof i&&s&&(i=i(e,n))):"function"==typeof i&&s&&(i=i(e,n.t,n)),i):i},getObj(t,e,n){let s=this.o[t];return"function"==typeof s&&null!=e&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},Fu.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return void 0===t&&(t=Eu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),r={},a=t.get("className",n,e),c=t.get("target",n,e),l=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return r.href=s,a&&(r.class=a),c&&(r.target=c),l&&(r.rel=l),u&&Qc(r,u),{tagName:i,attributes:r,content:o,eventListeners:d}}};const Tu=Lu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Mu=Lu("text"),zu=Lu("nl"),Bu=Lu("url",{isLink:!0,toHref(t){return void 0===t&&(t=Eu.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==kl&&t[1].t===Gl}}),Iu=t=>new ul(t);function Nu(t,e,n){const s=n[0].s,i=n[n.length-1].e;return new t(e.slice(s,i),n)}const Ou="undefined"!=typeof console&&console&&console.warn||(()=>{}),Hu={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ju(t,e){if(void 0===e&&(e=!1),Hu.initialized&&Ou(`linkifyjs: already initialized - will not register custom scheme "${t}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');Hu.customSchemes.push([t,e])}function Ru(){Hu.scanner=function(t){void 0===t&&(t=[]);const e={};ul.groups=e;const n=new ul;null==Cu&&(Cu=wu(Kc)),null==Du&&(Du=wu(Jc)),ml(n,"'",$l),ml(n,"{",wl),ml(n,"}",El),ml(n,"[",xl),ml(n,"]",Sl),ml(n,"(",Fl),ml(n,")",Ll),ml(n,"<",Tl),ml(n,">",Ml),ml(n,"",zl),ml(n,"",Bl),ml(n,"",Il),ml(n,"",Nl),ml(n,"",Ol),ml(n,"",Hl),ml(n,"",jl),ml(n,"",Rl),ml(n,"&",Pl),ml(n,"*",ql),ml(n,"@",Vl),ml(n,"`",Zl),ml(n,"^",Wl),ml(n,":",Gl),ml(n,",",Kl),ml(n,"$",Jl),ml(n,".",Ql),ml(n,"=",Yl),ml(n,"!",Xl),ml(n,"-",tu),ml(n,"%",eu),ml(n,"|",nu),ml(n,"+",su),ml(n,"#",iu),ml(n,"?",ou),ml(n,'"',ru),ml(n,"/",cu),ml(n,";",au),ml(n,"~",lu),ml(n,"_",uu),ml(n,"\\",Ul);const s=hl(n,ku,Cl,{[Yc]:!0});hl(s,ku,s);const i=hl(n,mu,gl,{[Xc]:!0});hl(i,mu,i);const o=hl(n,gu,fl,{[tl]:!0});hl(o,mu),hl(o,gu,o);const r=hl(n,_u,Dl,{[al]:!0});ml(n,bu,Al,{[al]:!0}),ml(r,bu),hl(r,_u,r);const a=hl(n,fu,du,{[il]:!0});hl(a,fu,a),ml(a,vu,a);const c=ml(a,yu);hl(c,fu,a);const l=[[mu,i]],u=[[mu,null],[gu,o]];for(let d=0;d<Cu.length;d++)Au(n,Cu[d],_l,gl,l);for(let d=0;d<Du.length;d++)Au(n,Du[d],bl,fl,u);ll(_l,{tld:!0,ascii:!0},e),ll(bl,{utld:!0,alpha:!0},e),Au(n,"file",vl,gl,l),Au(n,"mailto",vl,gl,l),Au(n,"http",yl,gl,l),Au(n,"https",yl,gl,l),Au(n,"ftp",yl,gl,l),Au(n,"ftps",yl,gl,l),ll(vl,{scheme:!0,ascii:!0},e),ll(yl,{slashscheme:!0,ascii:!0},e),t=t.sort(((t,e)=>t[0]>e[0]?1:-1));for(let d=0;d<t.length;d++){const e=t[d][0],s=t[d][1]?{[ol]:!0}:{[rl]:!0};e.indexOf("-")>=0?s[sl]=!0:mu.test(e)?ku.test(e)?s[el]=!0:s[Xc]=!0:s[Yc]=!0,pl(n,e,e,s)}return pl(n,"localhost",kl,{ascii:!0}),n.jd=new ul(hu),{start:n,tokens:Qc({groups:e},pu)}}(Hu.customSchemes);for(let t=0;t<Hu.tokenQueue.length;t++)Hu.tokenQueue[t][1]({scanner:Hu.scanner});Hu.parser=function(t){let{groups:e}=t;const n=e.domain.concat([Pl,ql,Vl,Ul,Zl,Wl,Jl,Yl,tu,Cl,eu,nu,su,iu,cu,hu,lu,uu]),s=[$l,Gl,Kl,Ql,Xl,ou,ru,au,Tl,Ml,wl,El,Sl,xl,Fl,Ll,zl,Bl,Il,Nl,Ol,Hl,jl,Rl],i=[Pl,$l,ql,Ul,Zl,Wl,Jl,Yl,tu,wl,El,eu,nu,su,iu,ou,cu,hu,lu,uu],o=Iu(),r=ml(o,lu);dl(r,i,r),dl(r,e.domain,r);const a=Iu(),c=Iu(),l=Iu();dl(o,e.domain,a),dl(o,e.scheme,c),dl(o,e.slashscheme,l),dl(a,i,r),dl(a,e.domain,a);const u=ml(a,Vl);ml(r,Vl,u),ml(c,Vl,u),ml(l,Vl,u);const d=ml(r,Ql);dl(d,i,r),dl(d,e.domain,r);const h=Iu();dl(u,e.domain,h),dl(h,e.domain,h);const p=ml(h,Ql);dl(p,e.domain,h);const m=Iu(Tu);dl(p,e.tld,m),dl(p,e.utld,m),ml(u,kl,m);const g=ml(h,tu);dl(g,e.domain,h),dl(m,e.domain,h),ml(m,Ql,p),ml(m,tu,g);const f=ml(m,Gl);dl(f,e.numeric,Tu);const k=ml(a,tu),_=ml(a,Ql);dl(k,e.domain,a),dl(_,i,r),dl(_,e.domain,a);const b=Iu(Bu);dl(_,e.tld,b),dl(_,e.utld,b),dl(b,e.domain,a),dl(b,i,r),ml(b,Ql,_),ml(b,tu,k),ml(b,Vl,u);const v=ml(b,Gl),y=Iu(Bu);dl(v,e.numeric,y);const C=Iu(Bu),D=Iu();dl(C,n,C),dl(C,s,D),dl(D,n,C),dl(D,s,D),ml(b,cu,C),ml(y,cu,C);const A=ml(c,Gl),w=ml(l,Gl),E=ml(w,cu),x=ml(E,cu);dl(c,e.domain,a),ml(c,Ql,_),ml(c,tu,k),dl(l,e.domain,a),ml(l,Ql,_),ml(l,tu,k),dl(A,e.domain,C),ml(A,cu,C),dl(x,e.domain,C),dl(x,n,C),ml(x,cu,C);const S=[[wl,El],[xl,Sl],[Fl,Ll],[Tl,Ml],[zl,Bl],[Il,Nl],[Ol,Hl],[jl,Rl]];for(let F=0;F<S.length;F++){const[t,e]=S[F],i=ml(C,t);ml(D,t,i),ml(i,e,C);const o=Iu(Bu);dl(i,n,o);const r=Iu();dl(i,s),dl(o,n,o),dl(o,s,r),dl(r,n,o),dl(r,s,r),ml(o,e,C),ml(r,e,C)}return ml(o,kl,b),ml(o,Al,zu),{start:o,tokens:pu}}(Hu.scanner.tokens);for(let t=0;t<Hu.pluginQueue.length;t++)Hu.pluginQueue[t][1]({scanner:Hu.scanner,parser:Hu.parser});Hu.initialized=!0}function Pu(t){return Hu.initialized||Ru(),function(t,e,n){let s=n.length,i=0,o=[],r=[];for(;i<s;){let a=t,c=null,l=null,u=0,d=null,h=-1;for(;i<s&&!(c=a.go(n[i].t));)r.push(n[i++]);for(;i<s&&(l=c||a.go(n[i].t));)c=null,a=l,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<s&&(r.push(n[i]),i++);else{r.length>0&&(o.push(Nu(Mu,e,r)),r=[]),i-=h,u-=h;const t=d.t,s=n.slice(i-u,i);o.push(Nu(t,e,s))}}return r.length>0&&o.push(Nu(Mu,e,r)),o}(Hu.parser.start,t,function(t,e){const n=function(t){const e=[],n=t.length;let s=0;for(;s<n;){let i,o=t.charCodeAt(s),r=o<55296||o>56319||s+1===n||(i=t.charCodeAt(s+1))<56320||i>57343?t[s]:t.slice(s,s+2);e.push(r),s+=r.length}return e}(e.replace(/[A-Z]/g,(t=>t.toLowerCase()))),s=n.length,i=[];let o=0,r=0;for(;r<s;){let a=t,c=null,l=0,u=null,d=-1,h=-1;for(;r<s&&(c=a.go(n[r]));)a=c,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[r].length,h++),l+=n[r].length,o+=n[r].length,r++;o-=d,r-=h,l-=d,i.push({t:u.t,v:e.slice(o-l,o),s:o-l,e:o})}return i}(Hu.scanner.start,t))}function $u(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),e&&"object"==typeof e){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new xu(n),i=Pu(t),o=[];for(let r=0;r<i.length;r++){const t=i[r];!t.isLink||e&&t.t!==e||!s.check(t)||o.push(t.toFormattedObject(s))}return o}const qu=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Vu(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach((t=>{const e="string"==typeof t?t:t.scheme;e&&n.push(e)})),!t||t.replace(qu,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Uu=S.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach((t=>{"string"!=typeof t?ju(t.scheme,t.optionalSlashes):ju(t)}))},onDestroy(){ul.groups={},Hu.scanner=null,Hu.parser=null,Hu.tokenQueue=[],Hu.pluginQueue=[],Hu.customSchemes=[],Hu.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}),addAttributes(){return{href:{default:null,parseHTML:t=>t.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!(!e||!Vu(e,this.options.protocols))&&null}}]},renderHTML({HTMLAttributes:t}){return Vu(t.href,this.options.protocols)?["a",E(this.options.HTMLAttributes,t),0]:["a",E(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[L({find:t=>{const e=[];if(t){const{validate:n}=this.options,s=$u(t).filter((t=>t.isLink&&n(t.value)));s.length&&s.forEach((t=>e.push({text:t.value,data:{href:t.href},index:t.start})))}return e},type:this.type,getAttributes:t=>{var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];var e;return this.options.autolink&&t.push((e={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate},new B({key:new I("autolink"),appendTransaction:(t,n,s)=>{const i=t.some((t=>t.docChanged))&&!n.doc.eq(s.doc),o=t.some((t=>t.getMeta("preventAutolink")));if(!i||o)return;const{tr:r}=s,a=Q(n.doc,[...t]);return Y(a).forEach((({newRange:t})=>{const n=X(s.doc,t,(t=>t.isTextblock));let i,o;if(n.length>1?(i=n[0],o=s.doc.textBetween(i.pos,i.pos+i.node.nodeSize,void 0," ")):n.length&&s.doc.textBetween(t.from,t.to," "," ").endsWith(" ")&&(i=n[0],o=s.doc.textBetween(i.pos,t.to,void 0," ")),i&&o){const t=o.split(" ").filter((t=>""!==t));if(t.length<=0)return!1;const n=t[t.length-1],c=i.pos+o.lastIndexOf(n);if(!n)return!1;const l=Pu(n).map((t=>t.toObject(e.defaultProtocol)));if(!(1===(a=l).length?a[0].isLink:3===a.length&&a[1].isLink&&["()","[]"].includes(a[0].value+a[2].value)))return!1;l.filter((t=>t.isLink)).map((t=>({...t,from:c+t.start+1,to:c+t.end+1}))).filter((t=>!s.schema.marks.code||!s.doc.rangeHasMark(t.from,t.to,s.schema.marks.code))).filter((t=>e.validate(t.value))).forEach((t=>{tt(t.from,t.to,s.doc).some((t=>t.mark.type===e.type))||r.addMark(t.from,t.to,e.type.create({href:t.href}))}))}var a})),r.steps.length?r:void 0}}))),!0===this.options.openOnClick&&t.push(function(t){return new B({key:new I("handleClickLink"),props:{handleClick:(e,n,s)=>{var i,o;if(0!==s.button)return!1;if(!e.editable)return!1;let r=s.target;const a=[];for(;"DIV"!==r.nodeName;)a.push(r),r=r.parentNode;if(!a.find((t=>"A"===t.nodeName)))return!1;const c=et(e.state,t.type.name),l=s.target,u=null!==(i=null==l?void 0:l.href)&&void 0!==i?i:c.href,d=null!==(o=null==l?void 0:l.target)&&void 0!==o?o:c.target;return!(!l||!u||(window.open(u,d),0))}}})}({type:this.type})),this.options.linkOnPaste&&t.push(function(t){return new B({key:new I("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{state:i}=e,{selection:o}=i,{empty:r}=o;if(r)return!1;let a="";s.content.forEach((t=>{a+=t.textContent}));const c=$u(a,{defaultProtocol:t.defaultProtocol}).find((t=>t.isLink&&t.value===a));return!(!a||!c||(t.editor.commands.setMark(t.type,{href:c.href}),0))}}})}({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Zu=Sc.extend({addInputRules(){return[new nt({find:/^(?:---|-|___\s|\*\*\*\s)$/,handler:({state:t,range:e})=>{const{tr:n}=t,s=e.from,i=e.to;n.insert(s-1,this.type.create({})).delete(n.mapping.map(s),n.mapping.map(i))}})]}}),Wu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Gu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Ku=Oa.extend({addInputRules(){return[F({find:Wu,type:this.type})]},addPasteRules(){return[L({find:Gu,type:this.type})]}}),Ju=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))$/,Qu=/(?:^|\s)((?:\/)((?:[^/]+))(?:\/))/g,Yu=zc.extend({addInputRules(){return[F({find:Ju,type:this.type})]},addPasteRules(){return[L({find:Qu,type:this.type})]}}),Xu=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,td=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,ed=S.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:t}){return["mark",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[F({find:Xu,type:this.type})]},addPasteRules(){return[L({find:td,type:this.type})]}}),nd=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))$/,sd=/(?:^|\s)((?:=)((?:[^~=]+))(?:=))/g,id=ed.extend({addInputRules(){return[F({find:nd,type:this.type})]},addPasteRules(){return[L({find:sd,type:this.type})]}}),od=S.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("underline")&&{}}],renderHTML({HTMLAttributes:t}){return["u",E(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),rd=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,ad=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,cd=od.extend({addInputRules(){return[F({find:rd,type:this.type})]},addPasteRules(){return[L({find:ad,type:this.type})]}}),ld=/(?:^|\s)((?:~)((?:[^~]+))(?:~))$/,ud=/(?:^|\s)((?:~)((?:[^~]+))(?:~))/g,dd=$c.extend({addInputRules(){return[F({find:ld,type:this.type})]},addPasteRules(){return[L({find:ud,type:this.type})]}}),hd={};function pd(t,e){"string"!=typeof e&&(e=pd.defaultChars);const n=function(t){let e=hd[t];if(e)return e;e=hd[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);e.push(t)}for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let s=0,i=t.length;s<i;s+=3){const o=parseInt(t.slice(s+1,s+3),16);if(o<128)e+=n[o];else{if(192==(224&o)&&s+3<i){const n=parseInt(t.slice(s+4,s+6),16);if(128==(192&n)){const t=o<<6&1984|63&n;e+=t<128?"":String.fromCharCode(t),s+=3;continue}}if(224==(240&o)&&s+6<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&i)){const t=o<<12&61440|n<<6&4032|63&i;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),s+=6;continue}}if(240==(248&o)&&s+9<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16),r=parseInt(t.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&r)){let t=o<<18&1835008|n<<12&258048|i<<6&4032|63&r;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),s+=9;continue}}e+=""}}return e}))}pd.defaultChars=";/?:@&=+$,#",pd.componentChars="";const md={};function gd(t,e,n){"string"!=typeof e&&(n=e,e=gd.defaultChars),void 0===n&&(n=!0);const s=function(t){let e=md[t];if(e)return e;e=md[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);/^[0-9a-z]$/i.test(t)?e.push(t):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}(e);let i="";for(let o=0,r=t.length;o<r;o++){const e=t.charCodeAt(o);if(n&&37===e&&o+2<r&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))i+=t.slice(o,o+3),o+=2;else if(e<128)i+=s[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&o+1<r){const e=t.charCodeAt(o+1);if(e>=56320&&e<=57343){i+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(t[o])}return i}function fd(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function kd(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}gd.defaultChars=";/?:@&=+$,-_.!~*'()#",gd.componentChars="-_.!~*'()";const _d=/^([a-z0-9.+-]+:)/i,bd=/:[0-9]*$/,vd=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,yd=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Cd=["'"].concat(yd),Dd=["%","/","?",";","#"].concat(Cd),Ad=["/","?","#"],wd=/^[+a-z0-9A-Z_-]{0,63}$/,Ed=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,xd={javascript:!0,"javascript:":!0},Sd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Fd(t,e){if(t&&t instanceof kd)return t;const n=new kd;return n.parse(t,e),n}kd.prototype.parse=function(t,e){let n,s,i,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=vd.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let r=_d.exec(o);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(e||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||r&&xd[r]||(o=o.substr(2),this.slashes=!0)),!xd[r]&&(i||r&&!Sd[r])){let t,e,n=-1;for(let a=0;a<Ad.length;a++)s=o.indexOf(Ad[a]),-1!==s&&(-1===n||s<n)&&(n=s);e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1;for(let a=0;a<Dd.length;a++)s=o.indexOf(Dd[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){const t=this.hostname.split(/\./);for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n&&!n.match(wd)){let s="";for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?s+="x":s+=n[t];if(!s.match(wd)){const s=t.slice(0,e),i=t.slice(e+1),r=n.match(Ed);r&&(s.push(r[1]),i.unshift(r[2])),i.length&&(o=i.join(".")+o),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),Sd[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},kd.prototype.parseHost=function(t){let e=bd.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Ld=Object.freeze(Object.defineProperty({__proto__:null,decode:pd,encode:gd,format:fd,parse:Fd},Symbol.toStringTag,{value:"Module"})),Td=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Md=/[\0-\x1F\x7F-\x9F]/,zd=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Bd=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Id=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Nd=Object.freeze(Object.defineProperty({__proto__:null,Any:Td,Cc:Md,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:zd,S:Bd,Z:Id},Symbol.toStringTag,{value:"Module"})),Od=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map((t=>t.charCodeAt(0)))),Hd=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map((t=>t.charCodeAt(0))));var jd;const Rd=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Pd=null!==(jd=String.fromCodePoint)&&void 0!==jd?jd:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var $d,qd;(qd=$d||($d={}))[qd.NUM=35]="NUM",qd[qd.SEMI=59]="SEMI",qd[qd.EQUALS=61]="EQUALS",qd[qd.ZERO=48]="ZERO",qd[qd.NINE=57]="NINE",qd[qd.LOWER_A=97]="LOWER_A",qd[qd.LOWER_F=102]="LOWER_F",qd[qd.LOWER_X=120]="LOWER_X",qd[qd.LOWER_Z=122]="LOWER_Z",qd[qd.UPPER_A=65]="UPPER_A",qd[qd.UPPER_F=70]="UPPER_F",qd[qd.UPPER_Z=90]="UPPER_Z";var Vd,Ud,Zd,Wd,Gd,Kd;function Jd(t){return t>=$d.ZERO&&t<=$d.NINE}function Qd(t){return t===$d.EQUALS||function(t){return t>=$d.UPPER_A&&t<=$d.UPPER_Z||t>=$d.LOWER_A&&t<=$d.LOWER_Z||Jd(t)}(t)}(Ud=Vd||(Vd={}))[Ud.VALUE_LENGTH=49152]="VALUE_LENGTH",Ud[Ud.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Ud[Ud.JUMP_TABLE=127]="JUMP_TABLE",(Wd=Zd||(Zd={}))[Wd.EntityStart=0]="EntityStart",Wd[Wd.NumericStart=1]="NumericStart",Wd[Wd.NumericDecimal=2]="NumericDecimal",Wd[Wd.NumericHex=3]="NumericHex",Wd[Wd.NamedEntity=4]="NamedEntity",(Kd=Gd||(Gd={}))[Kd.Legacy=0]="Legacy",Kd[Kd.Strict=1]="Strict",Kd[Kd.Attribute=2]="Attribute";class Yd{constructor(t,e,n){this.decodeTree=t,this.emitCodePoint=e,this.errors=n,this.state=Zd.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Gd.Strict}startEntity(t){this.decodeMode=t,this.state=Zd.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case Zd.EntityStart:return t.charCodeAt(e)===$d.NUM?(this.state=Zd.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=Zd.NamedEntity,this.stateNamedEntity(t,e));case Zd.NumericStart:return this.stateNumericStart(t,e);case Zd.NumericDecimal:return this.stateNumericDecimal(t,e);case Zd.NumericHex:return this.stateNumericHex(t,e);case Zd.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===$d.LOWER_X?(this.state=Zd.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=Zd.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,n,s){if(e!==n){const i=n-e;this.result=this.result*Math.pow(s,i)+parseInt(t.substr(e,i),s),this.consumed+=i}}stateNumericHex(t,e){const n=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!(Jd(i)||(s=i,s>=$d.UPPER_A&&s<=$d.UPPER_F||s>=$d.LOWER_A&&s<=$d.LOWER_F)))return this.addToNumericResult(t,n,e,16),this.emitNumericEntity(i,3);e+=1}var s;return this.addToNumericResult(t,n,e,16),-1}stateNumericDecimal(t,e){const n=e;for(;e<t.length;){const s=t.charCodeAt(e);if(!Jd(s))return this.addToNumericResult(t,n,e,10),this.emitNumericEntity(s,2);e+=1}return this.addToNumericResult(t,n,e,10),-1}emitNumericEntity(t,e){var n;if(this.consumed<=e)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===$d.SEMI)this.consumed+=1;else if(this.decodeMode===Gd.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=Rd.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==$d.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:n}=this;let s=n[this.treeIndex],i=(s&Vd.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=th(n,s,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===Gd.Attribute&&(0===i||Qd(o))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],i=(s&Vd.VALUE_LENGTH)>>14,0!==i){if(o===$d.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Gd.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:n}=this,s=(n[e]&Vd.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,s,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,n){const{decodeTree:s}=this;return this.emitCodePoint(1===e?s[t]&~Vd.VALUE_LENGTH:s[t+1],n),3===e&&this.emitCodePoint(s[t+2],n),n}end(){var t;switch(this.state){case Zd.NamedEntity:return 0===this.result||this.decodeMode===Gd.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Zd.NumericDecimal:return this.emitNumericEntity(0,2);case Zd.NumericHex:return this.emitNumericEntity(0,3);case Zd.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Zd.EntityStart:return 0}}}function Xd(t){let e="";const n=new Yd(t,(t=>e+=Pd(t)));return function(t,s){let i=0,o=0;for(;(o=t.indexOf("&",o))>=0;){e+=t.slice(i,o),n.startEntity(s);const r=n.write(t,o+1);if(r<0){i=o+n.end();break}i=o+r,o=0===r?i+1:i}const r=e+t.slice(i);return e="",r}}function th(t,e,n,s){const i=(e&Vd.BRANCH_LENGTH)>>7,o=e&Vd.JUMP_TABLE;if(0===i)return 0!==o&&s===o?n:-1;if(o){const e=s-o;return e<0||e>=i?-1:t[n+e]-1}let r=n,a=r+i-1;for(;r<=a;){const e=r+a>>>1,n=t[e];if(n<s)r=e+1;else{if(!(n>s))return t[e+i];a=e-1}}return-1}const eh=Xd(Od);function nh(t,e=Gd.Legacy){return eh(t,e)}function sh(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}Xd(Hd);const ih=Object.prototype.hasOwnProperty;function oh(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function rh(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function ah(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function ch(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const lh=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,uh=new RegExp(lh.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),dh=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function hh(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(uh,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&dh.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return ah(n)?ch(n):t}const n=nh(t);return n!==t?n:t}(t,n)}))}const ph=/[&<>"]/,mh=/[&<>"]/g,gh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function fh(t){return gh[t]}function kh(t){return ph.test(t)?t.replace(mh,fh):t}const _h=/[.?*+^$[\]\\(){}|-]/g;function bh(t){switch(t){case 9:case 32:return!0}return!1}function vh(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function yh(t){return zd.test(t)||Bd.test(t)}function Ch(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Dh(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Ah={mdurl:Ld,ucmicro:Nd},wh=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:rh,assign:oh,escapeHtml:kh,escapeRE:function(t){return t.replace(_h,"\\$&")},fromCodePoint:ch,has:function(t,e){return ih.call(t,e)},isMdAsciiPunct:Ch,isPunctChar:yh,isSpace:bh,isString:sh,isValidEntityCode:ah,isWhiteSpace:vh,lib:Ah,normalizeReference:Dh,unescapeAll:hh,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(lh,"$1")}},Symbol.toStringTag,{value:"Module"}));const Eh=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,e,n){let s,i=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(i)){for(i++;i<n;){if(s=t.charCodeAt(i),10===s)return o;if(60===s)return o;if(62===s)return o.pos=i+1,o.str=hh(t.slice(e+1,i)),o.ok=!0,o;92===s&&i+1<n?i+=2:i++}return o}let r=0;for(;i<n&&(s=t.charCodeAt(i),32!==s)&&!(s<32||127===s);)if(92===s&&i+1<n){if(32===t.charCodeAt(i+1))break;i+=2}else{if(40===s&&(r++,r>32))return o;if(41===s){if(0===r)break;r--}i++}return e===i||0!==r||(o.str=hh(t.slice(e,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(t,e,n){let s,i,o,r;const a=t.posMax,c=t.pos;for(t.pos=e+1,s=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(s--,0===s)){i=!0;break}if(r=t.pos,t.md.inline.skipToken(t),91===o)if(r===t.pos-1)s++;else if(n)return t.pos=c,-1}let l=-1;return i&&(l=t.pos),t.pos=c,l},parseLinkTitle:function(t,e,n,s){let i,o=e;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)r.str=s.str,r.marker=s.marker;else{if(o>=n)return r;let s=t.charCodeAt(o);if(34!==s&&39!==s&&40!==s)return r;e++,o++,40===s&&(s=41),r.marker=s}for(;o<n;){if(i=t.charCodeAt(o),i===r.marker)return r.pos=o+1,r.str+=hh(t.slice(e,o)),r.ok=!0,r;if(40===i&&41===r.marker)return r;92===i&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=hh(t.slice(e,o)),r}},Symbol.toStringTag,{value:"Module"})),xh={};function Sh(){this.rules=oh({},xh)}function Fh(){this.__rules__=[],this.__cache__=null}function Lh(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function Th(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}xh.code_inline=function(t,e,n,s,i){const o=t[e];return"<code"+i.renderAttrs(o)+">"+kh(o.content)+"</code>"},xh.code_block=function(t,e,n,s,i){const o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+kh(t[e].content)+"</code></pre>\n"},xh.fence=function(t,e,n,s,i){const o=t[e],r=o.info?hh(o.info).trim():"";let a,c="",l="";if(r){const t=r.split(/(\s+)/g);c=t[0],l=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||kh(o.content),0===a.indexOf("<pre"))return a+"\n";if(r){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",n.langPrefix+c]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+c);const s={attrs:e};return`<pre><code${i.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},xh.image=function(t,e,n,s,i){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,s),i.renderToken(t,e,n)},xh.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},xh.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},xh.text=function(t,e){return kh(t[e].content)},xh.html_block=function(t,e){return t[e].content},xh.html_inline=function(t,e){return t[e].content},Sh.prototype.renderAttrs=function(t){let e,n,s;if(!t.attrs)return"";for(s="",e=0,n=t.attrs.length;e<n;e++)s+=" "+kh(t.attrs[e][0])+'="'+kh(t.attrs[e][1])+'"';return s},Sh.prototype.renderToken=function(t,e,n){const s=t[e];let i="";if(s.hidden)return"";s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,1===s.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(o=!1)}return i+=o?">\n":">",i},Sh.prototype.renderInline=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e)}return s},Sh.prototype.renderInlineAsText=function(t,e,n){let s="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":case"html_inline":case"html_block":s+=t[i].content;break;case"image":s+=this.renderInlineAsText(t[i].children,e,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},Sh.prototype.render=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;"inline"===r?s+=this.renderInline(t[o].children,e,n):void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e,n)}return s},Fh.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},Fh.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},Fh.prototype.at=function(t,e,n){const s=this.__find__(t),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=i.alt||[],this.__cache__=null},Fh.prototype.before=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Fh.prototype.after=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Fh.prototype.push=function(t,e,n){const s=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null},Fh.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!0,n.push(t)}),this),this.__cache__=null,n},Fh.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},Fh.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!1,n.push(t)}),this),this.__cache__=null,n},Fh.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},Lh.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let n=0,s=e.length;n<s;n++)if(e[n][0]===t)return n;return-1},Lh.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},Lh.prototype.attrSet=function(t,e){const n=this.attrIndex(t),s=[t,e];n<0?this.attrPush(s):this.attrs[n]=s},Lh.prototype.attrGet=function(t){const e=this.attrIndex(t);let n=null;return e>=0&&(n=this.attrs[e][1]),n},Lh.prototype.attrJoin=function(t,e){const n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},Th.prototype.Token=Lh;const Mh=/\r\n?|\n/g,zh=/\0/g;function Bh(t){return/^<\/a\s*>/i.test(t)}const Ih=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Nh=/\((c|tm|r)\)/i,Oh=/\((c|tm|r)\)/gi,Hh={c:"",r:"",tm:""};function jh(t,e){return Hh[e.toLowerCase()]}function Rh(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||(s.content=s.content.replace(Oh,jh)),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}function Ph(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||Ih.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}const $h=/['"]/,qh=/['"]/g,Vh="";function Uh(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Zh(t,e){let n;const s=[];for(let i=0;i<t.length;i++){const o=t[i],r=t[i].level;for(n=s.length-1;n>=0&&!(s[n].level<=r);n--);if(s.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;t:for(;c<l;){qh.lastIndex=c;const u=qh.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let m=32;if(u.index-1>=0)m=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(c<l)g=a.charCodeAt(c);else for(n=i+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const f=Ch(m)||yh(String.fromCharCode(m)),k=Ch(g)||yh(String.fromCharCode(g)),_=vh(m),b=vh(g);if(b?d=!1:k&&(_||f||(d=!1)),_?h=!1:f&&(b||k||(h=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=f,h=k),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<r)break;if(d.single===p&&s[n].level===r){let r,h;d=s[n],p?(r=e.md.options.quotes[2],h=e.md.options.quotes[3]):(r=e.md.options.quotes[0],h=e.md.options.quotes[1]),o.content=Uh(o.content,u.index,h),t[d.token].content=Uh(t[d.token].content,d.pos,r),c+=h.length-1,d.token===i&&(c+=r.length-1),a=o.content,l=a.length,s.length=n;continue t}}d?s.push({token:i,pos:u.index,single:p,level:r}):h&&p&&(o.content=Uh(o.content,u.index,Vh))}else p&&(o.content=Uh(o.content,u.index,Vh))}}}const Wh=[["normalize",function(t){let e;e=t.src.replace(Mh,"\n"),e=e.replace(zh,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let n=0,s=e.length;n<s;n++){const s=e[n];"inline"===s.type&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}],["linkify",function(t){const e=t.tokens;var n;if(t.md.options.linkify)for(let s=0,i=e.length;s<i;s++){if("inline"!==e[s].type||!t.md.linkify.pretest(e[s].content))continue;let i=e[s].children,o=0;for(let r=i.length-1;r>=0;r--){const a=i[r];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,Bh(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content;let o=t.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&r>0&&"text_special"===i[r-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const s=o[e].url,i=t.md.normalizeLink(s);if(!t.md.validateLink(i))continue;let r=o[e].text;r=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(r)?t.md.normalizeLinkText(r):t.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const a=o[e].index;if(a>u){const e=new t.Token("text","",0);e.content=n.slice(u,a),e.level=l,c.push(e)}const d=new t.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new t.Token("text","",0);h.content=r,h.level=l,c.push(h);const p=new t.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=l,c.push(e)}e[s].children=i=rh(i,r,c)}}else for(r--;i[r].level!==a.level&&"link_open"!==i[r].type;)r--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(Nh.test(t.tokens[e].content)&&Rh(t.tokens[e].children),Ih.test(t.tokens[e].content)&&Ph(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&$h.test(t.tokens[e].content)&&Zh(t.tokens[e].children,t)}],["text_join",function(t){let e,n;const s=t.tokens,i=s.length;for(let o=0;o<i;o++){if("inline"!==s[o].type)continue;const t=s[o].children,i=t.length;for(e=0;e<i;e++)"text_special"===t[e].type&&(t[e].type="text");for(e=n=0;e<i;e++)"text"===t[e].type&&e+1<i&&"text"===t[e+1].type?t[e+1].content=t[e].content+t[e+1].content:(e!==n&&(t[n]=t[e]),n++);e!==n&&(t.length=n)}}]];function Gh(){this.ruler=new Fh;for(let t=0;t<Wh.length;t++)this.ruler.push(Wh[t][0],Wh[t][1])}function Kh(t,e,n,s){this.src=t,this.md=e,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,r=0,a=0,c=0,l=i.length,u=!1;r<l;r++){const t=i.charCodeAt(r);if(!u){if(bh(t)){a++,9===t?c+=4-c%4:c++;continue}u=!0}10!==t&&r!==l-1||(10!==t&&r++,this.bMarks.push(o),this.eMarks.push(r),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=r+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Gh.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,s=e.length;n<s;n++)e[n](t)},Gh.prototype.State=Th,Kh.prototype.push=function(t,e,n){const s=new Lh(t,e,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},Kh.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},Kh.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},Kh.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!bh(this.src.charCodeAt(t)))break}return t},Kh.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!bh(this.src.charCodeAt(--t)))return t+1;return t},Kh.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},Kh.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},Kh.prototype.getLines=function(t,e,n,s){if(t>=e)return"";const i=new Array(e-t);for(let o=0,r=t;r<e;r++,o++){let t=0;const a=this.bMarks[r];let c,l=a;for(c=r+1<e||s?this.eMarks[r]+1:this.eMarks[r];l<c&&t<n;){const e=this.src.charCodeAt(l);if(bh(e))9===e?t+=4-(t+this.bsCount[r])%4:t++;else{if(!(l-a<this.tShift[r]))break;t++}l++}i[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},Kh.prototype.Token=Lh;function Jh(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(n,s)}function Qh(t){const e=[],n=t.length;let s=0,i=t.charCodeAt(s),o=!1,r=0,a="";for(;s<n;)124===i&&(o?(a+=t.substring(r,s-1),r=s):(e.push(a+t.substring(r,s)),a="",r=s+1)),o=92===i,s++,i=t.charCodeAt(s);return e.push(a+t.substring(r)),e}function Yh(t,e){const n=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(s++);if(42!==i&&45!==i&&43!==i)return-1;if(s<n){if(!bh(t.src.charCodeAt(s)))return-1}return s}function Xh(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let i=n;if(i+1>=s)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=s)return-1;if(o=t.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<s&&(o=t.src.charCodeAt(i),!bh(o))?-1:i}const tp="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",ep="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",np=new RegExp("^(?:"+tp+"|"+ep+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),sp=new RegExp("^(?:"+tp+"|"+ep+")"),ip=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(sp.source+"\\s*$"),/^$/,!1]];const op=[["table",function(t,e,n,s){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent)return!1;if(t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const r=t.src.charCodeAt(o++);if(124!==r&&45!==r&&58!==r)return!1;if(o>=t.eMarks[i])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!bh(a))return!1;if(45===r&&bh(a))return!1;for(;o<t.eMarks[i];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!bh(e))return!1;o++}let c=Jh(t,e+1),l=c.split("|");const u=[];for(let k=0;k<l.length;k++){const t=l[k].trim();if(!t){if(0===k||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(c=Jh(t,e).trim(),-1===c.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;l=Qh(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(s)return!0;const h=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=[e,0];t.push("table_open","table",1).map=m,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let k=0;k<l.length;k++){const e=t.push("th_open","th",1);u[k]&&(e.attrs=[["style","text-align:"+u[k]]]);const n=t.push("inline","",0);n.content=l[k].trim(),n.children=[],t.push("th_close","th",-1)}let g;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let f=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let s=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,i,n,!0)){s=!0;break}if(s)break;if(c=Jh(t,i).trim(),!c)break;if(t.sCount[i]-t.blkIndent>=4)break;if(l=Qh(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),f+=d-l.length,f>65536)break;if(i===e+2){t.push("tbody_open","tbody",1).map=g=[e+2,0]}t.push("tr_open","tr",1).map=[i,i+1];for(let e=0;e<d;e++){const n=t.push("td_open","td",1);u[e]&&(n.attrs=[["style","text-align:"+u[e]]]);const s=t.push("inline","",0);s.content=l[e]?l[e].trim():"",s.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return g&&(t.push("tbody_close","tbody",-1),g[1]=i),t.push("table_close","table",-1),m[1]=i,t.parentType=h,t.line=i,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,i=s;for(;s<n;)if(t.isEmpty(s))s++;else{if(!(t.sCount[s]-t.blkIndent>=4))break;s++,i=s}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(i+3>o)return!1;const r=t.src.charCodeAt(i);if(126!==r&&96!==r)return!1;let a=i;i=t.skipChars(i,r);let c=i-a;if(c<3)return!1;const l=t.src.slice(a,i),u=t.src.slice(i,o);if(96===r&&u.indexOf(String.fromCharCode(r))>=0)return!1;if(s)return!0;let d=e,h=!1;for(;(d++,!(d>=n))&&(i=a=t.bMarks[d]+t.tShift[d],o=t.eMarks[d],!(i<o&&t.sCount[d]<t.blkIndent));)if(t.src.charCodeAt(i)===r&&!(t.sCount[d]-t.blkIndent>=4||(i=t.skipChars(i,r),i-a<c||(i=t.skipSpaces(i),i<o)))){h=!0;break}c=t.sCount[e],t.line=d+(h?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,d,c,!0),p.markup=l,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const r=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(i))return!1;if(s)return!0;const a=[],c=[],l=[],u=[],d=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let p,m=!1;for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],i>=o)break;if(62===t.src.charCodeAt(i++)&&!e){let e,n,s=t.sCount[p]+1;32===t.src.charCodeAt(i)?(i++,s++,n=!1,e=!0):9===t.src.charCodeAt(i)?(e=!0,(t.bsCount[p]+s)%4==3?(i++,s++,n=!1):n=!0):e=!1;let r=s;for(a.push(t.bMarks[p]),t.bMarks[p]=i;i<o;){const e=t.src.charCodeAt(i);if(!bh(e))break;9===e?r+=4-(r+t.bsCount[p]+(n?1:0))%4:r++,i++}m=i>=o,c.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),l.push(t.sCount[p]),t.sCount[p]=r-s,u.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(m)break;let s=!1;for(let i=0,o=d.length;i<o;i++)if(d[i](t,p,n,!0)){s=!0;break}if(s){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]=-1}const g=t.blkIndent;t.blkIndent=0;const f=t.push("blockquote_open","blockquote",1);f.markup=">";const k=[e,0];f.map=k,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=r,t.parentType=h,k[1]=t.line;for(let _=0;_<u.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=u[_],t.sCount[_+e]=l[_],t.bsCount[_+e]=c[_];return t.blkIndent=g,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,s){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(o++);if(42!==r&&45!==r&&95!==r)return!1;let a=1;for(;o<i;){const e=t.src.charCodeAt(o++);if(e!==r&&!bh(e))return!1;e===r&&a++}if(a<3)return!1;if(s)return!0;t.line=e+1;const c=t.push("hr","hr",0);return c.map=[e,t.line],c.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,s){let i,o,r,a,c=e,l=!0;if(t.sCount[c]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[c]-t.listIndent>=4&&t.sCount[c]<t.blkIndent)return!1;let u,d,h,p=!1;if(s&&"paragraph"===t.parentType&&t.sCount[c]>=t.blkIndent&&(p=!0),(h=Xh(t,c))>=0){if(u=!0,r=t.bMarks[c]+t.tShift[c],d=Number(t.src.slice(r,h-1)),p&&1!==d)return!1}else{if(!((h=Yh(t,c))>=0))return!1;u=!1}if(p&&t.skipSpaces(h)>=t.eMarks[c])return!1;if(s)return!0;const m=t.src.charCodeAt(h-1),g=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=t.push("bullet_list_open","ul",1);const f=[c,0];a.map=f,a.markup=String.fromCharCode(m);let k=!1;const _=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";c<n;){o=h,i=t.eMarks[c];const e=t.sCount[c]+h-(t.bMarks[c]+t.tShift[c]);let s=e;for(;o<i;){const e=t.src.charCodeAt(o);if(9===e)s+=4-(s+t.bsCount[c])%4;else{if(32!==e)break;s++}o++}const d=o;let p;p=d>=i?1:s-e,p>4&&(p=1);const g=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const f=[c,0];a.map=f,u&&(a.info=t.src.slice(r,h-1));const b=t.tight,v=t.tShift[c],y=t.sCount[c],C=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=g,t.tight=!0,t.tShift[c]=d-t.bMarks[c],t.sCount[c]=s,d>=i&&t.isEmpty(c+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,c,n,!0),t.tight&&!k||(l=!1),k=t.line-c>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=C,t.tShift[c]=v,t.sCount[c]=y,t.tight=b,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),c=t.line,f[1]=c,c>=n)break;if(t.sCount[c]<t.blkIndent)break;if(t.sCount[c]-t.blkIndent>=4)break;let D=!1;for(let i=0,o=_.length;i<o;i++)if(_[i](t,c,n,!0)){D=!0;break}if(D)break;if(u){if(h=Xh(t,c),h<0)break;r=t.bMarks[c]+t.tShift[c]}else if(h=Yh(t,c),h<0)break;if(m!==t.src.charCodeAt(h-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),f[1]=c,t.line=c,t.parentType=b,l&&function(t,e){const n=t.level+2;for(let s=e+2,i=t.tokens.length-2;s<i;s++)t.tokens[s].level===n&&"paragraph_open"===t.tokens[s].type&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}(t,g),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],r=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(i))return!1;function a(e){const n=t.lineMax;if(e>=n||t.isEmpty(e))return null;let s=!1;if(t.sCount[e]-t.blkIndent>3&&(s=!0),t.sCount[e]<0&&(s=!0),!s){const s=t.md.block.ruler.getRules("reference"),i=t.parentType;t.parentType="reference";let o=!1;for(let r=0,a=s.length;r<a;r++)if(s[r](t,e,n,!0)){o=!0;break}if(t.parentType=i,o)return null}const i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(i,o+1)}let c=t.src.slice(i,o+1);o=c.length;let l=-1;for(i=1;i<o;i++){const t=c.charCodeAt(i);if(91===t)return!1;if(93===t){l=i;break}if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(92===t&&(i++,i<o&&10===c.charCodeAt(i))){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(i=l+2;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!bh(t))break}const u=t.md.helpers.parseLinkDestination(c,i,o);if(!u.ok)return!1;const d=t.md.normalizeLink(u.str);if(!t.md.validateLink(d))return!1;i=u.pos;const h=i,p=r,m=i;for(;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!bh(t))break}let g,f=t.md.helpers.parseLinkTitle(c,i,o);for(;f.can_continue;){const e=a(r);if(null===e)break;c+=e,i=o,o=c.length,r++,f=t.md.helpers.parseLinkTitle(c,i,o,f)}for(i<o&&m!==i&&f.ok?(g=f.str,i=f.pos):(g="",i=h,r=p);i<o;){if(!bh(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i)&&g)for(g="",i=h,r=p;i<o;){if(!bh(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i))return!1;const k=Dh(c.slice(1,l));return!!k&&(s||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[k]&&(t.env.references[k]={title:g,href:d}),t.line=r),!0)}],["html_block",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(i))return!1;let r=t.src.slice(i,o),a=0;for(;a<ip.length&&!ip[a][0].test(r);a++);if(a===ip.length)return!1;if(s)return ip[a][2];let c=e+1;if(!ip[a][1].test(r))for(;c<n&&!(t.sCount[c]<t.blkIndent);c++)if(i=t.bMarks[c]+t.tShift[c],o=t.eMarks[c],r=t.src.slice(i,o),ip[a][1].test(r)){0!==r.length&&c++;break}t.line=c;const l=t.push("html_block","",0);return l.map=[e,c],l.content=t.getLines(e,c,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let r=t.src.charCodeAt(i);if(35!==r||i>=o)return!1;let a=1;for(r=t.src.charCodeAt(++i);35===r&&i<o&&a<=6;)a++,r=t.src.charCodeAt(++i);if(a>6||i<o&&!bh(r))return!1;if(s)return!0;o=t.skipSpacesBack(o,i);const c=t.skipCharsBack(o,35,i);c>i&&bh(t.src.charCodeAt(c-1))&&(o=c),t.line=e+1;const l=t.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(i,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o,r=0,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const n=t.eMarks[a];if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){r=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let i=0,o=s.length;i<o;i++)if(s[i](t,a,n,!0)){e=!0;break}if(e)break}if(!r)return!1;const c=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const l=t.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=c,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),t.parentType=i,!0}],["paragraph",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let i=0,r=s.length;i<r;i++)if(s[i](t,o,n,!0)){e=!0;break}if(e)break}const r=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=r,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}]];function rp(){this.ruler=new Fh;for(let t=0;t<op.length;t++)this.ruler.push(op[t][0],op[t][1],{alt:(op[t][2]||[]).slice()})}function ap(t,e,n,s){this.src=t,this.env=n,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function cp(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}rp.prototype.tokenize=function(t,e,n){const s=this.ruler.getRules(""),i=s.length,o=t.md.options.maxNesting;let r=e,a=!1;for(;r<n&&(t.line=r=t.skipEmptyLines(r),!(r>=n))&&!(t.sCount[r]<t.blkIndent);){if(t.level>=o){t.line=n;break}const e=t.line;let c=!1;for(let o=0;o<i;o++)if(c=s[o](t,r,n,!1),c){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),r=t.line,r<n&&t.isEmpty(r)&&(a=!0,r++,t.line=r)}},rp.prototype.parse=function(t,e,n,s){if(!t)return;const i=new this.State(t,e,n,s);this.tokenize(i,i.line,i.lineMax)},rp.prototype.State=Kh,ap.prototype.pushPending=function(){const t=new Lh("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},ap.prototype.push=function(t,e,n){this.pending&&this.pushPending();const s=new Lh(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},ap.prototype.scanDelims=function(t,e){const n=this.posMax,s=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===s;)o++;const r=o-t,a=o<n?this.src.charCodeAt(o):32,c=Ch(i)||yh(String.fromCharCode(i)),l=Ch(a)||yh(String.fromCharCode(a)),u=vh(i),d=vh(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(e||!p||c),can_close:p&&(e||!h||l),length:r}},ap.prototype.Token=Lh;const lp=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const up=[];for(let m=0;m<256;m++)up.push(0);function dp(t,e){let n;const s=[],i=e.length;for(let o=0;o<i;o++){const i=e[o];if(126!==i.marker)continue;if(-1===i.end)continue;const r=e[i.end];n=t.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[r.token-1].type&&"~"===t.tokens[r.token-1].content&&s.push(r.token-1)}for(;s.length;){const e=s.pop();let i=e+1;for(;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;i--,e!==i&&(n=t.tokens[i],t.tokens[i]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){up[t.charCodeAt(0)]=1}));const hp={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(126!==s)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const r=String.fromCharCode(s);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=r,o--);for(let c=0;c<o;c+=2)a=t.push("text","",0),a.content=r+r,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;dp(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&dp(t,e[s].delimiters)}};function pp(t,e){for(let n=e.length-1;n>=0;n--){const s=e[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const i=e[s.end],o=n>0&&e[n-1].end===s.end+1&&e[n-1].marker===s.marker&&e[n-1].token===s.token-1&&e[s.end+1].token===i.token+1,r=String.fromCharCode(s.marker),a=t.tokens[s.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content="";const c=t.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?r+r:r,c.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[s.end+1].token].content="",n--)}}const mp={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(95!==s&&42!==s)return!1;const i=t.scanDelims(t.pos,42===s);for(let o=0;o<i.length;o++){t.push("text","",0).content=String.fromCharCode(s),t.delimiters.push({marker:s,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;pp(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&pp(t,e[s].delimiters)}};const gp=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,fp=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const kp=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,_p=/^&([a-z][a-z0-9]{1,31});/i;function bp(t){const e={},n=t.length;if(!n)return;let s=0,i=-2;const o=[];for(let r=0;r<n;r++){const n=t[r];if(o.push(0),t[s].marker===n.marker&&i===n.token-1||(s=r),i=n.token,n.length=n.length||0,!n.close)continue;e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[n.marker][(n.open?3:0)+n.length%3];let c=s-o[s]-1,l=c;for(;c>a;c-=o[c]+1){const e=t[c];if(e.marker===n.marker&&(e.open&&e.end<0)){let s=!1;if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(s=!0)),!s){const s=c>0&&!t[c-1].open?o[c-1]+1:0;o[r]=r-c+s,o[c]=s,n.open=!1,e.end=r,e.close=!1,l=-1,i=-2;break}}}-1!==l&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const vp=[["text",function(t,e){let n=t.pos;for(;n<t.posMax&&!cp(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const n=t.pos;if(n+3>t.posMax)return!1;if(58!==t.src.charCodeAt(n))return!1;if(47!==t.src.charCodeAt(n+1))return!1;if(47!==t.src.charCodeAt(n+2))return!1;const s=t.pending.match(lp);if(!s)return!1;const i=s[1],o=t.md.linkify.matchAtStart(t.src.slice(n-i.length));if(!o)return!1;let r=o.url;if(r.length<=i.length)return!1;r=r.replace(/\*+$/,"");const a=t.md.normalizeLink(r);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(r);const n=t.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return t.pos+=r.length-i.length,!0}],["newline",function(t,e){let n=t.pos;if(10!==t.src.charCodeAt(n))return!1;const s=t.pending.length-1,i=t.posMax;if(!e)if(s>=0&&32===t.pending.charCodeAt(s))if(s>=1&&32===t.pending.charCodeAt(s-1)){let e=s-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&bh(t.src.charCodeAt(n));)n++;return t.pos=n,!0}],["escape",function(t,e){let n=t.pos;const s=t.posMax;if(92!==t.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let i=t.src.charCodeAt(n);if(10===i){for(e||t.push("hardbreak","br",0),n++;n<s&&(i=t.src.charCodeAt(n),bh(i));)n++;return t.pos=n,!0}let o=t.src[n];if(i>=55296&&i<=56319&&n+1<s){const e=t.src.charCodeAt(n+1);e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const r="\\"+o;if(!e){const e=t.push("text_special","",0);i<256&&0!==up[i]?e.content=o:e.content=r,e.markup=r,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos;if(96!==t.src.charCodeAt(n))return!1;const s=n;n++;const i=t.posMax;for(;n<i&&96===t.src.charCodeAt(n);)n++;const o=t.src.slice(s,n),r=o.length;if(t.backticksScanned&&(t.backticks[r]||0)<=s)return e||(t.pending+=o),t.pos+=r,!0;let a,c=n;for(;-1!==(a=t.src.indexOf("`",c));){for(c=a+1;c<i&&96===t.src.charCodeAt(c);)c++;const s=c-a;if(s===r){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=c,!0}t.backticks[s]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=r,!0}],["strikethrough",hp.tokenize],["emphasis",mp.tokenize],["link",function(t,e){let n,s,i,o,r="",a="",c=t.pos,l=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,d=t.posMax,h=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<d&&40===t.src.charCodeAt(m)){for(l=!1,m++;m<d&&(n=t.src.charCodeAt(m),bh(n)||10===n);m++);if(m>=d)return!1;if(c=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(r=t.md.normalizeLink(i.str),t.md.validateLink(r)?m=i.pos:r="",c=m;m<d&&(n=t.src.charCodeAt(m),bh(n)||10===n);m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<d&&c!==m&&i.ok)for(a=i.str,m=i.pos;m<d&&(n=t.src.charCodeAt(m),bh(n)||10===n);m++);}(m>=d||41!==t.src.charCodeAt(m))&&(l=!0),m++}if(l){if(void 0===t.env.references)return!1;if(m<d&&91===t.src.charCodeAt(m)?(c=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?s=t.src.slice(c,m++):m=p+1):m=p+1,s||(s=t.src.slice(h,p)),o=t.env.references[Dh(s)],!o)return t.pos=u,!1;r=o.href,a=o.title}if(!e){t.pos=h,t.posMax=p;const e=[["href",r]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=d,!0}],["image",function(t,e){let n,s,i,o,r,a,c,l,u="";const d=t.pos,h=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(o=m+1,o<h&&40===t.src.charCodeAt(o)){for(o++;o<h&&(n=t.src.charCodeAt(o),bh(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=t.src.charCodeAt(o),bh(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=t.src.charCodeAt(o),bh(n)||10===n);o++);else c="";if(o>=h||41!==t.src.charCodeAt(o))return t.pos=d,!1;o++}else{if(void 0===t.env.references)return!1;if(o<h&&91===t.src.charCodeAt(o)?(l=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(l,o++):o=m+1):o=m+1,i||(i=t.src.slice(p,m)),r=t.env.references[Dh(i)],!r)return t.pos=d,!1;u=r.href,c=r.title}if(!e){s=t.src.slice(p,m);const e=[];t.md.inline.parse(s,t.md,t.env,e);const n=t.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=e,n.content=s,c&&i.push(["title",c])}return t.pos=o,t.posMax=h,!0}],["autolink",function(t,e){let n=t.pos;if(60!==t.src.charCodeAt(n))return!1;const s=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const e=t.src.charCodeAt(n);if(60===e)return!1;if(62===e)break}const o=t.src.slice(s+1,n);if(fp.test(o)){const n=t.md.normalizeLink(o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}if(gp.test(o)){const n=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const n=t.posMax,s=t.pos;if(60!==t.src.charCodeAt(s)||s+2>=n)return!1;const i=t.src.charCodeAt(s+1);if(33!==i&&63!==i&&47!==i&&!function(t){const e=32|t;return e>=97&&e<=122}(i))return!1;const o=t.src.slice(s).match(np);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],r=e.content,/^<a[>\s]/i.test(r)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var r;return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,s=t.posMax;if(38!==t.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===t.src.charCodeAt(n+1)){const s=t.src.slice(n).match(kp);if(s){if(!e){const e="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=t.push("text_special","",0);n.content=ah(e)?ch(e):ch(65533),n.markup=s[0],n.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(_p);if(s){const n=nh(s[0]);if(n!==s[0]){if(!e){const e=t.push("text_special","",0);e.content=n,e.markup=s[0],e.info="entity"}return t.pos+=s[0].length,!0}}}return!1}]],yp=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length;bp(t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&bp(e[s].delimiters)}],["strikethrough",hp.postProcess],["emphasis",mp.postProcess],["fragments_join",function(t){let e,n,s=0;const i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)i[e].nesting<0&&s--,i[e].level=s,i[e].nesting>0&&s++,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}]];function Cp(){this.ruler=new Fh;for(let t=0;t<vp.length;t++)this.ruler.push(vp[t][0],vp[t][1]);this.ruler2=new Fh;for(let t=0;t<yp.length;t++)this.ruler2.push(yp[t][0],yp[t][1])}function Dp(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function Ap(t){return Object.prototype.toString.call(t)}function wp(t){return"[object Function]"===Ap(t)}function Ep(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Cp.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),s=n.length,i=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let r=!1;if(t.level<i){for(let a=0;a<s;a++)if(t.level++,r=n[a](t,!0),t.level--,r){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;r||t.pos++,o[e]=t.pos},Cp.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,s=t.posMax,i=t.md.options.maxNesting;for(;t.pos<s;){const o=t.pos;let r=!1;if(t.level<i)for(let s=0;s<n;s++)if(r=e[s](t,!1),r){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(r){if(t.pos>=s)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},Cp.prototype.parse=function(t,e,n,s){const i=new this.State(t,e,n,s);this.tokenize(i);const o=this.ruler2.getRules(""),r=o.length;for(let a=0;a<r;a++)o[a](i)},Cp.prototype.State=ap;const xp={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const Sp={"http:":{validate:function(t,e,n){const s=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const s=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const s=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},Fp="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Lp="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Tp(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=Td.source,e.src_Cc=Md.source,e.src_Z=Id.source,e.src_P=zd.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(Fp),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const i=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e];if(null===n)return;const s={validate:null,link:null};if(t.__compiled__[e]=s,"[object Object]"===Ap(n))return!function(t){return"[object RegExp]"===Ap(t)}(n.validate)?wp(n.validate)?s.validate=n.validate:o(e,n):s.validate=function(t){return function(e,n){const s=e.slice(n);return t.test(s)?s.match(t)[0].length:0}}(n.validate),void(wp(n.normalize)?s.normalize=n.normalize:n.normalize?o(e,n):s.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===Ap(t)}(n)?o(e,n):i.push(e)})),i.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const r=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(Ep).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function Mp(t,e){const n=t.__index__,s=t.__last_index__,i=t.__text_cache__.slice(n,s);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=s+e,this.raw=i,this.text=i,this.url=i}function zp(t,e){const n=new Mp(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Bp(t,e){if(!(this instanceof Bp))return new Bp(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||xp.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=Dp({},xp,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Dp({},Sp,t),this.__compiled__={},this.__tlds__=Lp,this.__tlds_replaced__=!1,this.re={},Tp(this)}Bp.prototype.add=function(t,e){return this.__schemas__[t]=e,Tp(this),this},Bp.prototype.set=function(t){return this.__opts__=Dp(this.__opts__,t),this},Bp.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,n,s,i,o,r,a,c,l;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex),i){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&null!==(s=t.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},Bp.prototype.pretest=function(t){return this.re.pretest.test(t)},Bp.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},Bp.prototype.match=function(t){const e=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(zp(this,n)),n=this.__last_index__);let s=n?t.slice(n):t;for(;this.test(s);)e.push(zp(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return e.length?e:null},Bp.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,zp(this,0)):null},Bp.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),Tp(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Tp(this),this)},Bp.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},Bp.prototype.onCompile=function(){};const Ip=2147483647,Np=36,Op=/^xn--/,Hp=/[^\0-\x7F]/,jp=/[\x2E\u3002\uFF0E\uFF61]/g,Rp={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pp=Math.floor,$p=String.fromCharCode;function qp(t){throw new RangeError(Rp[t])}function Vp(t,e){const n=t.split("@");let s="";n.length>1&&(s=n[0]+"@",t=n[1]);const i=function(t,e){const n=[];let s=t.length;for(;s--;)n[s]=e(t[s]);return n}((t=t.replace(jp,".")).split("."),e).join(".");return s+i}function Up(t){const e=[];let n=0;const s=t.length;for(;n<s;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<s){const s=t.charCodeAt(n++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),n--)}else e.push(i)}return e}const Zp=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},Wp=function(t,e,n){let s=0;for(t=n?Pp(t/700):t>>1,t+=Pp(t/e);t>455;s+=Np)t=Pp(t/35);return Pp(s+36*t/(t+38))},Gp=function(t){const e=[],n=t.length;let s=0,i=128,o=72,r=t.lastIndexOf("-");r<0&&(r=0);for(let c=0;c<r;++c)t.charCodeAt(c)>=128&&qp("not-basic"),e.push(t.charCodeAt(c));for(let c=r>0?r+1:0;c<n;){const r=s;for(let e=1,i=Np;;i+=Np){c>=n&&qp("invalid-input");const r=(a=t.charCodeAt(c++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:Np;r>=Np&&qp("invalid-input"),r>Pp((Ip-s)/e)&&qp("overflow"),s+=r*e;const l=i<=o?1:i>=o+26?26:i-o;if(r<l)break;const u=Np-l;e>Pp(Ip/u)&&qp("overflow"),e*=u}const l=e.length+1;o=Wp(s-r,l,0==r),Pp(s/l)>Ip-i&&qp("overflow"),i+=Pp(s/l),s%=l,e.splice(s++,0,i)}var a;return String.fromCodePoint(...e)},Kp=function(t){const e=[],n=(t=Up(t)).length;let s=128,i=0,o=72;for(const c of t)c<128&&e.push($p(c));const r=e.length;let a=r;for(r&&e.push("-");a<n;){let n=Ip;for(const e of t)e>=s&&e<n&&(n=e);const c=a+1;n-s>Pp((Ip-i)/c)&&qp("overflow"),i+=(n-s)*c,s=n;for(const l of t)if(l<s&&++i>Ip&&qp("overflow"),l===s){let t=i;for(let n=Np;;n+=Np){const s=n<=o?1:n>=o+26?26:n-o;if(t<s)break;const i=t-s,r=Np-s;e.push($p(Zp(s+i%r,0))),t=Pp(i/r)}e.push($p(Zp(t,0))),o=Wp(i,c,a===r),i=0,++a}++i,++s}return e.join("")},Jp={version:"2.3.1",ucs2:{decode:Up,encode:t=>String.fromCodePoint(...t)},decode:Gp,encode:Kp,toASCII:function(t){return Vp(t,(function(t){return Hp.test(t)?"xn--"+Kp(t):t}))},toUnicode:function(t){return Vp(t,(function(t){return Op.test(t)?Gp(t.slice(4).toLowerCase()):t}))}},Qp={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Yp=/^(vbscript|javascript|file|data):/,Xp=/^data:image\/(gif|png|jpeg|webp);/;function tm(t){const e=t.trim().toLowerCase();return!Yp.test(e)||Xp.test(e)}const em=["http:","https:","mailto:"];function nm(t){const e=Fd(t,!0);if(e.hostname&&(!e.protocol||em.indexOf(e.protocol)>=0))try{e.hostname=Jp.toASCII(e.hostname)}catch(n){}return gd(fd(e))}function sm(t){const e=Fd(t,!0);if(e.hostname&&(!e.protocol||em.indexOf(e.protocol)>=0))try{e.hostname=Jp.toUnicode(e.hostname)}catch(n){}return pd(fd(e),pd.defaultChars+"%")}function im(t,e){if(!(this instanceof im))return new im(t,e);e||sh(t)||(e=t||{},t="default"),this.inline=new Cp,this.block=new rp,this.core=new Gh,this.renderer=new Sh,this.linkify=new Bp,this.validateLink=tm,this.normalizeLink=nm,this.normalizeLinkText=sm,this.utils=wh,this.helpers=oh({},Eh),this.options={},this.configure(t),e&&this.set(e)}im.prototype.set=function(t){return oh(this.options,t),this},im.prototype.configure=function(t){const e=this;if(sh(t)){const e=t;if(!(t=Qp[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},im.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},im.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},im.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},im.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},im.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},im.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},im.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const om=new st({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:t=>["h"+t.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM:t=>["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ol",{start:1==t.attrs.order?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM:t=>["ul",{"data-tight":t.attrs.tight?"true":null},0]},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")})}],toDOM:t=>["img",t.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>"em"==t.type.name}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!=t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>"strong"==t.type.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),title:t.getAttribute("title")})}],toDOM:t=>["a",t.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class rm{constructor(t,e){this.schema=t,this.tokenHandlers=e,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:it.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let e,n=this.top(),s=n.content,i=s[s.length-1],o=this.schema.text(t,n.marks);i&&(e=function(t,e){if(t.isText&&e.isText&&it.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}(i,o))?s[s.length-1]=e:s.push(o)}openMark(t){let e=this.top();e.marks=t.addToSet(e.marks)}closeMark(t){let e=this.top();e.marks=t.removeFromSet(e.marks)}parseTokens(t){for(let e=0;e<t.length;e++){let n=t[e],s=this.tokenHandlers[n.type];if(!s)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");s(this,n,t,e)}}addNode(t,e,n){let s=this.top(),i=t.createAndFill(e,n,s?s.marks:[]);return i?(this.push(i),i):null}openNode(t,e){this.stack.push({type:t,attrs:e,content:[],marks:it.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function am(t,e,n,s){return t.getAttrs?t.getAttrs(e,n,s):t.attrs instanceof Function?t.attrs(e):t.attrs}function cm(t,e){return t.noCloseToken||"code_inline"==e||"code_block"==e||"fence"==e}function lm(t){return"\n"==t[t.length-1]?t.slice(0,t.length-1):t}function um(){}function dm(t,e){for(;++e<t.length;)if("list_item_open"!=t[e].type)return t[e].hidden;return!1}new class{constructor(t,e,n){this.schema=t,this.tokenizer=e,this.tokens=n,this.tokenHandlers=function(t,e){let n=Object.create(null);for(let s in e){let i=e[s];if(i.block){let e=t.nodeType(i.block);cm(i,s)?n[s]=(t,n,s,o)=>{t.openNode(e,am(i,n,s,o)),t.addText(lm(n.content)),t.closeNode()}:(n[s+"_open"]=(t,n,s,o)=>t.openNode(e,am(i,n,s,o)),n[s+"_close"]=t=>t.closeNode())}else if(i.node){let e=t.nodeType(i.node);n[s]=(t,n,s,o)=>t.addNode(e,am(i,n,s,o))}else if(i.mark){let e=t.marks[i.mark];cm(i,s)?n[s]=(t,n,s,o)=>{t.openMark(e.create(am(i,n,s,o))),t.addText(lm(n.content)),t.closeMark(e)}:(n[s+"_open"]=(t,n,s,o)=>t.openMark(e.create(am(i,n,s,o))),n[s+"_close"]=t=>t.closeMark(e))}else{if(!i.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i));cm(i,s)?n[s]=um:(n[s+"_open"]=um,n[s+"_close"]=um)}}return n.text=(t,e)=>t.addText(e.content),n.inline=(t,e)=>t.parseTokens(e.children),n.softbreak=n.softbreak||(t=>t.addText(" ")),n}(t,n)}parse(t,e={}){let n,s=new rm(this.schema,this.tokenHandlers);s.parseTokens(this.tokenizer.parse(t,e));do{n=s.closeNode()}while(s.stack.length);return n||this.schema.topNodeType.createAndFill()}}(om,im("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,n)=>({tight:dm(e,n)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,n)=>({order:+t.attrGet("start")||1,tight:dm(e,n)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const hm={open:"",close:"",mixable:!0};const pm=new class{constructor(t,e,n={}){this.nodes=t,this.marks=e,this.options=n}serialize(t,e={}){e=Object.assign({},this.options,e);let n=new gm(this.nodes,this.marks,e);return n.renderContent(t),n.out}}({blockquote(t,e){t.wrapBlock("> ",null,e,(()=>t.renderContent(e)))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),s=n?n.sort().slice(-1)[0]+"`":"```";t.write(s+(e.attrs.params||"")+"\n"),t.text(e.textContent,!1),t.write("\n"),t.write(s),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",(()=>(e.attrs.bullet||"*")+" "))},ordered_list(t,e){let n=e.attrs.order||1,s=String(n+e.childCount-1).length,i=t.repeat(" ",s+2);t.renderList(e,i,(e=>{let i=String(n+e);return t.repeat(" ",s-i.length)+i+". "}))},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,s){for(let i=s+1;i<n.childCount;i++)if(n.child(i).type!=e.type)return void t.write("\\\n")},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(t,e,n,s)=>(t.inAutolink=function(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let s=e.child(n);return!(!s.isText||s.text!=t.attrs.href||s.marks[s.marks.length-1]!=t)&&(n==e.childCount-1||!t.isInSet(e.child(n+1).marks))}(e,n,s),t.inAutolink?"<":"["),close(t,e,n,s){let{inAutolink:i}=t;return t.inAutolink=void 0,i?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(t,e,n,s)=>mm(n.child(s),-1),close:(t,e,n,s)=>mm(n.child(s-1),1),escape:!1}});function mm(t,e){let n,s=/`+/g,i=0;if(t.isText)for(;n=s.exec(t.text);)i=Math.max(i,n[0].length);let o=i>0&&e>0?" `":"`";for(let r=0;r<i;r++)o+="`";return i>0&&e<0&&(o+=" "),o}let gm=class{constructor(t,e,n){this.nodes=t,this.marks=e,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1),void 0===this.options.hardBreakNodeName&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),t>1){let e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(let s=1;s<t;s++)this.out+=e+"\n"}this.closed=null}}getMark(t){let e=this.marks[t];if(!e){if(!1!==this.options.strict)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`);e=hm}return e}wrapBlock(t,e,n,s){let i=this.delim;this.write(null!=e?e:t),this.delim+=t,s(),this.delim=i,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,e=!0){let n=t.split("\n");for(let s=0;s<n.length;s++)this.write(),!e&&"["==n[s][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=e?this.esc(n[s],this.atBlockStart):n[s],s!=n.length-1&&(this.out+="\n")}render(t,e,n){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,e,n);else{if(!1!==this.options.strict)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach(((e,n,s)=>this.render(e,t,s)))}renderInline(t,e=!0){this.atBlockStart=e;let n=[],s="",i=(e,i,o)=>{let r=e?e.marks:[];e&&e.type.name===this.options.hardBreakNodeName&&(r=r.filter((e=>{if(o+1==t.childCount)return!1;let n=t.child(o+1);return e.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let a=s;if(s="",e&&e.isText&&r.some((t=>{let e=this.getMark(t.type.name);return e&&e.expelEnclosingWhitespace&&!t.isInSet(n)}))){let[t,s,i]=/^(\s*)(.*)$/m.exec(e.text);s&&(a+=s,(e=i?e.withText(i):null)||(r=n))}if(e&&e.isText&&r.some((e=>{let n=this.getMark(e.type.name);return n&&n.expelEnclosingWhitespace&&(o==t.childCount-1||!e.isInSet(t.child(o+1).marks))}))){let[t,i,o]=/^(.*?)(\s*)$/m.exec(e.text);o&&(s=o,(e=i?e.withText(i):null)||(r=n))}let c=r.length?r[r.length-1]:null,l=c&&!1===this.getMark(c.type.name).escape,u=r.length-(l?1:0);t:for(let t=0;t<u;t++){let e=r[t];if(!this.getMark(e.type.name).mixable)break;for(let s=0;s<n.length;s++){let i=n[s];if(!this.getMark(i.type.name).mixable)break;if(e.eq(i)){t>s?r=r.slice(0,s).concat(e).concat(r.slice(s,t)).concat(r.slice(t+1,u)):s>t&&(r=r.slice(0,t).concat(r.slice(t+1,s)).concat(e).concat(r.slice(s,u)));continue t}}}let d=0;for(;d<Math.min(n.length,u)&&r[d].eq(n[d]);)++d;for(;d<n.length;)this.text(this.markString(n.pop(),!1,t,o),!1);if(a&&this.text(a),e){for(;n.length<u;){let e=r[n.length];n.push(e),this.text(this.markString(e,!0,t,o),!1),this.atBlockStart=!1}l&&e.isText?this.text(this.markString(c,!0,t,o)+e.text+this.markString(c,!1,t,o+1),!1):this.render(e,t,o),this.atBlockStart=!1}(null==e?void 0:e.isText)&&e.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(i),i(null,0,t.childCount),this.atBlockStart=!1}renderList(t,e,n){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let s=void 0!==t.attrs.tight?t.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=s,t.forEach(((i,o,r)=>{r&&s&&this.flushClose(1),this.wrapBlock(e,n(r),t,(()=>this.render(i,t,r)))})),this.inTightList=i}esc(t,e=!1){return t=t.replace(/[`*\\~\[\]_]/g,((e,n)=>"_"==e&&n>0&&n+1<t.length&&t[n-1].match(/\w/)&&t[n+1].match(/\w/)?e:"\\"+e)),e&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let e=-1==t.indexOf('"')?'""':-1==t.indexOf("'")?"''":"()";return e[0]+t+e[1]}repeat(t,e){let n="";for(let s=0;s<e;s++)n+=t;return n}markString(t,e,n,s){let i=this.getMark(t.type.name),o=e?i.open:i.close;return"string"==typeof o?o:o(this,t,n,s)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}};const fm={};function km(t,e){"string"!=typeof e&&(e=km.defaultChars);const n=function(t){let e=fm[t];if(e)return e;e=fm[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);e.push(t)}for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);e[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,(function(t){let e="";for(let s=0,i=t.length;s<i;s+=3){const o=parseInt(t.slice(s+1,s+3),16);if(o<128)e+=n[o];else{if(192==(224&o)&&s+3<i){const n=parseInt(t.slice(s+4,s+6),16);if(128==(192&n)){const t=o<<6&1984|63&n;e+=t<128?"":String.fromCharCode(t),s+=3;continue}}if(224==(240&o)&&s+6<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&i)){const t=o<<12&61440|n<<6&4032|63&i;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),s+=6;continue}}if(240==(248&o)&&s+9<i){const n=parseInt(t.slice(s+4,s+6),16),i=parseInt(t.slice(s+7,s+9),16),r=parseInt(t.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&r)){let t=o<<18&1835008|n<<12&258048|i<<6&4032|63&r;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),s+=9;continue}}e+=""}}return e}))}km.defaultChars=";/?:@&=+$,#",km.componentChars="";const _m={};function bm(t,e,n){"string"!=typeof e&&(n=e,e=bm.defaultChars),void 0===n&&(n=!0);const s=function(t){let e=_m[t];if(e)return e;e=_m[t]=[];for(let n=0;n<128;n++){const t=String.fromCharCode(n);/^[0-9a-z]$/i.test(t)?e.push(t):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}(e);let i="";for(let o=0,r=t.length;o<r;o++){const e=t.charCodeAt(o);if(n&&37===e&&o+2<r&&/^[0-9a-f]{2}$/i.test(t.slice(o+1,o+3)))i+=t.slice(o,o+3),o+=2;else if(e<128)i+=s[e];else if(e>=55296&&e<=57343){if(e>=55296&&e<=56319&&o+1<r){const e=t.charCodeAt(o+1);if(e>=56320&&e<=57343){i+=encodeURIComponent(t[o]+t[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(t[o])}return i}function vm(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function ym(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}bm.defaultChars=";/?:@&=+$,-_.!~*'()#",bm.componentChars="-_.!~*'()";const Cm=/^([a-z0-9.+-]+:)/i,Dm=/:[0-9]*$/,Am=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wm=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Em=["'"].concat(wm),xm=["%","/","?",";","#"].concat(Em),Sm=["/","?","#"],Fm=/^[+a-z0-9A-Z_-]{0,63}$/,Lm=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tm={javascript:!0,"javascript:":!0},Mm={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function zm(t,e){if(t&&t instanceof ym)return t;const n=new ym;return n.parse(t,e),n}ym.prototype.parse=function(t,e){let n,s,i,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=Am.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let r=Cm.exec(o);if(r&&(r=r[0],n=r.toLowerCase(),this.protocol=r,o=o.substr(r.length)),(e||r||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||r&&Tm[r]||(o=o.substr(2),this.slashes=!0)),!Tm[r]&&(i||r&&!Mm[r])){let t,e,n=-1;for(let a=0;a<Sm.length;a++)s=o.indexOf(Sm[a]),-1!==s&&(-1===n||s<n)&&(n=s);e=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),n=-1;for(let a=0;a<xm.length;a++)s=o.indexOf(xm[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const r="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!r){const t=this.hostname.split(/\./);for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n&&!n.match(Fm)){let s="";for(let t=0,e=n.length;t<e;t++)n.charCodeAt(t)>127?s+="x":s+=n[t];if(!s.match(Fm)){const s=t.slice(0,e),i=t.slice(e+1),r=n.match(Lm);r&&(s.push(r[1]),i.unshift(r[2])),i.length&&(o=i.join(".")+o),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),r&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const c=o.indexOf("?");return-1!==c&&(this.search=o.substr(c),o=o.slice(0,c)),o&&(this.pathname=o),Mm[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},ym.prototype.parseHost=function(t){let e=Dm.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Bm=Object.freeze(Object.defineProperty({__proto__:null,decode:km,encode:bm,format:vm,parse:zm},Symbol.toStringTag,{value:"Module"})),Im=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Nm=/[\0-\x1F\x7F-\x9F]/,Om=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Hm=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,jm=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Rm=Object.freeze(Object.defineProperty({__proto__:null,Any:Im,Cc:Nm,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:Om,S:Hm,Z:jm},Symbol.toStringTag,{value:"Module"}));function Pm(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}const $m=Object.prototype.hasOwnProperty;function qm(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t}function Vm(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}function Um(t){return!(t>=55296&&t<=57343)&&(!(t>=64976&&t<=65007)&&(!!(65535&~t&&65534!=(65535&t))&&(!(t>=0&&t<=8)&&(11!==t&&(!(t>=14&&t<=31)&&(!(t>=127&&t<=159)&&!(t>1114111)))))))}function Zm(t){if(t>65535){const e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}const Wm=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,Gm=new RegExp(Wm.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Km=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Jm(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(Gm,(function(t,e,n){return e||function(t,e){if(35===e.charCodeAt(0)&&Km.test(e)){const n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return Um(n)?Zm(n):t}const n=nh(t);return n!==t?n:t}(t,n)}))}const Qm=/[&<>"]/,Ym=/[&<>"]/g,Xm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function tg(t){return Xm[t]}function eg(t){return Qm.test(t)?t.replace(Ym,tg):t}const ng=/[.?*+^$[\]\\(){}|-]/g;function sg(t){switch(t){case 9:case 32:return!0}return!1}function ig(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function og(t){return Om.test(t)||Hm.test(t)}function rg(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ag(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const cg={mdurl:Bm,ucmicro:Rm},lg=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:Vm,assign:qm,escapeHtml:eg,escapeRE:function(t){return t.replace(ng,"\\$&")},fromCodePoint:Zm,has:function(t,e){return $m.call(t,e)},isMdAsciiPunct:rg,isPunctChar:og,isSpace:sg,isString:Pm,isValidEntityCode:Um,isWhiteSpace:ig,lib:cg,normalizeReference:ag,unescapeAll:Jm,unescapeMd:function(t){return t.indexOf("\\")<0?t:t.replace(Wm,"$1")}},Symbol.toStringTag,{value:"Module"}));const ug=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(t,e,n){let s,i=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(i)){for(i++;i<n;){if(s=t.charCodeAt(i),10===s)return o;if(60===s)return o;if(62===s)return o.pos=i+1,o.str=Jm(t.slice(e+1,i)),o.ok=!0,o;92===s&&i+1<n?i+=2:i++}return o}let r=0;for(;i<n&&(s=t.charCodeAt(i),32!==s)&&!(s<32||127===s);)if(92===s&&i+1<n){if(32===t.charCodeAt(i+1))break;i+=2}else{if(40===s&&(r++,r>32))return o;if(41===s){if(0===r)break;r--}i++}return e===i||0!==r||(o.str=Jm(t.slice(e,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(t,e,n){let s,i,o,r;const a=t.posMax,c=t.pos;for(t.pos=e+1,s=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(s--,0===s)){i=!0;break}if(r=t.pos,t.md.inline.skipToken(t),91===o)if(r===t.pos-1)s++;else if(n)return t.pos=c,-1}let l=-1;return i&&(l=t.pos),t.pos=c,l},parseLinkTitle:function(t,e,n,s){let i,o=e;const r={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)r.str=s.str,r.marker=s.marker;else{if(o>=n)return r;let s=t.charCodeAt(o);if(34!==s&&39!==s&&40!==s)return r;e++,o++,40===s&&(s=41),r.marker=s}for(;o<n;){if(i=t.charCodeAt(o),i===r.marker)return r.pos=o+1,r.str+=Jm(t.slice(e,o)),r.ok=!0,r;if(40===i&&41===r.marker)return r;92===i&&o+1<n&&o++,o++}return r.can_continue=!0,r.str+=Jm(t.slice(e,o)),r}},Symbol.toStringTag,{value:"Module"})),dg={};function hg(){this.rules=qm({},dg)}function pg(){this.__rules__=[],this.__cache__=null}function mg(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function gg(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}dg.code_inline=function(t,e,n,s,i){const o=t[e];return"<code"+i.renderAttrs(o)+">"+eg(o.content)+"</code>"},dg.code_block=function(t,e,n,s,i){const o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+eg(t[e].content)+"</code></pre>\n"},dg.fence=function(t,e,n,s,i){const o=t[e],r=o.info?Jm(o.info).trim():"";let a,c="",l="";if(r){const t=r.split(/(\s+)/g);c=t[0],l=t.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,c,l)||eg(o.content),0===a.indexOf("<pre"))return a+"\n";if(r){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",n.langPrefix+c]):(e[t]=e[t].slice(),e[t][1]+=" "+n.langPrefix+c);const s={attrs:e};return`<pre><code${i.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},dg.image=function(t,e,n,s,i){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,s),i.renderToken(t,e,n)},dg.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},dg.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},dg.text=function(t,e){return eg(t[e].content)},dg.html_block=function(t,e){return t[e].content},dg.html_inline=function(t,e){return t[e].content},hg.prototype.renderAttrs=function(t){let e,n,s;if(!t.attrs)return"";for(s="",e=0,n=t.attrs.length;e<n;e++)s+=" "+eg(t.attrs[e][0])+'="'+eg(t.attrs[e][1])+'"';return s},hg.prototype.renderToken=function(t,e,n){const s=t[e];let i="";if(s.hidden)return"";s.block&&-1!==s.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===s.nesting?"</":"<")+s.tag,i+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(s.block&&(o=!0,1===s.nesting&&e+1<t.length)){const n=t[e+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(o=!1)}return i+=o?">\n":">",i},hg.prototype.renderInline=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e)}return s},hg.prototype.renderInlineAsText=function(t,e,n){let s="";for(let i=0,o=t.length;i<o;i++)switch(t[i].type){case"text":case"html_inline":case"html_block":s+=t[i].content;break;case"image":s+=this.renderInlineAsText(t[i].children,e,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},hg.prototype.render=function(t,e,n){let s="";const i=this.rules;for(let o=0,r=t.length;o<r;o++){const r=t[o].type;"inline"===r?s+=this.renderInline(t[o].children,e,n):void 0!==i[r]?s+=i[r](t,o,e,n,this):s+=this.renderToken(t,o,e,n)}return s},pg.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},pg.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},pg.prototype.at=function(t,e,n){const s=this.__find__(t),i=n||{};if(-1===s)throw new Error("Parser rule not found: "+t);this.__rules__[s].fn=e,this.__rules__[s].alt=i.alt||[],this.__cache__=null},pg.prototype.before=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},pg.prototype.after=function(t,e,n,s){const i=this.__find__(t),o=s||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},pg.prototype.push=function(t,e,n){const s=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:s.alt||[]}),this.__cache__=null},pg.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!0,n.push(t)}),this),this.__cache__=null,n},pg.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},pg.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach((function(t){const s=this.__find__(t);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[s].enabled=!1,n.push(t)}),this),this.__cache__=null,n},pg.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},mg.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let n=0,s=e.length;n<s;n++)if(e[n][0]===t)return n;return-1},mg.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},mg.prototype.attrSet=function(t,e){const n=this.attrIndex(t),s=[t,e];n<0?this.attrPush(s):this.attrs[n]=s},mg.prototype.attrGet=function(t){const e=this.attrIndex(t);let n=null;return e>=0&&(n=this.attrs[e][1]),n},mg.prototype.attrJoin=function(t,e){const n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},gg.prototype.Token=mg;const fg=/\r\n?|\n/g,kg=/\0/g;function _g(t){return/^<\/a\s*>/i.test(t)}const bg=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,vg=/\((c|tm|r)\)/i,yg=/\((c|tm|r)\)/gi,Cg={c:"",r:"",tm:""};function Dg(t,e){return Cg[e.toLowerCase()]}function Ag(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||(s.content=s.content.replace(yg,Dg)),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}function wg(t){let e=0;for(let n=t.length-1;n>=0;n--){const s=t[n];"text"!==s.type||e||bg.test(s.content)&&(s.content=s.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===s.type&&"auto"===s.info&&e--,"link_close"===s.type&&"auto"===s.info&&e++}}const Eg=/['"]/,xg=/['"]/g,Sg="";function Fg(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Lg(t,e){let n;const s=[];for(let i=0;i<t.length;i++){const o=t[i],r=t[i].level;for(n=s.length-1;n>=0&&!(s[n].level<=r);n--);if(s.length=n+1,"text"!==o.type)continue;let a=o.content,c=0,l=a.length;t:for(;c<l;){xg.lastIndex=c;const u=xg.exec(a);if(!u)break;let d=!0,h=!0;c=u.index+1;const p="'"===u[0];let m=32;if(u.index-1>=0)m=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let g=32;if(c<l)g=a.charCodeAt(c);else for(n=i+1;n<t.length&&("softbreak"!==t[n].type&&"hardbreak"!==t[n].type);n++)if(t[n].content){g=t[n].content.charCodeAt(0);break}const f=rg(m)||og(String.fromCharCode(m)),k=rg(g)||og(String.fromCharCode(g)),_=ig(m),b=ig(g);if(b?d=!1:k&&(_||f||(d=!1)),_?h=!1:f&&(b||k||(h=!1)),34===g&&'"'===u[0]&&m>=48&&m<=57&&(h=d=!1),d&&h&&(d=f,h=k),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<r)break;if(d.single===p&&s[n].level===r){let r,h;d=s[n],p?(r=e.md.options.quotes[2],h=e.md.options.quotes[3]):(r=e.md.options.quotes[0],h=e.md.options.quotes[1]),o.content=Fg(o.content,u.index,h),t[d.token].content=Fg(t[d.token].content,d.pos,r),c+=h.length-1,d.token===i&&(c+=r.length-1),a=o.content,l=a.length,s.length=n;continue t}}d?s.push({token:i,pos:u.index,single:p,level:r}):h&&p&&(o.content=Fg(o.content,u.index,Sg))}else p&&(o.content=Fg(o.content,u.index,Sg))}}}const Tg=[["normalize",function(t){let e;e=t.src.replace(fg,"\n"),e=e.replace(kg,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let n=0,s=e.length;n<s;n++){const s=e[n];"inline"===s.type&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}],["linkify",function(t){const e=t.tokens;var n;if(t.md.options.linkify)for(let s=0,i=e.length;s<i;s++){if("inline"!==e[s].type||!t.md.linkify.pretest(e[s].content))continue;let i=e[s].children,o=0;for(let r=i.length-1;r>=0;r--){const a=i[r];if("link_close"!==a.type){if("html_inline"===a.type&&(n=a.content,/^<a[>\s]/i.test(n)&&o>0&&o--,_g(a.content)&&o++),!(o>0)&&"text"===a.type&&t.md.linkify.test(a.content)){const n=a.content;let o=t.md.linkify.match(n);const c=[];let l=a.level,u=0;o.length>0&&0===o[0].index&&r>0&&"text_special"===i[r-1].type&&(o=o.slice(1));for(let e=0;e<o.length;e++){const s=o[e].url,i=t.md.normalizeLink(s);if(!t.md.validateLink(i))continue;let r=o[e].text;r=o[e].schema?"mailto:"!==o[e].schema||/^mailto:/i.test(r)?t.md.normalizeLinkText(r):t.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const a=o[e].index;if(a>u){const e=new t.Token("text","",0);e.content=n.slice(u,a),e.level=l,c.push(e)}const d=new t.Token("link_open","a",1);d.attrs=[["href",i]],d.level=l++,d.markup="linkify",d.info="auto",c.push(d);const h=new t.Token("text","",0);h.content=r,h.level=l,c.push(h);const p=new t.Token("link_close","a",-1);p.level=--l,p.markup="linkify",p.info="auto",c.push(p),u=o[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=l,c.push(e)}e[s].children=i=Vm(i,r,c)}}else for(r--;i[r].level!==a.level&&"link_open"!==i[r].type;)r--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(vg.test(t.tokens[e].content)&&Ag(t.tokens[e].children),bg.test(t.tokens[e].content)&&wg(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&Eg.test(t.tokens[e].content)&&Lg(t.tokens[e].children,t)}],["text_join",function(t){let e,n;const s=t.tokens,i=s.length;for(let o=0;o<i;o++){if("inline"!==s[o].type)continue;const t=s[o].children,i=t.length;for(e=0;e<i;e++)"text_special"===t[e].type&&(t[e].type="text");for(e=n=0;e<i;e++)"text"===t[e].type&&e+1<i&&"text"===t[e+1].type?t[e+1].content=t[e].content+t[e+1].content:(e!==n&&(t[n]=t[e]),n++);e!==n&&(t.length=n)}}]];function Mg(){this.ruler=new pg;for(let t=0;t<Tg.length;t++)this.ruler.push(Tg[t][0],Tg[t][1])}function zg(t,e,n,s){this.src=t,this.md=e,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,r=0,a=0,c=0,l=i.length,u=!1;r<l;r++){const t=i.charCodeAt(r);if(!u){if(sg(t)){a++,9===t?c+=4-c%4:c++;continue}u=!0}10!==t&&r!==l-1||(10!==t&&r++,this.bMarks.push(o),this.eMarks.push(r),this.tShift.push(a),this.sCount.push(c),this.bsCount.push(0),u=!1,a=0,c=0,o=r+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Mg.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,s=e.length;n<s;n++)e[n](t)},Mg.prototype.State=gg,zg.prototype.push=function(t,e,n){const s=new mg(t,e,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},zg.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},zg.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},zg.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e;t++){if(!sg(this.src.charCodeAt(t)))break}return t},zg.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!sg(this.src.charCodeAt(--t)))return t+1;return t},zg.prototype.skipChars=function(t,e){for(let n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},zg.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},zg.prototype.getLines=function(t,e,n,s){if(t>=e)return"";const i=new Array(e-t);for(let o=0,r=t;r<e;r++,o++){let t=0;const a=this.bMarks[r];let c,l=a;for(c=r+1<e||s?this.eMarks[r]+1:this.eMarks[r];l<c&&t<n;){const e=this.src.charCodeAt(l);if(sg(e))9===e?t+=4-(t+this.bsCount[r])%4:t++;else{if(!(l-a<this.tShift[r]))break;t++}l++}i[o]=t>n?new Array(t-n+1).join(" ")+this.src.slice(l,c):this.src.slice(l,c)}return i.join("")},zg.prototype.Token=mg;function Bg(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];return t.src.slice(n,s)}function Ig(t){const e=[],n=t.length;let s=0,i=t.charCodeAt(s),o=!1,r=0,a="";for(;s<n;)124===i&&(o?(a+=t.substring(r,s-1),r=s):(e.push(a+t.substring(r,s)),a="",r=s+1)),o=92===i,s++,i=t.charCodeAt(s);return e.push(a+t.substring(r)),e}function Ng(t,e){const n=t.eMarks[e];let s=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(s++);if(42!==i&&45!==i&&43!==i)return-1;if(s<n){if(!sg(t.src.charCodeAt(s)))return-1}return s}function Og(t,e){const n=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];let i=n;if(i+1>=s)return-1;let o=t.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=s)return-1;if(o=t.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<s&&(o=t.src.charCodeAt(i),!sg(o))?-1:i}const Hg="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",jg="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Rg=new RegExp("^(?:"+Hg+"|"+jg+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),Pg=new RegExp("^(?:"+Hg+"|"+jg+")"),$g=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Pg.source+"\\s*$"),/^$/,!1]];const qg=[["table",function(t,e,n,s){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent)return!1;if(t.sCount[i]-t.blkIndent>=4)return!1;let o=t.bMarks[i]+t.tShift[i];if(o>=t.eMarks[i])return!1;const r=t.src.charCodeAt(o++);if(124!==r&&45!==r&&58!==r)return!1;if(o>=t.eMarks[i])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!sg(a))return!1;if(45===r&&sg(a))return!1;for(;o<t.eMarks[i];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!sg(e))return!1;o++}let c=Bg(t,e+1),l=c.split("|");const u=[];for(let k=0;k<l.length;k++){const t=l[k].trim();if(!t){if(0===k||k===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(t))return!1;58===t.charCodeAt(t.length-1)?u.push(58===t.charCodeAt(0)?"center":"right"):58===t.charCodeAt(0)?u.push("left"):u.push("")}if(c=Bg(t,e).trim(),-1===c.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;l=Ig(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop();const d=l.length;if(0===d||d!==u.length)return!1;if(s)return!0;const h=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=[e,0];t.push("table_open","table",1).map=m,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let k=0;k<l.length;k++){const e=t.push("th_open","th",1);u[k]&&(e.attrs=[["style","text-align:"+u[k]]]);const n=t.push("inline","",0);n.content=l[k].trim(),n.children=[],t.push("th_close","th",-1)}let g;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let f=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let s=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,i,n,!0)){s=!0;break}if(s)break;if(c=Bg(t,i).trim(),!c)break;if(t.sCount[i]-t.blkIndent>=4)break;if(l=Ig(c),l.length&&""===l[0]&&l.shift(),l.length&&""===l[l.length-1]&&l.pop(),f+=d-l.length,f>65536)break;if(i===e+2){t.push("tbody_open","tbody",1).map=g=[e+2,0]}t.push("tr_open","tr",1).map=[i,i+1];for(let e=0;e<d;e++){const n=t.push("td_open","td",1);u[e]&&(n.attrs=[["style","text-align:"+u[e]]]);const s=t.push("inline","",0);s.content=l[e]?l[e].trim():"",s.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return g&&(t.push("tbody_close","tbody",-1),g[1]=i),t.push("table_close","table",-1),m[1]=i,t.parentType=h,t.line=i,!0},["paragraph","reference"]],["code",function(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let s=e+1,i=s;for(;s<n;)if(t.isEmpty(s))s++;else{if(!(t.sCount[s]-t.blkIndent>=4))break;s++,i=s}t.line=i;const o=t.push("code_block","code",0);return o.content=t.getLines(e,i,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(i+3>o)return!1;const r=t.src.charCodeAt(i);if(126!==r&&96!==r)return!1;let a=i;i=t.skipChars(i,r);let c=i-a;if(c<3)return!1;const l=t.src.slice(a,i),u=t.src.slice(i,o);if(96===r&&u.indexOf(String.fromCharCode(r))>=0)return!1;if(s)return!0;let d=e,h=!1;for(;(d++,!(d>=n))&&(i=a=t.bMarks[d]+t.tShift[d],o=t.eMarks[d],!(i<o&&t.sCount[d]<t.blkIndent));)if(t.src.charCodeAt(i)===r&&!(t.sCount[d]-t.blkIndent>=4||(i=t.skipChars(i,r),i-a<c||(i=t.skipSpaces(i),i<o)))){h=!0;break}c=t.sCount[e],t.line=d+(h?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,d,c,!0),p.markup=l,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const r=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(i))return!1;if(s)return!0;const a=[],c=[],l=[],u=[],d=t.md.block.ruler.getRules("blockquote"),h=t.parentType;t.parentType="blockquote";let p,m=!1;for(p=e;p<n;p++){const e=t.sCount[p]<t.blkIndent;if(i=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],i>=o)break;if(62===t.src.charCodeAt(i++)&&!e){let e,n,s=t.sCount[p]+1;32===t.src.charCodeAt(i)?(i++,s++,n=!1,e=!0):9===t.src.charCodeAt(i)?(e=!0,(t.bsCount[p]+s)%4==3?(i++,s++,n=!1):n=!0):e=!1;let r=s;for(a.push(t.bMarks[p]),t.bMarks[p]=i;i<o;){const e=t.src.charCodeAt(i);if(!sg(e))break;9===e?r+=4-(r+t.bsCount[p]+(n?1:0))%4:r++,i++}m=i>=o,c.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),l.push(t.sCount[p]),t.sCount[p]=r-s,u.push(t.tShift[p]),t.tShift[p]=i-t.bMarks[p];continue}if(m)break;let s=!1;for(let i=0,o=d.length;i<o;i++)if(d[i](t,p,n,!0)){s=!0;break}if(s){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),c.push(t.bsCount[p]),u.push(t.tShift[p]),l.push(t.sCount[p]),t.sCount[p]=-1}const g=t.blkIndent;t.blkIndent=0;const f=t.push("blockquote_open","blockquote",1);f.markup=">";const k=[e,0];f.map=k,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=r,t.parentType=h,k[1]=t.line;for(let _=0;_<u.length;_++)t.bMarks[_+e]=a[_],t.tShift[_+e]=u[_],t.sCount[_+e]=l[_],t.bsCount[_+e]=c[_];return t.blkIndent=g,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,n,s){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const r=t.src.charCodeAt(o++);if(42!==r&&45!==r&&95!==r)return!1;let a=1;for(;o<i;){const e=t.src.charCodeAt(o++);if(e!==r&&!sg(e))return!1;e===r&&a++}if(a<3)return!1;if(s)return!0;t.line=e+1;const c=t.push("hr","hr",0);return c.map=[e,t.line],c.markup=Array(a+1).join(String.fromCharCode(r)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,n,s){let i,o,r,a,c=e,l=!0;if(t.sCount[c]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[c]-t.listIndent>=4&&t.sCount[c]<t.blkIndent)return!1;let u,d,h,p=!1;if(s&&"paragraph"===t.parentType&&t.sCount[c]>=t.blkIndent&&(p=!0),(h=Og(t,c))>=0){if(u=!0,r=t.bMarks[c]+t.tShift[c],d=Number(t.src.slice(r,h-1)),p&&1!==d)return!1}else{if(!((h=Ng(t,c))>=0))return!1;u=!1}if(p&&t.skipSpaces(h)>=t.eMarks[c])return!1;if(s)return!0;const m=t.src.charCodeAt(h-1),g=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=t.push("bullet_list_open","ul",1);const f=[c,0];a.map=f,a.markup=String.fromCharCode(m);let k=!1;const _=t.md.block.ruler.getRules("list"),b=t.parentType;for(t.parentType="list";c<n;){o=h,i=t.eMarks[c];const e=t.sCount[c]+h-(t.bMarks[c]+t.tShift[c]);let s=e;for(;o<i;){const e=t.src.charCodeAt(o);if(9===e)s+=4-(s+t.bsCount[c])%4;else{if(32!==e)break;s++}o++}const d=o;let p;p=d>=i?1:s-e,p>4&&(p=1);const g=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(m);const f=[c,0];a.map=f,u&&(a.info=t.src.slice(r,h-1));const b=t.tight,v=t.tShift[c],y=t.sCount[c],C=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=g,t.tight=!0,t.tShift[c]=d-t.bMarks[c],t.sCount[c]=s,d>=i&&t.isEmpty(c+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,c,n,!0),t.tight&&!k||(l=!1),k=t.line-c>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=C,t.tShift[c]=v,t.sCount[c]=y,t.tight=b,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(m),c=t.line,f[1]=c,c>=n)break;if(t.sCount[c]<t.blkIndent)break;if(t.sCount[c]-t.blkIndent>=4)break;let D=!1;for(let i=0,o=_.length;i<o;i++)if(_[i](t,c,n,!0)){D=!0;break}if(D)break;if(u){if(h=Og(t,c),h<0)break;r=t.bMarks[c]+t.tShift[c]}else if(h=Ng(t,c),h<0)break;if(m!==t.src.charCodeAt(h-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(m),f[1]=c,t.line=c,t.parentType=b,l&&function(t,e){const n=t.level+2;for(let s=e+2,i=t.tokens.length-2;s<i;s++)t.tokens[s].level===n&&"paragraph_open"===t.tokens[s].type&&(t.tokens[s+2].hidden=!0,t.tokens[s].hidden=!0,s+=2)}(t,g),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],r=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(i))return!1;function a(e){const n=t.lineMax;if(e>=n||t.isEmpty(e))return null;let s=!1;if(t.sCount[e]-t.blkIndent>3&&(s=!0),t.sCount[e]<0&&(s=!0),!s){const s=t.md.block.ruler.getRules("reference"),i=t.parentType;t.parentType="reference";let o=!1;for(let r=0,a=s.length;r<a;r++)if(s[r](t,e,n,!0)){o=!0;break}if(t.parentType=i,o)return null}const i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(i,o+1)}let c=t.src.slice(i,o+1);o=c.length;let l=-1;for(i=1;i<o;i++){const t=c.charCodeAt(i);if(91===t)return!1;if(93===t){l=i;break}if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(92===t&&(i++,i<o&&10===c.charCodeAt(i))){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}}if(l<0||58!==c.charCodeAt(l+1))return!1;for(i=l+2;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!sg(t))break}const u=t.md.helpers.parseLinkDestination(c,i,o);if(!u.ok)return!1;const d=t.md.normalizeLink(u.str);if(!t.md.validateLink(d))return!1;i=u.pos;const h=i,p=r,m=i;for(;i<o;i++){const t=c.charCodeAt(i);if(10===t){const t=a(r);null!==t&&(c+=t,o=c.length,r++)}else if(!sg(t))break}let g,f=t.md.helpers.parseLinkTitle(c,i,o);for(;f.can_continue;){const e=a(r);if(null===e)break;c+=e,i=o,o=c.length,r++,f=t.md.helpers.parseLinkTitle(c,i,o,f)}for(i<o&&m!==i&&f.ok?(g=f.str,i=f.pos):(g="",i=h,r=p);i<o;){if(!sg(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i)&&g)for(g="",i=h,r=p;i<o;){if(!sg(c.charCodeAt(i)))break;i++}if(i<o&&10!==c.charCodeAt(i))return!1;const k=ag(c.slice(1,l));return!!k&&(s||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[k]&&(t.env.references[k]={title:g,href:d}),t.line=r),!0)}],["html_block",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(i))return!1;let r=t.src.slice(i,o),a=0;for(;a<$g.length&&!$g[a][0].test(r);a++);if(a===$g.length)return!1;if(s)return $g[a][2];let c=e+1;if(!$g[a][1].test(r))for(;c<n&&!(t.sCount[c]<t.blkIndent);c++)if(i=t.bMarks[c]+t.tShift[c],o=t.eMarks[c],r=t.src.slice(i,o),$g[a][1].test(r)){0!==r.length&&c++;break}t.line=c;const l=t.push("html_block","",0);return l.map=[e,c],l.content=t.getLines(e,c,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,n,s){let i=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let r=t.src.charCodeAt(i);if(35!==r||i>=o)return!1;let a=1;for(r=t.src.charCodeAt(++i);35===r&&i<o&&a<=6;)a++,r=t.src.charCodeAt(++i);if(a>6||i<o&&!sg(r))return!1;if(s)return!0;o=t.skipSpacesBack(o,i);const c=t.skipCharsBack(o,35,i);c>i&&sg(t.src.charCodeAt(c-1))&&(o=c),t.line=e+1;const l=t.push("heading_open","h"+String(a),1);l.markup="########".slice(0,a),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(i,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let o,r=0,a=e+1;for(;a<n&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const n=t.eMarks[a];if(e<n&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=n))){r=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let i=0,o=s.length;i<o;i++)if(s[i](t,a,n,!0)){e=!0;break}if(e)break}if(!r)return!1;const c=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const l=t.push("heading_open","h"+String(r),1);l.markup=String.fromCharCode(o),l.map=[e,t.line];const u=t.push("inline","",0);return u.content=c,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(r),-1).markup=String.fromCharCode(o),t.parentType=i,!0}],["paragraph",function(t,e,n){const s=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let o=e+1;for(t.parentType="paragraph";o<n&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let i=0,r=s.length;i<r;i++)if(s[i](t,o,n,!0)){e=!0;break}if(e)break}const r=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=r,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}]];function Vg(){this.ruler=new pg;for(let t=0;t<qg.length;t++)this.ruler.push(qg[t][0],qg[t][1],{alt:(qg[t][2]||[]).slice()})}function Ug(t,e,n,s){this.src=t,this.env=n,this.md=e,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function Zg(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}Vg.prototype.tokenize=function(t,e,n){const s=this.ruler.getRules(""),i=s.length,o=t.md.options.maxNesting;let r=e,a=!1;for(;r<n&&(t.line=r=t.skipEmptyLines(r),!(r>=n))&&!(t.sCount[r]<t.blkIndent);){if(t.level>=o){t.line=n;break}const e=t.line;let c=!1;for(let o=0;o<i;o++)if(c=s[o](t,r,n,!1),c){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),r=t.line,r<n&&t.isEmpty(r)&&(a=!0,r++,t.line=r)}},Vg.prototype.parse=function(t,e,n,s){if(!t)return;const i=new this.State(t,e,n,s);this.tokenize(i,i.line,i.lineMax)},Vg.prototype.State=zg,Ug.prototype.pushPending=function(){const t=new mg("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},Ug.prototype.push=function(t,e,n){this.pending&&this.pushPending();const s=new mg(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s},Ug.prototype.scanDelims=function(t,e){const n=this.posMax,s=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<n&&this.src.charCodeAt(o)===s;)o++;const r=o-t,a=o<n?this.src.charCodeAt(o):32,c=rg(i)||og(String.fromCharCode(i)),l=rg(a)||og(String.fromCharCode(a)),u=ig(i),d=ig(a),h=!d&&(!l||u||c),p=!u&&(!c||d||l);return{can_open:h&&(e||!p||c),can_close:p&&(e||!h||l),length:r}},Ug.prototype.Token=mg;const Wg=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const Gg=[];for(let m=0;m<256;m++)Gg.push(0);function Kg(t,e){let n;const s=[],i=e.length;for(let o=0;o<i;o++){const i=e[o];if(126!==i.marker)continue;if(-1===i.end)continue;const r=e[i.end];n=t.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[r.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===t.tokens[r.token-1].type&&"~"===t.tokens[r.token-1].content&&s.push(r.token-1)}for(;s.length;){const e=s.pop();let i=e+1;for(;i<t.tokens.length&&"s_close"===t.tokens[i].type;)i++;i--,e!==i&&(n=t.tokens[i],t.tokens[i]=t.tokens[e],t.tokens[e]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){Gg[t.charCodeAt(0)]=1}));const Jg={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(126!==s)return!1;const i=t.scanDelims(t.pos,!0);let o=i.length;const r=String.fromCharCode(s);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=r,o--);for(let c=0;c<o;c+=2)a=t.push("text","",0),a.content=r+r,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;Kg(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&Kg(t,e[s].delimiters)}};function Qg(t,e){for(let n=e.length-1;n>=0;n--){const s=e[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const i=e[s.end],o=n>0&&e[n-1].end===s.end+1&&e[n-1].marker===s.marker&&e[n-1].token===s.token-1&&e[s.end+1].token===i.token+1,r=String.fromCharCode(s.marker),a=t.tokens[s.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?r+r:r,a.content="";const c=t.tokens[i.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?r+r:r,c.content="",o&&(t.tokens[e[n-1].token].content="",t.tokens[e[s.end+1].token].content="",n--)}}const Yg={tokenize:function(t,e){const n=t.pos,s=t.src.charCodeAt(n);if(e)return!1;if(95!==s&&42!==s)return!1;const i=t.scanDelims(t.pos,42===s);for(let o=0;o<i.length;o++){t.push("text","",0).content=String.fromCharCode(s),t.delimiters.push({marker:s,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0},postProcess:function(t){const e=t.tokens_meta,n=t.tokens_meta.length;Qg(t,t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&Qg(t,e[s].delimiters)}};const Xg=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,tf=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const ef=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,nf=/^&([a-z][a-z0-9]{1,31});/i;function sf(t){const e={},n=t.length;if(!n)return;let s=0,i=-2;const o=[];for(let r=0;r<n;r++){const n=t[r];if(o.push(0),t[s].marker===n.marker&&i===n.token-1||(s=r),i=n.token,n.length=n.length||0,!n.close)continue;e.hasOwnProperty(n.marker)||(e[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[n.marker][(n.open?3:0)+n.length%3];let c=s-o[s]-1,l=c;for(;c>a;c-=o[c]+1){const e=t[c];if(e.marker===n.marker&&(e.open&&e.end<0)){let s=!1;if((e.close||n.open)&&(e.length+n.length)%3==0&&(e.length%3==0&&n.length%3==0||(s=!0)),!s){const s=c>0&&!t[c-1].open?o[c-1]+1:0;o[r]=r-c+s,o[c]=s,n.open=!1,e.end=r,e.close=!1,l=-1,i=-2;break}}}-1!==l&&(e[n.marker][(n.open?3:0)+(n.length||0)%3]=l)}}const of=[["text",function(t,e){let n=t.pos;for(;n<t.posMax&&!Zg(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const n=t.pos;if(n+3>t.posMax)return!1;if(58!==t.src.charCodeAt(n))return!1;if(47!==t.src.charCodeAt(n+1))return!1;if(47!==t.src.charCodeAt(n+2))return!1;const s=t.pending.match(Wg);if(!s)return!1;const i=s[1],o=t.md.linkify.matchAtStart(t.src.slice(n-i.length));if(!o)return!1;let r=o.url;if(r.length<=i.length)return!1;r=r.replace(/\*+$/,"");const a=t.md.normalizeLink(r);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(r);const n=t.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return t.pos+=r.length-i.length,!0}],["newline",function(t,e){let n=t.pos;if(10!==t.src.charCodeAt(n))return!1;const s=t.pending.length-1,i=t.posMax;if(!e)if(s>=0&&32===t.pending.charCodeAt(s))if(s>=1&&32===t.pending.charCodeAt(s-1)){let e=s-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&sg(t.src.charCodeAt(n));)n++;return t.pos=n,!0}],["escape",function(t,e){let n=t.pos;const s=t.posMax;if(92!==t.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let i=t.src.charCodeAt(n);if(10===i){for(e||t.push("hardbreak","br",0),n++;n<s&&(i=t.src.charCodeAt(n),sg(i));)n++;return t.pos=n,!0}let o=t.src[n];if(i>=55296&&i<=56319&&n+1<s){const e=t.src.charCodeAt(n+1);e>=56320&&e<=57343&&(o+=t.src[n+1],n++)}const r="\\"+o;if(!e){const e=t.push("text_special","",0);i<256&&0!==Gg[i]?e.content=o:e.content=r,e.markup=r,e.info="escape"}return t.pos=n+1,!0}],["backticks",function(t,e){let n=t.pos;if(96!==t.src.charCodeAt(n))return!1;const s=n;n++;const i=t.posMax;for(;n<i&&96===t.src.charCodeAt(n);)n++;const o=t.src.slice(s,n),r=o.length;if(t.backticksScanned&&(t.backticks[r]||0)<=s)return e||(t.pending+=o),t.pos+=r,!0;let a,c=n;for(;-1!==(a=t.src.indexOf("`",c));){for(c=a+1;c<i&&96===t.src.charCodeAt(c);)c++;const s=c-a;if(s===r){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=c,!0}t.backticks[s]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=r,!0}],["strikethrough",Jg.tokenize],["emphasis",Yg.tokenize],["link",function(t,e){let n,s,i,o,r="",a="",c=t.pos,l=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,d=t.posMax,h=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<d&&40===t.src.charCodeAt(m)){for(l=!1,m++;m<d&&(n=t.src.charCodeAt(m),sg(n)||10===n);m++);if(m>=d)return!1;if(c=m,i=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),i.ok){for(r=t.md.normalizeLink(i.str),t.md.validateLink(r)?m=i.pos:r="",c=m;m<d&&(n=t.src.charCodeAt(m),sg(n)||10===n);m++);if(i=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<d&&c!==m&&i.ok)for(a=i.str,m=i.pos;m<d&&(n=t.src.charCodeAt(m),sg(n)||10===n);m++);}(m>=d||41!==t.src.charCodeAt(m))&&(l=!0),m++}if(l){if(void 0===t.env.references)return!1;if(m<d&&91===t.src.charCodeAt(m)?(c=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?s=t.src.slice(c,m++):m=p+1):m=p+1,s||(s=t.src.slice(h,p)),o=t.env.references[ag(s)],!o)return t.pos=u,!1;r=o.href,a=o.title}if(!e){t.pos=h,t.posMax=p;const e=[["href",r]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=d,!0}],["image",function(t,e){let n,s,i,o,r,a,c,l,u="";const d=t.pos,h=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(o=m+1,o<h&&40===t.src.charCodeAt(o)){for(o++;o<h&&(n=t.src.charCodeAt(o),sg(n)||10===n);o++);if(o>=h)return!1;for(l=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),l=o;o<h&&(n=t.src.charCodeAt(o),sg(n)||10===n);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<h&&l!==o&&a.ok)for(c=a.str,o=a.pos;o<h&&(n=t.src.charCodeAt(o),sg(n)||10===n);o++);else c="";if(o>=h||41!==t.src.charCodeAt(o))return t.pos=d,!1;o++}else{if(void 0===t.env.references)return!1;if(o<h&&91===t.src.charCodeAt(o)?(l=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?i=t.src.slice(l,o++):o=m+1):o=m+1,i||(i=t.src.slice(p,m)),r=t.env.references[ag(i)],!r)return t.pos=d,!1;u=r.href,c=r.title}if(!e){s=t.src.slice(p,m);const e=[];t.md.inline.parse(s,t.md,t.env,e);const n=t.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=e,n.content=s,c&&i.push(["title",c])}return t.pos=o,t.posMax=h,!0}],["autolink",function(t,e){let n=t.pos;if(60!==t.src.charCodeAt(n))return!1;const s=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const e=t.src.charCodeAt(n);if(60===e)return!1;if(62===e)break}const o=t.src.slice(s+1,n);if(tf.test(o)){const n=t.md.normalizeLink(o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}if(Xg.test(o)){const n=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(n))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",n]],e.markup="autolink",e.info="auto";t.push("text","",0).content=t.md.normalizeLinkText(o);const s=t.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const n=t.posMax,s=t.pos;if(60!==t.src.charCodeAt(s)||s+2>=n)return!1;const i=t.src.charCodeAt(s+1);if(33!==i&&63!==i&&47!==i&&!function(t){const e=32|t;return e>=97&&e<=122}(i))return!1;const o=t.src.slice(s).match(Rg);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],r=e.content,/^<a[>\s]/i.test(r)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var r;return t.pos+=o[0].length,!0}],["entity",function(t,e){const n=t.pos,s=t.posMax;if(38!==t.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===t.src.charCodeAt(n+1)){const s=t.src.slice(n).match(ef);if(s){if(!e){const e="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=t.push("text_special","",0);n.content=Um(e)?Zm(e):Zm(65533),n.markup=s[0],n.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(nf);if(s){const n=nh(s[0]);if(n!==s[0]){if(!e){const e=t.push("text_special","",0);e.content=n,e.markup=s[0],e.info="entity"}return t.pos+=s[0].length,!0}}}return!1}]],rf=[["balance_pairs",function(t){const e=t.tokens_meta,n=t.tokens_meta.length;sf(t.delimiters);for(let s=0;s<n;s++)e[s]&&e[s].delimiters&&sf(e[s].delimiters)}],["strikethrough",Jg.postProcess],["emphasis",Yg.postProcess],["fragments_join",function(t){let e,n,s=0;const i=t.tokens,o=t.tokens.length;for(e=n=0;e<o;e++)i[e].nesting<0&&s--,i[e].level=s,i[e].nesting>0&&s++,"text"===i[e].type&&e+1<o&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}]];function af(){this.ruler=new pg;for(let t=0;t<of.length;t++)this.ruler.push(of[t][0],of[t][1]);this.ruler2=new pg;for(let t=0;t<rf.length;t++)this.ruler2.push(rf[t][0],rf[t][1])}function cf(t){return Array.prototype.slice.call(arguments,1).forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function lf(t){return Object.prototype.toString.call(t)}function uf(t){return"[object Function]"===lf(t)}function df(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}af.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),s=n.length,i=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let r=!1;if(t.level<i){for(let a=0;a<s;a++)if(t.level++,r=n[a](t,!0),t.level--,r){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;r||t.pos++,o[e]=t.pos},af.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,s=t.posMax,i=t.md.options.maxNesting;for(;t.pos<s;){const o=t.pos;let r=!1;if(t.level<i)for(let s=0;s<n;s++)if(r=e[s](t,!1),r){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(r){if(t.pos>=s)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},af.prototype.parse=function(t,e,n,s){const i=new this.State(t,e,n,s);this.tokenize(i);const o=this.ruler2.getRules(""),r=o.length;for(let a=0;a<r;a++)o[a](i)},af.prototype.State=Ug;const hf={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const pf={"http:":{validate:function(t,e,n){const s=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const s=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const s=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},mf="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",gf="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function ff(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=Im.source,e.src_Cc=Nm.source,e.src_Z=jm.source,e.src_P=Om.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),n=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||n.push(mf),n.push(e.src_xn),e.src_tlds=n.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");const i=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){const n=t.__schemas__[e];if(null===n)return;const s={validate:null,link:null};if(t.__compiled__[e]=s,"[object Object]"===lf(n))return!function(t){return"[object RegExp]"===lf(t)}(n.validate)?uf(n.validate)?s.validate=n.validate:o(e,n):s.validate=function(t){return function(e,n){const s=e.slice(n);return t.test(s)?s.match(t)[0].length:0}}(n.validate),void(uf(n.normalize)?s.normalize=n.normalize:n.normalize?o(e,n):s.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===lf(t)}(n)?o(e,n):i.push(e)})),i.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const r=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(df).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+r+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function kf(t,e){const n=t.__index__,s=t.__last_index__,i=t.__text_cache__.slice(n,s);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=s+e,this.raw=i,this.text=i,this.url=i}function _f(t,e){const n=new kf(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function bf(t,e){if(!(this instanceof bf))return new bf(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||hf.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=cf({},hf,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=cf({},pf,t),this.__compiled__={},this.__tlds__=gf,this.__tlds_replaced__=!1,this.re={},ff(this)}bf.prototype.add=function(t,e){return this.__schemas__[t]=e,ff(this),this},bf.prototype.set=function(t){return this.__opts__=cf(this.__opts__,t),this},bf.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,n,s,i,o,r,a,c,l;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(i=this.testSchemaAt(t,e[2],a.lastIndex),i){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=t.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(l=t.indexOf("@"),l>=0&&null!==(s=t.match(this.re.email_fuzzy))&&(o=s.index+s[1].length,r=s.index+s[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&r>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=r))),this.__index__>=0},bf.prototype.pretest=function(t){return this.re.pretest.test(t)},bf.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},bf.prototype.match=function(t){const e=[];let n=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(_f(this,n)),n=this.__last_index__);let s=n?t.slice(n):t;for(;this.test(s);)e.push(_f(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return e.length?e:null},bf.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const n=this.testSchemaAt(t,e[2],e[0].length);return n?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n,_f(this,0)):null},bf.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),ff(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ff(this),this)},bf.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},bf.prototype.onCompile=function(){};const vf={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},yf=/^(vbscript|javascript|file|data):/,Cf=/^data:image\/(gif|png|jpeg|webp);/;function Df(t){const e=t.trim().toLowerCase();return!yf.test(e)||Cf.test(e)}const Af=["http:","https:","mailto:"];function wf(t){const e=zm(t,!0);if(e.hostname&&(!e.protocol||Af.indexOf(e.protocol)>=0))try{e.hostname=Jp.toASCII(e.hostname)}catch(n){}return bm(vm(e))}function Ef(t){const e=zm(t,!0);if(e.hostname&&(!e.protocol||Af.indexOf(e.protocol)>=0))try{e.hostname=Jp.toUnicode(e.hostname)}catch(n){}return km(vm(e),km.defaultChars+"%")}function xf(t,e){if(!(this instanceof xf))return new xf(t,e);e||Pm(t)||(e=t||{},t="default"),this.inline=new af,this.block=new Vg,this.core=new Mg,this.renderer=new hg,this.linkify=new bf,this.validateLink=Df,this.normalizeLink=wf,this.normalizeLinkText=Ef,this.utils=lg,this.helpers=qm({},ug),this.options={},this.configure(t),e&&this.set(e)}var Sf,Ff;xf.prototype.set=function(t){return qm(this.options,t),this},xf.prototype.configure=function(t){const e=this;if(Pm(t)){const e=t;if(!(t=vf[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach((function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)})),this},xf.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},xf.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));const s=t.filter((function(t){return n.indexOf(t)<0}));if(s.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},xf.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},xf.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},xf.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},xf.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},xf.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const Lf=Kr(function(){if(Ff)return Sf;Ff=1;var t=!0,e=!1,n=!1;function s(t,e,n){var s=t.attrIndex(e),i=[e,n];s<0?t.attrPush(i):t.attrs[s]=i}function i(t,e){for(var n=t[e].level-1,s=e-1;s>=0;s--)if(t[s].level===n)return s;return-1}function o(t,e){return"inline"===t[e].type&&function(t){return"paragraph_open"===t.type}(t[e-1])&&function(t){return"list_item_open"===t.type}(t[e-2])&&function(t){return 0===t.content.indexOf("[ ] ")||0===t.content.indexOf("[x] ")||0===t.content.indexOf("[X] ")}(t[e])}function r(s,i){if(s.children.unshift(function(e,n){var s=new n("html_inline","",0),i=t?' disabled="" ':"";0===e.content.indexOf("[ ] ")?s.content='<input class="task-list-item-checkbox"'+i+'type="checkbox">':0!==e.content.indexOf("[x] ")&&0!==e.content.indexOf("[X] ")||(s.content='<input class="task-list-item-checkbox" checked=""'+i+'type="checkbox">');return s}(s,i)),s.children[1].content=s.children[1].content.slice(3),s.content=s.content.slice(3),e)if(n){s.children.pop();var o="task-item-"+Math.ceil(1e7*Math.random()-1e3);s.children[0].content=s.children[0].content.slice(0,-1)+' id="'+o+'">',s.children.push(function(t,e,n){var s=new n("html_inline","",0);return s.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",s.attrs=[{for:e}],s}(s.content,o,i))}else s.children.unshift(function(t){var e=new t("html_inline","",0);return e.content="<label>",e}(i)),s.children.push(function(t){var e=new t("html_inline","",0);return e.content="</label>",e}(i))}return Sf=function(a,c){c&&(t=!c.enabled,e=!!c.label,n=!!c.labelAfter),a.core.ruler.after("inline","github-task-lists",(function(e){for(var n=e.tokens,a=2;a<n.length;a++)o(n,a)&&(r(n[a],e.Token),s(n[a-2],"class","task-list-item"+(t?"":" enabled")),s(n[i(n,a-2)],"class","contains-task-list"))}))}}());var Tf=Object.defineProperty,Mf=(t,e,n)=>(((t,e,n)=>{e in t?Tf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);const zf=H.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:t=>"true"===t.getAttribute("data-tight")||!t.querySelector("p"),renderHTML:t=>({class:t.tight?this.options.tightClass:null,"data-tight":t.tight?"true":null})}}}]},addCommands(){var t=this;return{toggleTight:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return n=>{let{editor:s,commands:i}=n;return t.options.listTypes.some((t=>function(t){if(!s.isActive(t))return!1;const n=s.getAttributes(t);return i.updateAttributes(t,{tight:null!=e?e:!(null!=n&&n.tight)})}(t)))}}}}}),Bf=xf();function If(t,e){Bf.inline.State.prototype.scanDelims.call({src:t,posMax:t.length});return new Bf.inline.State(t,null,null,[]).scanDelims(e,!0)}function Nf(t,e,n,s){let i=t.substring(0,n)+t.substring(n+e.length);return i=i.substring(0,n+s)+e+i.substring(n+s),i}function Of(t,e,n,s){let i={text:t,from:n,to:s};return i=function(t,e,n,s){let i=n,o=t;for(;i<s&&!If(o,i).can_open;)o=Nf(o,e,i,1),i++;return{text:o,from:i,to:s}}(i.text,e,i.from,i.to),i=function(t,e,n,s){let i=s,o=t;for(;i>n&&!If(o,i).can_close;)o=Nf(o,e,i,-1),i--;return{text:o,from:n,to:i}}(i.text,e,i.from,i.to),i.to-i.from<e.length+1&&(i.text=i.text.substring(0,i.from)+i.text.substring(i.to+e.length)),i.text}class Hf extends gm{constructor(t,e,n){super(t,e,null!=n?n:{}),Mf(this,"inTable",!1),this.inlines=[]}render(t,e,n){super.render(t,e,n);const s=this.inlines[this.inlines.length-1];if(null!=s&&s.start&&null!=s&&s.end){const{delimiter:t,start:e,end:n}=this.normalizeInline(s);this.out=Of(this.out,t,e,n),this.inlines.pop()}}markString(t,e,n,s){const i=this.marks[t.type.name];if(i.expelEnclosingWhitespace)if(e)this.inlines.push({start:this.out.length,delimiter:i.open});else{const t=this.inlines.pop();this.inlines.push({...t,end:this.out.length})}return super.markString(t,e,n,s)}normalizeInline(t){let{start:e,end:n}=t;for(;this.out.charAt(e).match(/\s/);)e++;return{...t,start:e}}}const jf=S.create({name:"markdownHTMLMark",addStorage:()=>({markdown:{serialize:{open(t,e){var n,s;return this.editor.storage.markdown.options.html?null!==(n=null===(s=Rf(e))||void 0===s?void 0:s[0])&&void 0!==n?n:"":(console.warn(`Tiptap Markdown: "${e.type.name}" mark is only available in html mode`),"")},close(t,e){var n,s;return this.editor.storage.markdown.options.html&&null!==(n=null===(s=Rf(e))||void 0===s?void 0:s[1])&&void 0!==n?n:""}},parse:{}}})});function Rf(t){const e=t.type.schema,n=e.text(" ",[t]),s=ot(P.from(n),e).match(/^(<.*?>) (<\/.*?>)$/);return s?[s[1],s[2]]:null}function Pf(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}const $f=w.create({name:"markdownHTMLNode",addStorage:()=>({markdown:{serialize(t,e,n){this.editor.storage.markdown.options.html?t.write(function(t,e){const n=t.type.schema,s=ot(P.from(t),n);if(t.isBlock&&(e instanceof P||e.type.name===n.topNodeType.name))return function(t){const e=Pf(t),n=e.firstElementChild;return n.innerHTML=n.innerHTML.trim()?`\n${n.innerHTML}\n`:"\n",n.outerHTML}(s);return s}(e,n)):(console.warn(`Tiptap Markdown: "${e.type.name}" node is only available in html mode`),t.write(`[${e.type.name}]`)),e.isBlock&&t.closeBlock(e)},parse:{}}})});const qf=w.create({name:"blockquote"}).extend({addStorage:()=>({markdown:{serialize:pm.nodes.blockquote,parse:{}}})}),Vf=w.create({name:"bulletList"}).extend({addStorage:()=>({markdown:{serialize(t,e){return t.renderList(e,"  ",(()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" "))},parse:{}}})}),Uf=w.create({name:"codeBlock"}).extend({addStorage:()=>({markdown:{serialize(t,e){t.write("```"+(e.attrs.language||"")+"\n"),t.text(e.textContent,!1),t.ensureNewLine(),t.write("```"),t.closeBlock(e)},parse:{setup(t){var e;t.set({langPrefix:null!==(e=this.options.languageClassPrefix)&&void 0!==e?e:"language-"})},updateDOM(t){t.innerHTML=t.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}})}),Zf=w.create({name:"hardBreak"}).extend({addStorage:()=>({markdown:{serialize(t,e,n,s){for(let i=s+1;i<n.childCount;i++)if(n.child(i).type!=e.type)return void t.write(t.inTable?$f.storage.markdown.serialize.call(this,t,e,n):"\\\n")},parse:{}}})}),Wf=w.create({name:"heading"}).extend({addStorage:()=>({markdown:{serialize:pm.nodes.heading,parse:{}}})}),Gf=w.create({name:"horizontalRule"}).extend({addStorage:()=>({markdown:{serialize:pm.nodes.horizontal_rule,parse:{}}})}),Kf=w.create({name:"image"}).extend({addStorage:()=>({markdown:{serialize:pm.nodes.image,parse:{}}})}),Jf=w.create({name:"listItem"}).extend({addStorage:()=>({markdown:{serialize:pm.nodes.list_item,parse:{}}})});const Qf=w.create({name:"orderedList"}).extend({addStorage:()=>({markdown:{serialize(t,e,n,s){const i=e.attrs.start||1,o=String(i+e.childCount-1).length,r=t.repeat(" ",o+2),a=function(t,e,n){let s=0;for(;n-s>0&&e.child(n-s-1).type.name===t.type.name;s++);return s}(e,n,s),c=a%2?") ":". ";t.renderList(e,r,(e=>{const n=String(i+e);return t.repeat(" ",o-n.length)+n+c}))},parse:{}}})}),Yf=w.create({name:"paragraph"}).extend({addStorage:()=>({markdown:{serialize:pm.nodes.paragraph,parse:{}}})});function Xf(t){var e,n;return null!==(e=null==t||null===(n=t.content)||void 0===n?void 0:n.content)&&void 0!==e?e:[]}const tk=w.create({name:"table"}).extend({addStorage:()=>({markdown:{serialize(t,e,n){!function(t){const e=Xf(t),n=e[0],s=e.slice(1);if(Xf(n).some((t=>"tableHeader"!==t.type.name||ek(t)||t.childCount>1)))return!1;if(s.some((t=>Xf(t).some((t=>"tableHeader"===t.type.name||ek(t)||t.childCount>1)))))return!1;return!0}(e)?$f.storage.markdown.serialize.call(this,t,e,n):(t.inTable=!0,e.forEach(((e,n,s)=>{if(t.write("| "),e.forEach(((e,n,s)=>{s&&t.write(" | ");const i=e.firstChild;i.textContent.trim()&&t.renderInline(i)})),t.write(" |"),t.ensureNewLine(),!s){const n=Array.from({length:e.childCount}).map((()=>"---")).join(" | ");t.write(`| ${n} |`),t.ensureNewLine()}})),t.closeBlock(e),t.inTable=!1)},parse:{}}})});function ek(t){return t.attrs.colspan>1||t.attrs.rowspan>1}const nk=w.create({name:"taskItem"}).extend({addStorage:()=>({markdown:{serialize(t,e){const n=e.attrs.checked?"[x]":"[ ]";t.write(`${n} `),t.renderContent(e)},parse:{updateDOM(t){[...t.querySelectorAll(".task-list-item")].forEach((t=>{const e=t.querySelector("input");t.setAttribute("data-type","taskItem"),e&&(t.setAttribute("data-checked",e.checked),e.remove())}))}}}})}),sk=w.create({name:"taskList"}).extend({addStorage:()=>({markdown:{serialize:Vf.storage.markdown.serialize,parse:{setup(t){t.use(Lf)},updateDOM(t){[...t.querySelectorAll(".contains-task-list")].forEach((t=>{t.setAttribute("data-type","taskList")}))}}}})}),ik=w.create({name:"text"}).extend({addStorage:()=>({markdown:{serialize(t,e){var n;t.text(null==(n=e.text)?void 0:n.replace(/</g,"&lt;").replace(/>/g,"&gt;"))},parse:{}}})}),ok=S.create({name:"bold"}).extend({addStorage:()=>({markdown:{serialize:pm.marks.strong,parse:{}}})}),rk=S.create({name:"code"}).extend({addStorage:()=>({markdown:{serialize:pm.marks.code,parse:{}}})}),ak=S.create({name:"italic"}).extend({addStorage:()=>({markdown:{serialize:pm.marks.em,parse:{}}})}),ck=S.create({name:"link"}).extend({addStorage:()=>({markdown:{serialize:pm.marks.link,parse:{}}})}),lk=S.create({name:"strike"}).extend({addStorage:()=>({markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}})}),uk=[qf,Vf,Uf,Zf,Wf,Gf,$f,Kf,Jf,Qf,Yf,tk,nk,sk,ik,ok,rk,jf,ak,ck,lk];function dk(t){var e,n;const s=null===(e=t.storage)||void 0===e?void 0:e.markdown,i=null===(n=uk.find((e=>e.name===t.name)))||void 0===n?void 0:n.storage.markdown;return s||i?{...i,...s}:null}class hk{constructor(t){Mf(this,"editor",null),this.editor=t}serialize(t){const e=new Hf(this.nodes,this.marks,{hardBreakNodeName:Zf.name});return e.renderContent(t),e.out}get nodes(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map((t=>[t,this.serializeNode($f)]))),...Object.fromEntries(null!==(t=this.editor.extensionManager.extensions.filter((t=>"node"===t.type&&this.serializeNode(t))).map((t=>[t.name,this.serializeNode(t)])))&&void 0!==t?t:[])}}get marks(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map((t=>[t,this.serializeMark(jf)]))),...Object.fromEntries(null!==(t=this.editor.extensionManager.extensions.filter((t=>"mark"===t.type&&this.serializeMark(t))).map((t=>[t.name,this.serializeMark(t)])))&&void 0!==t?t:[])}}serializeNode(t){var e;return null===(e=dk(t))||void 0===e||null===(e=e.serialize)||void 0===e?void 0:e.bind({editor:this.editor,options:t.options})}serializeMark(t){var e;const n=null===(e=dk(t))||void 0===e?void 0:e.serialize;return n?{...n,open:"function"==typeof n.open?n.open.bind({editor:this.editor,options:t.options}):n.open,close:"function"==typeof n.close?n.close.bind({editor:this.editor,options:t.options}):n.close}:null}}class pk{constructor(t,e){Mf(this,"editor",null),Mf(this,"md",null);let{html:n,linkify:s,breaks:i}=e;this.editor=t,this.md=this.withPatchedRenderer(xf({html:n,linkify:s,breaks:i}))}parse(t){let{inline:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t){this.editor.extensionManager.extensions.forEach((t=>{var e;return null===(e=dk(t))||void 0===e||null===(e=e.parse)||void 0===e||null===(e=e.setup)||void 0===e?void 0:e.call({editor:this.editor,options:t.options},this.md)}));const n=Pf(this.md.render(t));return this.editor.extensionManager.extensions.forEach((t=>{var e;return null===(e=dk(t))||void 0===e||null===(e=e.parse)||void 0===e||null===(e=e.updateDOM)||void 0===e?void 0:e.call({editor:this.editor,options:t.options},n)})),this.normalizeDOM(n,{inline:e,content:t}),n.innerHTML}return t}normalizeDOM(t,e){let{inline:n,content:s}=e;return this.normalizeBlocks(t),t.querySelectorAll("*").forEach((t=>{var e;(null===(e=t.nextSibling)||void 0===e?void 0:e.nodeType)!==Node.TEXT_NODE||t.closest("pre")||(t.nextSibling.textContent=t.nextSibling.textContent.replace(/^\n/,""))})),n&&this.normalizeInline(t,s),t}normalizeBlocks(t){const e=Object.values(this.editor.schema.nodes).filter((t=>t.isBlock)).map((t=>{var e;return null===(e=t.spec.parseDOM)||void 0===e?void 0:e.map((t=>t.tag))})).flat().filter(Boolean).join(",");e&&[...t.querySelectorAll(e)].forEach((t=>{t.parentElement.matches("p")&&function(t){const e=t.parentElement,n=e.cloneNode();for(;e.firstChild&&e.firstChild!==t;)n.appendChild(e.firstChild);n.childNodes.length>0&&e.parentElement.insertBefore(n,e),e.parentElement.insertBefore(t,e),0===e.childNodes.length&&e.remove()}(t)}))}normalizeInline(t,e){var n;if(null!==(n=t.firstElementChild)&&void 0!==n&&n.matches("p")){var s,i,o,r;const n=t.firstElementChild,{nextElementSibling:a}=n,c=null!==(s=null===(i=e.match(/^\s+/))||void 0===i?void 0:i[0])&&void 0!==s?s:"",l=a?"":null!==(o=null===(r=e.match(/\s+$/))||void 0===r?void 0:r[0])&&void 0!==o?o:"";if(e.match(/^\n\n/))return void(n.innerHTML=`${n.innerHTML}${l}`);!function(t){const e=t.parentNode;for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(n),t.innerHTML=`${c}${t.innerHTML}${l}`}}withPatchedRenderer(t){const e=t=>function(){const e=t(...arguments);return"\n"===e?e:"\n"===e[e.length-1]?e.slice(0,-1):e};return t.renderer.rules.hardbreak=e(t.renderer.rules.hardbreak),t.renderer.rules.softbreak=e(t.renderer.rules.softbreak),t.renderer.rules.fence=e(t.renderer.rules.fence),t.renderer.rules.code_block=e(t.renderer.rules.code_block),t.renderer.renderToken=e(t.renderer.renderToken.bind(t.renderer)),t}}const mk=H.create({name:"markdownClipboard",addOptions:()=>({transformPastedText:!1,transformCopiedText:!1}),addProseMirrorPlugins(){return[new B({key:new I("markdownClipboard"),props:{clipboardTextParser:(t,e,n)=>{if(n||!this.options.transformPastedText)return null;const s=this.editor.storage.markdown.parser.parse(t,{inline:!0});return rt.fromSchema(this.editor.schema).parseSlice(Pf(s),{preserveWhitespace:!0,context:e})},clipboardTextSerializer:t=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(t.content):null}})]}}),gk=H.create({name:"markdown",priority:50,addOptions:()=>({html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}),addCommands(){const t=at.Commands.config.addCommands();return{setContent:(e,n,s)=>i=>t.setContent(i.editor.storage.markdown.parser.parse(e),n,s)(i),insertContentAt:(e,n,s)=>i=>t.insertContentAt(e,i.editor.storage.markdown.parser.parse(n,{inline:!0}),s)(i)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new pk(this.editor,this.options),serializer:new hk(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage:()=>({}),addExtensions(){return[zf.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),mk.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),fk=Ga.extend({content:`${v} block*`});const kk=s({name:"NotesEditorTitleBackLinks",components:{NotesEditorBackLinks:s({name:"NotesEditorBackLinks",components:{NotesEditorLinkPreview:ct,BaseDropdown:Ht,BaseDropdownContent:$t},inject:["activeNote"],setup:()=>({notesStore:lt(),notesViewStateStore:Jr()}),computed:{activeNoteBackLinks(){return this.notesStore.getBackLinks[this.activeNote.linkKey]??[]}},methods:{setActiveNote(t){t.deleted?this.notesViewStateStore.setActiveView("deleted"):this.notesViewStateStore.setActiveView("list"),this.notesStore.activeItemId=t.id}}},(function(){var t=this,e=t._self._c;return t.activeNoteBackLinks.length>0?e("div",{staticClass:"notes-editor-back-links",attrs:{"data-test":"note-back-links"}},[e("base-dropdown",{attrs:{hover:!0},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("inline-svg",{staticClass:"icon icon-back-link",attrs:{src:Qs}})]},proxy:!0}],null,!1,154415150)},[e("template",{slot:"contentOverride"},[e("base-dropdown-content",{staticClass:"notes-editor-back-links-tooltip-content"},[e("span",[t._v("Linked to this note")]),e("a",{attrs:{href:"https://get.momentumdash.help/hc/en-us/articles/17665906818839",target:"_blank"}},[t._v("Learn more")])])],1)],2),e("div",{staticClass:"notes-editor-back-links-items"},t._l(t.activeNoteBackLinks,(function(n){return e("button",{key:n.id,staticClass:"notes-editor-back-links-item",attrs:{"data-test":"note-back-links-item"},on:{click:function(e){return t.setActiveNote(n)}}},[e("notes-editor-link-preview",{attrs:{note:n}})],1)})),0)],1):t._e()}),[],!1,null,"8148431e").exports,NodeViewWrapper:ut,NodeViewContent:dt},inject:["activeNote"],props:{...ht},computed:{placeholder(){return this.activeNote.draft?pt.New:pt.None}}},(function(){var t=this._self._c;return t("node-view-wrapper",{ref:"nodeViewWrapper",staticClass:"notes-editor-title-node-view"},[t("node-view-content",{staticClass:"title",attrs:{as:"h1","data-placeholder":this.placeholder}}),t("notes-editor-back-links",{attrs:{contenteditable:"false"}})],1)}),[],!1,null,"ec614a5a").exports,_k=ac.extend({name:v,content:"text*",marks:"",group:v,addAttributes:()=>({levels:[1]}),addCommands:()=>({}),addNodeView:()=>mt(kk)}),bk=(()=>{const t=[Uc.configure({showOnlyCurrent:!1}),Zu,Ku,Yu,id,cd,dd,Zc,Gc,Uu],e=[Vc.configure({document:!1,horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),fk,_k,gk.configure({transformPastedText:!0}),gt.configure({renderHTMLWithDOMContent:!0}),...t],n=[Vc.configure({horizontalRule:!1,dropcursor:!1,bold:!1,italic:!1,strike:!1}),gt,...t],s=new ft({content:"",editable:!0,extensions:e}),i=a("notesEditor",{state:()=>({cursor:{x:"0px",y:"0px",width:"0px",height:"0px",left:"0px",right:"0px",top:"0px"},controlStates:{bold:!1,italic:!1,strike:!1,bulletList:!1,orderedList:!1,heading:{1:{options:{level:1},value:!1},2:{options:{level:2},value:!1}},link:!1,highlight:!1,underline:!1},selection:{from:0,to:0},bodyEmpty:!0}),getters:{editor:()=>s,selectedText(t){const{from:e,to:n}=t.selection;return s.state.selection.from!==e||s.state.selection.to!==n?"":s.state.doc.textBetween(e,n," ")??""},selectedHTML(t){const{from:e,to:n}=t.selection;return s.state.selection.from!==e||s.state.selection.to!==n?"":ot(s.state.doc.cut(e,n).content,s.schema)}},actions:{updateSelection(){this.selection=s.state.selection},updateCursorDetails(){const t=kt(s.view,this.selection.from,this.selection.to),e=s.view.dom.getBoundingClientRect();this.cursor={x:t.x-e.x+"px",y:t.y-e.y+"px",width:`${t.width}px`,height:`${t.height}px`,left:t.left-e.left+"px",right:e.right-t.right+"px",top:t.top-e.top+"px"}},updateControlStates(){Object.entries(this.controlStates).forEach((([t,e])=>{"heading"!==t?this.controlStates[t]=this.editor.isActive(t):Object.values(e).forEach((e=>{e.value=this.editor.isActive(t,e.options)}))}))},updateEditorBodyEmpty(){const t=this.getBodyHTMLContent();this.bodyEmpty=""===t||t===_t.BodyHTML.toString()},setContent(t,e,i=!0){var o,r;const a=bt(e,n),c={type:v,...t?{content:[{type:"text",text:t}]}:{}};null==(o=a.content)||o.unshift(c),""===e&&(null==(r=a.content)||r.splice(-1,1)),s.commands.setContent(a,!1),i&&this.resetHistory()},getTitleBodyNodes(){const t=s.state.doc.child(0);return[t,s.state.doc.cut(t.nodeSize)]},getTitleContent(){try{const[t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),_t.BodyOrTitleText}},getBodyHTMLContent(t=!1){try{const[,e]=this.getTitleBodyNodes();return t?ot(e.content,s.schema):vt(e.toJSON(),n)}catch(e){return console.log(e),_t.BodyHTML}},getBodyTextContent(){try{const[,t]=this.getTitleBodyNodes();return t.textContent}catch(t){return console.log(t),_t.BodyOrTitleText}},getLinkedKeys(){const t=new Set;return s.state.doc.descendants((e=>{e.type.name===gt.name&&t.add(e.attrs.key)})),[...t]},resetHistory(){const t=yt.create({doc:s.state.doc,plugins:s.state.plugins,schema:s.state.schema});s.view.updateState(t)},setEditable(t){s.setEditable(t,!1)},updatePlaceholder(){const t=s.extensionManager.extensions.find((t=>"placeholder"===t.name));if(!t)return;const e=Dt[Math.round(Math.random()*(Dt.length-1))]??"";t.options.placeholder=()=>e},resetSelection(){var t;s.commands.setTextSelection(0),null==(t=window.getSelection())||t.removeAllRanges()},ensureAtLeastParagraphInBody(){var t;(null==(t=s.state.doc.lastChild)?void 0:t.type.name)===v&&s.commands.command((({tr:t,dispatch:e,editor:n})=>{if(!e)return!0;const s=Ct({type:"paragraph"},n.schema);return t.setMeta("addToHistory",!1),t.replaceWith(n.state.doc.content.size,n.state.doc.content.size,s),!0}))},focus(){try{const t=s.state.doc.child(0),e=s.state.doc.cut(t.nodeSize);""===t.textContent&&""===e.textContent?s.commands.focus(0):s.commands.focus(t.nodeSize+1)}catch(t){console.error(t),s.commands.focus()}},blur(){s.commands.blur()},toggleBold(){s.chain().focus().toggleBold().run()},toggleItalic(){s.chain().focus().toggleItalic().run()},toggleStrike(){s.chain().focus().toggleStrike().run()},toggleUnderline(){s.chain().focus().toggleUnderline().run()},toggleHighlight(){s.chain().focus().toggleHighlight().run()},toggleBulletList(){s.chain().focus().toggleBulletList().run()},toggleOrderedList(){s.chain().focus().toggleOrderedList().run()},toggleHeading(t){s.chain().focus().toggleHeading({level:t}).run()},unsetAllMarks(){s.chain().focus().unsetAllMarks().run()},createNoteLink(t,e){s.chain().focus().insertContentAt(e,[{type:gt.name,attrs:{key:t}}]).run()}}}),o=i();return s.on("selectionUpdate",(()=>{o.updateSelection(),o.updateControlStates(),o.updateCursorDetails()})),s.on("update",(()=>{o.updateControlStates(),o.updateCursorDetails(),o.ensureAtLeastParagraphInBody()})),s.on("transaction",(()=>{o.updateEditorBodyEmpty()})),o.updatePlaceholder(),c(l.windowDimensions,(()=>o.updateCursorDetails()),{deep:!0}),i})();const vk={name:"NotesEditor",components:{NotesEditorLinkSuggestion:s({name:"NotesEditorLinkSuggestion",components:{BaseDropdownText:Gr,BaseDropdownDivider:Ur,BaseDropdownOption:Nt,BaseDropdown:Ht},inject:["notesEditorElement"],setup:()=>({editorViewStateStore:Aa(),editorStore:bk(),notesStore:lt(),dropdown:u(),range:null,destroyEscapeEvent:!0,DropdownPosition:Rt,DropdownAlignment:Pt}),data:()=>({activeOptionIndex:0,query:null,visible:!1}),computed:{availableItems(){return{...this.notesStore.getPinnedItems,...this.notesStore.getUnpinnedItems}},items(){return null===this.query?[]:Object.values(this.availableItems).filter((t=>t.id!==this.notesStore.activeItemId&&t.preview.toLowerCase().includes(this.query.toLowerCase()))).slice(0,5)},itemsVisible(){return this.items.length>0},newNoteOptionVisible(){return!!this.query},activeNote(){return this.availableItems[this.notesStore.activeItemId]}},watch:{visible(){this.visible?this.activateSuggestion():this.deactivateSuggestion()},items(){this.activeOptionIndex=0}},mounted(){this.editorStore.editor.on("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.on("transaction",this.updateDataFromLinkState)},destroyed(){this.editorStore.editor.off("selectionUpdate",this.updateDropdownPosition),this.editorStore.editor.off("transaction",this.updateDataFromLinkState)},methods:{openDropdown(){var t;null==(t=this.dropdown)||t.openDropdown()},closeDropdown(){var t;null==(t=this.dropdown)||t.closeDropdown()},addEvents(){Qr.registerEventListener("setDropdownOptionPrev","keydown",38,(()=>this.setOptionAdjacent(-1))),Qr.registerEventListener("setDropdownOptionNext","keydown",40,(()=>this.setOptionAdjacent(1))),Qr.registerEventListener("selectOrCreateOption","keydown",13,this.selectOrCreateNoteAtOption),Qr.registerEventListener("closeSuggestionDropdown","keyup",27,(()=>{Qr.removeEventListener("closeSuggestionDropdown","keyup",27)}))},removeEvents(){Qr.removeEventListener("setDropdownOptionPrev","keydown",38),Qr.removeEventListener("setDropdownOptionNext","keydown",40),Qr.removeEventListener("selectOrCreateOption","keydown",13),this.destroyEscapeEvent?Qr.removeEventListener("closeSuggestionDropdown","keyup",27):this.destroyEscapeEvent=!0},deactivateSuggestion(){this.removeEvents(),this.closeDropdown()},activateSuggestion(){this.addEvents(),this.openDropdown()},updateDropdownPosition(){var t;this.$nextTick().then(null==(t=this.dropdown)?void 0:t.forceUpdateDropdownPosition)},async selectNote(t){this.range&&(t.linkKey||(t.linkKey=Yr(),await this.notesStore.update(t.id,{linkKey:t.linkKey},{updateDate:!1})),this.editorStore.createNoteLink(t.linkKey,this.range))},async selectOrCreateNoteAtOption(){this.activeOptionIndex!==this.items.length?await this.selectNote(this.items[this.activeOptionIndex]):await this.createNewNote()},async createNewNote(){if(!this.query)return;const t=this.notesStore.create();await this.notesStore.update(t.id,{title:this.query},{updateDate:!1}),await this.selectNote(t)},setOptionAdjacent(t){const e=this.items.length+(this.newNoteOptionVisible?1:0);this.activeOptionIndex=((this.activeOptionIndex+t)%e+e)%e},updateDataFromLinkState({editor:t}){const e=At.getState(t.state);this.visible=e.active,this.query=e.query,this.range=e.range,this.visible||"Escape"!==e.prevKeyPressed||(this.destroyEscapeEvent=!1)}}},(function(){var t=this,e=t._self._c;return e("base-dropdown",{ref:"dropdown",staticClass:"notes-editor-link-suggestion",attrs:{"disable-click-outside":!0,"disable-close-event":!0,alignment:t.DropdownAlignment.Left,position:t.DropdownPosition.Bottom,"nipple-alignment-offset":16,"scroll-target":t.notesEditorElement,"use-toast-mobile":!1,"max-width":"15rem","container-data-test":"link-suggestion-container"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"notes-editor-link-suggestion-toggle"})]},proxy:!0}])},[t.itemsVisible?[e("base-dropdown-text",{attrs:{"is-title":""}},[t._v(" Link to note ")]),t._l(t.items,(function(n,s){return e("base-dropdown-option",{key:n.id,attrs:{active:t.activeOptionIndex===s,"data-test":"existing-suggestion"},on:{click:function(e){return t.selectNote(n)}}},[e("inline-svg",{staticClass:"icon icon-note",attrs:{src:Ii}}),e("span",{staticClass:"u--text-no-wrap"},[t._v(t._s(n.preview))])],1)}))]:t._e(),t.itemsVisible&&t.newNoteOptionVisible?e("base-dropdown-divider"):t._e(),t.newNoteOptionVisible?[e("base-dropdown-text",{attrs:{"is-title":""}},[t._v(" New note ")]),e("base-dropdown-option",{attrs:{active:t.activeOptionIndex===t.items.length},on:{click:function(e){return t.createNewNote()}}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:Ge}}),e("span",{staticClass:"u--text-no-wrap"},[t._v("New note: "+t._s(t.query))])],1)]:t._e(),t.itemsVisible||t.newNoteOptionVisible?t._e():[e("base-dropdown-text",[t._v(" No notes found ")])]],2)}),[],!1,null,"30371981").exports,NotesEditorAi:La,NotesEditorToolbar:wa,EditorContent:wt},provide(){return{notesEditorElement:d((()=>this.editorElement))}},inject:["itemStore","viewStateStore","editorStore","activeNote"],props:{focusOnCreated:{type:Boolean,default:!0}},data:()=>({restoreBannerActive:!1,editorElement:null}),computed:{windowDimensions:()=>l.windowDimensions,cursor(){return this.editorStore.cursor}},watch:{"activeNote.id":{handler(t){t&&this.activeNote&&(this.editorStore.updatePlaceholder(),this.updateEditorWithActiveNote()),this.restoreBannerActive=!1},immediate:!0},"activeNote.updatedDate"(){const t=this.editorStore.getTitleContent(),e=this.editorStore.getBodyHTMLContent();this.activeNote.body===e&&this.activeNote.title===t||this.updateEditorWithActiveNote()},"activeNote.deleted"(t){!t&&this.restoreBannerActive&&(this.restoreBannerActive=!1)}},created(){this.editorStore.editor.on("update",this.onUpdate),this.editorStore.editor.on("blur",this.onBlur),this.editorStore.editor.on("focus",this.onFocus),this.updateEditorWithActiveNote(),this.focusOnCreated&&this.focus()},mounted(){this.editorElement=this.$refs["notes-editor"]},beforeDestroy(){const t=this.$refs["editor-content"].$el,e=document.createElement("div");t.before(e),e.outerHTML=t.outerHTML,e.style.display="none",this.editorStore.editor.off("update",this.onUpdate),this.editorStore.editor.off("blur",this.onBlur),this.editorStore.editor.off("focus",this.onFocus)},methods:{save(){this.viewStateStore.activeItemId=this.activeNote.id;const t=this.editorStore.getTitleContent(),e=this.editorStore.getBodyHTMLContent(),n=this.editorStore.getLinkedKeys(),s=this.itemStore.getUpdatedProperties(this.activeNote.id,{title:t,body:e,linkedKeys:n});!this.activeNote.deleted&&Object.keys(s).length&&this.itemStore.update(this.activeNote.id,s)},restore(){this.itemStore.restore(this.activeNote.id),this.viewStateStore.setActiveView("list"),this.editorStore.focus()},onUpdate(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"}),this.editorStore.editor.commands.undo(),void this.editorStore.editor.commands.blur();clearTimeout(this.saveDebounce),this.saveDebounce=setTimeout((()=>{this.save()}),Et)},onBlur(){clearTimeout(this.saveDebounce),this.save()},onFocus(){this.activeNote.deleted&&(this.restoreBannerActive=!0)},updateEditorWithActiveNote(){var t,e,n;this.editorStore.setEditable(!((null==(t=this.activeNote)?void 0:t.deleted)??1)),this.editorStore.setContent((null==(e=this.activeNote)?void 0:e.title)??"",(null==(n=this.activeNote)?void 0:n.body)??"")},focus(){this.editorStore.focus()}}},yk=()=>{h(((t,e)=>({"38690adf":t.cursor.x,"38690ae0":t.cursor.y,"18a8ef20":t.cursor.height,"753dacad":t.cursor.width,f037af80:t.cursor.left,"74f74103":t.cursor.right,"0efdf824":t.cursor.bottom,"7b5c6408":t.cursor.top})))},Ck=vk.setup;vk.setup=Ck?(t,e)=>(yk(),Ck(t,e)):yk;const Dk=s(vk,(function(){var t=this,e=t._self._c;return e("div",{ref:"notes-editor",staticClass:"notes-editor"},[t.restoreBannerActive?e("div",{staticClass:"message"},[t._v(" Restore this note to edit. "),e("span",{staticClass:"button restore-note",on:{click:t.restore}},[t._v("Restore")])]):t._e(),e("editor-content",{ref:"editor-content",staticClass:"editor",attrs:{"data-test":"editor",editor:t.editorStore.editor}}),t.activeNote.deleted?t._e():[e("notes-editor-toolbar"),e("notes-editor-ai",{attrs:{"active-note":t.activeNote}}),e("notes-editor-link-suggestion")]],2)}),[],!1,null,"cb3768bf").exports;const Ak=s({name:"NotesHeaderAi",components:{AppHeaderControl:jt,NotesAiHistory:xa,NotesAiActions:Fa},inject:["viewStateStore","editorStore"],props:{activeNote:{type:Object,default:null},disabled:{type:Boolean,default:!1}},unreactive:()=>({DropdownAlignment:Pt}),data:()=>({actionsOpen:!1,historyOpen:!1}),computed:{fullscreen(){return this.viewStateStore.fullscreen}},watch:{fullscreen(){this.closeDropdowns()}},methods:{openHistoryDropdown(){var t;null==(t=this.$refs["notes-ai-history"])||t.openDropdown(),this.historyOpen=!0},closeHistoryDropdown(){var t;null==(t=this.$refs["notes-ai-history"])||t.closeDropdown(),this.historyOpen=!1},openActionsDropdown(){var t;null==(t=this.$refs["notes-ai-actions"])||t.openDropdown(),this.actionsOpen=!0},closeActionsDropdown(){var t;null==(t=this.$refs["notes-ai-actions"])||t.closeDropdown(),this.actionsOpen=!1},closeDropdowns(){this.closeActionsDropdown(),this.closeHistoryDropdown()},onHeaderAiClick(){this.actionsOpen||this.historyOpen?this.closeDropdowns():(this.openActionsDropdown(),this.editorStore.resetSelection())},actionClicked(){this.closeActionsDropdown(),this.openHistoryDropdown()}}},(function(){var t=this,e=t._self._c;return e("app-header-control",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropdowns,expression:"closeDropdowns"}],staticClass:"notes-header-ai",attrs:{"data-test":"notes-header-ai",disabled:t.disabled},on:{click:t.onHeaderAiClick}},[e("div",{staticClass:"notes-header-ai-content"},[e("div",{staticClass:"notes-header-ai-content-toggle"},[e("inline-svg",{staticClass:"icon icon-ai",attrs:{src:wo}}),e("span",{staticClass:"ai-label"},[t._v("AI")]),e("inline-svg",{staticClass:"icon icon-chevron-down",attrs:{src:to}})],1),t.activeNote?e("notes-ai-history",{ref:"notes-ai-history",attrs:{alignment:t.DropdownAlignment.Left,"append-to-end":!0},on:{close:t.closeDropdowns,toggle:function(e){t.historyOpen=e}}}):t._e(),t.activeNote?e("notes-ai-actions",{ref:"notes-ai-actions",attrs:{"active-note":t.activeNote,"use-ai-header":!1,alignment:t.DropdownAlignment.Left},on:{"action:history":t.actionClicked,toggle:function(e){t.actionsOpen=e}}}):t._e()],1)])}),[],!1,null,"84757636").exports,wk=((t=xt().noteAiService)=>a("notesAi",{state:()=>({data:[],activeIndex:0,activeAction:null,activeActionLabel:null,languages:{data:[],loading:!1,loaded:!1},loading:!1,loaded:!1,error:null}),getters:{activeHistoryData:t=>t.data[t.activeIndex]??{result:""}},actions:{async runActiveRequest(e){if(e&&(this.activeAction=()=>t.request(e.id,e.type,e.data),this.activeActionLabel=e.type),!this.activeAction||!this.activeActionLabel)throw new Error("Unable to run active action! No current or previous action and label defined.");let n={result:""},s=null;try{this.loading=!0,this.error=null,n=await this.activeAction(),""===n.result?s=new sa:this.appendToHistory(n)}catch(i){s=i}finally{this.loading=!1,this.loaded=!0}return s&&(this.error=p(s,{default:D.ErrorAiRequestHistory})),n},appendToHistory(t){this.activeIndex=this.data.length,this.data.push(t)},async getLanguages(){this.languages.loading||this.languages.loaded||(this.languages.loading=!0,this.languages.data=await t.getLanguages(),this.languages.loading=!1,this.languages.loaded=!0)},reset(){this.activeAction=null,this.activeActionLabel=null,this.loading=!1,this.loaded=!1,this.error=null,this.activeIndex=0,this.data=[]}}}))(),Ek=g({name:"LazyRender",props:{placeholderHeight:{type:String,required:!0}},setup(){const t=u(!1),e=u(),{stop:n}=ea(e,(([e])=>{const{isIntersecting:s}=e??{};s&&(t.value=!0,n())}),{rootMargin:l.windowDimensions.height/4+"px"});return{targetElement:e,shouldRender:t}},render(t){var e,n;if(!this.shouldRender){return t("div",{ref:"targetElement",style:{minHeight:this.placeholderHeight}})}return t({functional:!0,render:(t,e)=>e.props.vNodes},{attrs:{vNodes:(null==(n=(e=this.$scopedSlots).default)?void 0:n.call(e,{}))??[]}})}});const xk=s(g({name:"NotesSidebarSearch",components:{AppSearch:s({name:"AppSearch",props:{value:{type:String,required:!0}},emits:["input","enter","blur","focus","up","down"],methods:{clear(){this.$emit("input",""),this.focus()},clearAndBlur(){this.$emit("input",""),this.$refs.search.blur()},focus(){this.$refs.search.focus()},select(){this.$refs.search.select()},onFocus(){this.$emit("focus")},onBlur(){this.$emit("blur")}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-search search-wrapper"},[e("span",{staticClass:"input-wrapper"},[e("i",{staticClass:"icon icon-search"}),t.value.length?e("span",{staticClass:"icon-clear-wrapper",on:{click:t.clear}},[e("inline-svg",{staticClass:"icon icon-clear",attrs:{src:Be}})],1):t._e(),e("input",{ref:"search",staticClass:"search-input",attrs:{type:"text",name:"search","data-test":"search-input",placeholder:"Search",autocomplete:"off"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.stopPropagation(),e.preventDefault(),t.$emit("up"))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.stopPropagation(),e.preventDefault(),t.$emit("down"))}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),t.clearAndBlur.apply(null,arguments))},focus:t.onFocus,blur:t.onBlur}})])])}),[],!1,null,"4e1d8603").exports},props:{value:{type:String,required:!0}},emits:["close","input","enter","up","down","focus","blur"]}),(function(){var t=this,e=t._self._c;return t._self._setupProxy,e("div",{staticClass:"notes-sidebar-search"},[e("app-search",{ref:"search",attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)},enter:function(e){return t.$emit("enter")},up:function(e){return t.$emit("up")},down:function(e){return t.$emit("down")},focus:function(e){return t.$emit("focus")},blur:function(e){return t.$emit("blur")}}})],1)}),[],!1,null,"0840e5ee").exports,Sk=()=>l.windowDimensions.width<850;const Fk=s({name:"NotesApp",components:{NotesSidebarSearch:xk,SmoothReflow:Zr,BaseIcon:lo,LazyRender:Ek,BaseDropdownDivider:Ur,NotesHeaderAi:Ak,NotesEditor:Dk,BaseDropdownContent:$t,BaseDropdown:Ht,AppHeaderControl:jt,BaseItemList:Ot,BaseDropdownOption:Nt,AppEmpty:zt,AppLoading:Mt,NotesListItem:ba,AppPopup:Tt,AppView:e,AppViewSwitchStatic:_a,AppHeader:Bt},inject:["viewStateStore"],provide(){return{itemStore:this.notesStore,editorStore:this.notesEditorStore,editorViewStateStore:this.notesEditorViewStateStore,aiStore:this.notesAiStore,activeNote:d((()=>this.activeNote))}},setup:()=>({notesStore:lt(),notesEditorStore:bk(),notesEditorViewStateStore:Aa(),notesAiStore:wk(),DropdownAlignment:Pt,AppHeaderCloseOn:It}),data(){return{searchString:"",searchFocused:!1,searchVisible:!1,sidebarOpen:!Sk()&&this.getStorageSidebarState()}},computed:{condensed:Sk,empty(){return this.loaded&&!Object.keys(this.activeListNotes).length},loading(){return this.notesStore.loading},loaded(){return this.notesStore.loaded},error(){return this.notesStore.error},deletedListActive(){return"deleted"===this.activeViewId},emptyStateProps(){return this.searchString?{description:"No notes found.",buttonText:"New Note"}:this.deletedListActive?{description:"No deleted notes yet.",buttonText:"Back To List"}:{title:"Take quick notes and store wisdom to view later.",description:"No notes yet. Add a note to get started!",buttonText:"New Note"}},activeListNotes(){return this.deletedListActive?this.notesStore.getDeletedItems:{...this.notesStore.getPinnedItems,...this.notesStore.getUnpinnedItems}},unpinnedNotes(){return this.filterNotes(this.notesStore.getUnpinnedItems,this.searchString)},pinnedNotes(){return this.filterNotes(this.notesStore.getPinnedItems,this.searchString)},pinnedEmpty(){return 0===Object.keys(this.pinnedNotes).length},deletedNotes(){return this.filterNotes(this.notesStore.getDeletedItems,this.searchString)},activeViewId(){return this.viewStateStore.activeViewId},activeView(){return this.viewStateStore.activeView},activeNoteId:{get(){return this.notesStore.activeItemId},set(t){this.notesStore.activeItemId=t}},activeNote(){return this.activeListNotes[this.activeNoteId]},activeNoteLastUpdatedDateString(){if(!this.activeNote)return"";const t=new Date(this.activeNote.updatedDate);return f.formatMonthDayRelative(t,!1)+f.formatYearRelative(t)+" at "+f.formatTime(t)},activeNotePinned(){var t;return null==(t=this.activeNote)?void 0:t.pinned},fullscreen:{get(){return Xr.notesFullscreen&&!this.$touch},set(t){ta.notesFullscreen=t}}},watch:{async activeNote(t){var e;t?null==(e=document.querySelector(`[data-note-id="${t.id}"]`))||e.scrollIntoView({block:"nearest",behavior:"auto"}):this.notesStore.clearActiveItem()},searchString(){this.notesStore.clearActiveItem()},searchFocused(){this.searchFocused||this.toggleSidebar(!this.condensed&&this.getStorageSidebarState())},activeListNotes(){var t;this.activeNoteId||(this.notesStore.activeItemId=null==(t=Object.values(this.activeListNotes)[0])?void 0:t.id)},deletedListActive(){this.deletedListActive&&this.refreshDeletedNotes()},activeNoteId(){this.searchFocused||this.$nextTick(this.focusNotePad)}},created(){this.loaded||this.notesStore.refresh()},mounted(){m.on("globalEvent:metaBracketLeft",this.setNotePrev),m.on("globalEvent:metaBracketRight",this.setNoteNext),m.on("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.on("globalEvent:metaBackSlash",this.toggleSidebar),m.on("globalEvent:metaCtrlN",this.createNote)},destroyed(){m.off("globalEvent:metaBracketLeft",this.setNotePrev),m.off("globalEvent:metaBracketRight",this.setNoteNext),m.off("globalEvent:metaForwardSlash",this.toggleSearchFocused),m.off("globalEvent:metaBackSlash",this.toggleSidebar),m.off("globalEvent:metaCtrlN",this.createNote),m.on("modal:showUpgrade",this.closePopup)},methods:{setActiveView(t){this.searchString="",this.viewStateStore.setActiveView(t),this.notesStore.clearActiveItem()},deleteNote(){this.notesStore.delete(this.activeNoteId),this.notesStore.clearActiveItem(),this.closeDeleteConf()},closeDeleteConf(){var t;null==(t=this.$refs["delete-dropdown"])||t.closeDropdown()},closeOptionsDropdown(){var t;null==(t=this.$refs.optionsDropdown)||t.closeDropdown()},focusNotePad(){var t;null==(t=this.$refs["notes-editor"])||t.focus(),this.condensed&&(this.sidebarOpen=!1)},createNote(){if(m.conditionalFeatures.featureEnabled("notes-degraded"))return this.notesEditorStore.blur(),void m.cmd("modal.open","UPSELL_NOTES",{eventSource:"dash"});this.searchString="";const t=this.notesStore.create();this.activeNoteId=t.id,this.deletedListActive&&this.setActiveView("list"),this.$nextTick(this.focusNotePad)},restoreNote(){this.notesStore.restore(this.activeNoteId),this.setActiveView("list"),this.$nextTick(this.focusNotePad)},toggleNotePinned(){var t;const e=!(null==(t=this.activeNote)?void 0:t.pinned);this.notesStore.update(this.activeNoteId,{pinned:e},{updateDate:!1})},refreshDeletedNotes(){this.notesStore.refresh(!0)},enterFullscreen(){this.fullscreen=!0,this.notesEditorStore.resetSelection()},exitFullscreen(){this.fullscreen=!1,this.notesEditorStore.resetSelection()},closePopup(){this.viewStateStore.togglePopup(!1)},getStorageSidebarState:()=>f.getLocalStorageBool(St,!0),saveStorageSidebarState(){localStorage.setItem(St,this.sidebarOpen)},toggleSidebar(t,e={saveInStorage:!0}){t="boolean"==typeof t?t:void 0,this.sidebarOpen=t??!this.sidebarOpen,e.saveInStorage&&this.saveStorageSidebarState(),this.notesEditorStore.resetSelection()},setNoteAdjacent(t){this.$refs["notes-editor"].save();const e=Object.keys(this.activeListNotes),n=e.indexOf(this.activeNoteId),s=e.length;const i=e[((n+t)%s+s)%s];i&&(this.activeNoteId=i)},setNoteNext(){this.setNoteAdjacent(1)},setNotePrev(){this.setNoteAdjacent(-1)},toggleSearchFocused(){var t;const e=!this.condensed&&this.getStorageSidebarState();this.toggleSidebar(!this.searchFocused||e,{saveInStorage:!1}),this.searchFocused?this.$nextTick().then(this.focusNotePad):null==(t=this.$refs.search)||t.select()},openHelpPage(){k(Ft)},openMarkdownGuide(){k(Lt)},closeEditorDropdowns(){this.notesEditorStore.resetSelection(),this.notesEditorViewStateStore.setActiveView(Da.ToolbarDefault)},toggleSearch(){this.searchVisible=!this.searchVisible,this.closeOptionsDropdown()},filterNotes(t,e){if(!e)return t;const n={},s=e.toLowerCase();return Object.entries(this.getSearchableContent(t)).forEach((([e,i])=>{i.includes(s)&&(n[e]=t[e])})),n},getSearchableContent:t=>Object.entries(t).reduce(((t,[e,n])=>{var s;return t[e]=`${(null==(s=n.title)?void 0:s.toLowerCase())??""} ${n.bodyTextContent.toLowerCase()}`,t}),{})}},(function(){var t=this,e=t._self._c;return e("app-popup",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeEditorDropdowns,expression:"closeEditorDropdowns"}],ref:"popup",staticClass:"notes-app",class:{"sidebar-open":t.sidebarOpen},attrs:{position:"top-left",region:"bottom-right",width:t.condensed?750:950,fullscreen:t.fullscreen,"hide-apps-exclusions":".apps .notes","data-test":"notes-app",focused:t.viewStateStore.focused},on:{close:t.closePopup},nativeOn:{click:function(e){return t.viewStateStore.focus()}},scopedSlots:t._u([{key:"default",fn:function({showFullscreenElements:n}){return[e("transition",{attrs:{name:"fade",mode:"out-in",duration:"100"}},[t.loading&&!t.loaded?e("app-loading"):t.error?e("app-empty",{attrs:{title:"Oops! Something went wrong",description:"Please reload the tab and try again"}}):t.loaded?e("div",{staticClass:"app-content"},[e("app-view-switch-static",{staticClass:"list-switcher",attrs:{"order-key":t.activeView.order,"data-test":"list-view"}},[t.deletedListActive?t.deletedListActive?e("app-view",{staticClass:"list deleted-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{on:{click:function(e){return t.setActiveView("list")}}},[e("inline-svg",{staticClass:"icon icon-back",attrs:{src:Fe}})],1)]},proxy:!0},{key:"center",fn:function(){return[t._v(" Deleted ")]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[e("div",{staticClass:"deleted-description"},[t._v(" Automatically removed "),e("br"),t._v(" after 2 weeks ")]),e("base-item-list",t._l(t.notesStore.getDeletedItems,(function(n){return e("notes-list-item",{key:n.id,attrs:{active:t.activeNoteId===n.id,note:n},nativeOn:{click:function(e){t.activeNoteId=n.id}}})})),1)]},proxy:!0}],null,!0)}):t._e():e("app-view",{staticClass:"list notes-list",scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":t.AppHeaderCloseOn.None},scopedSlots:t._u([{key:"left",fn:function(){return[e("base-icon",{staticClass:"app-header-icon",attrs:{src:"icon/apps/notes",size:"16px"}}),e("span",{staticClass:"app-header-name"},[t._v("Notes")])]},proxy:!0},{key:"right",fn:function(){return[e("base-dropdown",{ref:"optionsDropdown"},[e("base-dropdown-option",{attrs:{active:t.searchVisible},on:{click:t.toggleSearch}},[e("base-icon",{attrs:{src:"icon/search"}}),t._v(" Search ")],1),e("base-dropdown-option",{on:{click:function(e){return t.setActiveView("deleted")}}},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:Wi}}),t._v(" Deleted ")],1),e("base-dropdown-divider"),e("base-dropdown-option",{on:{click:t.openHelpPage}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:ce}}),t._v(" Help ")],1),e("base-dropdown-option",{on:{click:t.openMarkdownGuide}},[e("inline-svg",{staticClass:"icon icon-help",attrs:{src:ce}}),t._v(" Markdown guide ")],1)],1)]},proxy:!0}],null,!0)}),e("smooth-reflow",{attrs:{"hide-overflow":!0}},[t.searchVisible?e("notes-sidebar-search",{on:{enter:t.toggleSearchFocused,up:t.setNotePrev,down:t.setNoteNext,focus:function(e){t.searchFocused=!0},blur:function(e){t.searchFocused=!1},close:function(e){t.searchVisible=!1}},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}):t._e()],1),t.pinnedEmpty||t.deletedListActive?t._e():e("base-item-list",{staticClass:"pinned-notes-list",attrs:{"data-test":"pinned-notes-list"}},t._l(t.pinnedNotes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem","data-note-id":n.id}},[e("notes-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},on:{click:function(e){t.activeNoteId=n.id}}})],1)})),1)]},proxy:!0},{key:"body",fn:function(){return[t.deletedListActive?e("base-item-list",t._l(t.deletedNotes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem"}},[e("notes-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},on:{click:function(e){t.activeNoteId=n.id}}})],1)})),1):e("base-item-list",{staticClass:"unpinned-notes-list",attrs:{"data-test":"unpinned-notes-list"}},t._l(t.unpinnedNotes,(function(n){return e("lazy-render",{key:n.id,attrs:{"placeholder-height":"2.3rem","data-note-id":n.id}},[e("notes-list-item",{attrs:{active:t.activeNoteId===n.id,note:n},on:{click:function(e){t.activeNoteId=n.id}}})],1)})),1)]},proxy:!0}],null,!0)})],1),e("app-view",{staticClass:"note-detail",attrs:{overlay:t.condensed&&t.sidebarOpen},on:{overlayClick:function(e){t.sidebarOpen=!1}},scopedSlots:t._u([{key:"header",fn:function(){return[e("app-header",{attrs:{"show-close-button-on":n?t.AppHeaderCloseOn.All:t.AppHeaderCloseOn.Mobile},on:{close:t.closePopup},scopedSlots:t._u([{key:"left",fn:function(){return[e("app-header-control",{staticClass:"sidebar-toggle",attrs:{"data-test":"toggle-fullscreen-list-view"},on:{click:t.toggleSidebar}},[e("inline-svg",{staticClass:"icon icon-sidebar",attrs:{src:Fi}})],1)]},proxy:!0},{key:"center",fn:function(){return[e("span",{staticClass:"last-edited-title"},[t._v(t._s(t.activeNoteLastUpdatedDateString))])]},proxy:!0},{key:"right",fn:function(){return[e("app-header-control",{staticClass:"new",attrs:{"data-test":"new-note","show-mobile-background":!0},on:{click:t.createNote}},[e("inline-svg",{staticClass:"icon icon-plus",attrs:{src:Ge}})],1),e("notes-header-ai",{attrs:{disabled:t.deletedListActive||t.notesEditorStore.bodyEmpty,"active-note":t.activeNote}}),e("app-header-control",{attrs:{disabled:t.deletedListActive||!t.activeNote,active:t.activeNotePinned,"data-test":"pin"},on:{click:t.toggleNotePinned}},[e("base-icon",{attrs:{src:"icon/"+(t.activeNotePinned?"unpin":"pin")}})],1),t.deletedListActive?e("app-header-control",{staticClass:"restore",attrs:{disabled:!t.activeNote},on:{click:t.restoreNote}},[e("inline-svg",{staticClass:"icon icon-restore",attrs:{src:Di}})],1):e("base-dropdown",{ref:"delete-dropdown",class:{disabled:!t.activeNote},attrs:{"container-class":"app","data-test":"delete",alignment:t.DropdownAlignment.Left,"max-width":"250px"},scopedSlots:t._u([{key:"toggle",fn:function(){return[e("div",{staticClass:"icon-wrapper more-toggle"},[e("inline-svg",{staticClass:"icon icon-trash",attrs:{src:Wi}})],1)]},proxy:!0},{key:"contentOverride",fn:function(){return[e("base-dropdown-content",{staticClass:"delete-confirm"},[e("div",{staticClass:"text"},[t._v(" Are you sure you would like to delete this note? ")]),e("div",{staticClass:"buttons"},[e("div",{staticClass:"button button-confirm",attrs:{"data-test":"confirm-delete"},on:{click:t.deleteNote}},[t._v("Yes")]),e("div",{staticClass:"button button-neutral",on:{click:t.closeDeleteConf}},[t._v("No")])])])]},proxy:!0}],null,!0)}),t.$touch?t._e():[t.fullscreen?e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.exitFullscreen}},[e("inline-svg",{staticClass:"icon icon-collapse",attrs:{src:Ki}})],1):e("app-header-control",{staticClass:"fullscreen u--mobile-hide",attrs:{"data-test":"toggle-fullscreen"},on:{click:t.enterFullscreen}},[e("inline-svg",{staticClass:"icon icon-expand",attrs:{src:qi}})],1)]]},proxy:!0}],null,!0)})]},proxy:!0},{key:"body",fn:function(){return[t.empty?e("app-empty",t._b({on:{buttonClick:function(e){t.deletedListActive?t.setActiveView("list"):t.createNote()}}},"app-empty",t.emptyStateProps,!1)):e("notes-editor",{ref:"notes-editor",attrs:{"focus-on-created":!t.searchFocused}})]},proxy:!0}],null,!0)})],1):t._e()],1)]}}])})}),[],!1,null,"22a7626c").exports;export{Fk as default};