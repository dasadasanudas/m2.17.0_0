import{u as t}from"./index-CAmMGhGv.js";import{n as e,B as i,O as o,r}from"./icon-alert-Cei3Tz55.js";import{C as s}from"./ChatContent-CVAR_BwC.js";import{g as n}from"./globalKeyEventManager-2_REwTdI.js";import"./localStorage-BThj8CCp.js";import"./preload-helper-xKIU3iAw.js";import"./string-CbqVM-Zr.js";import"./AppView-CLCF208Q.js";import"./index-xreAsusa.js";import"./migrateLegacyUserMessageHandler-aPkGeFs_.js";import"./main-Bw6ngw5x.js";import"./google-DKPAcOmk.js";import"./icon-back-D_TFrgyJ.js";import"./SmoothReflow-DOlTFzdt.js";import"./allComponentsMounted-C3UsG_cA.js";import"./AppViewSwitchDynamic-DCOLomdp.js";import"./AppHeader-qzvUiXuB.js";import"./AppHeaderControl-DmqWUMjw.js";import"./icon-hide-NFfBhfBx.js";import"./AppEmpty-ChhIi3BX.js";import"./chat-xW72L2s-.js";import"./icon-plus-D4YOesIc.js";import"./arrow-up-1QPpu78M.js";const a={up:"up",down:"down"};const p=e({name:"SearchChat",components:{ChatContent:s,ProvideAppDimensions:e({name:"ProvideAppDimensions",provide(){const t=this;return{appDimensions:{get maxHeight(){return t.maxHeight},get height(){return t.rect.height.value},get width(){return t.rect.width.value}}}},props:{direction:{type:String,required:!0,validator:t=>Object.values(a).includes(t)}},setup(){const e=i(null);return{el:e,rect:t(e)}},computed:{maxHeight(){return this.direction===a.up?this.rect.bottom.value-o.dashboardVerticalPaddingPx:r.windowDimensions.height-this.rect.top.value-o.dashboardVerticalPaddingPx}}},(function(){var t=this;return(0,t._self._c)("div",{ref:"el",style:{"--content-max-height":t.maxHeight+"px"}},[t._t("default")],2)}),[],!1,null,null).exports},inject:["viewStateStore"],unreactive:()=>({directionEnum:a}),mounted(){n.registerEventListener("closeApp","keyup",27,(()=>this.$emit("close")))},destroyed(){n.removeEventListener("closeApp","keyup",27)}},(function(){var t=this,e=t._self._c;return e("provide-app-dimensions",{staticClass:"search-chat bg",class:{focused:t.viewStateStore.focused,unfocused:!t.viewStateStore.focused},attrs:{"data-test":"search-ask-ai",direction:t.directionEnum.up},nativeOn:{click:function(e){return t.viewStateStore.focus()}}},[e("chat-content",{on:{close:function(e){return t.$emit("close")}}})],1)}),[],!1,null,"d6298c95").exports;export{p as default};