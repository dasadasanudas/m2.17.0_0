import{B as t}from"./constants-BpVlFj04.js";import{R as e,n as s}from"./icon-alert-Cei3Tz55.js";import{a as o}from"./allComponentsMounted-C3UsG_cA.js";import{_ as n}from"./icon-next-B4hjdiAA.js";import"./localStorage-BThj8CCp.js";import"./preload-helper-xKIU3iAw.js";import"./string-CbqVM-Zr.js";const l=s({name:"OverflowCarousel",directives:{ResizeSensor:e},mixins:[o],props:{direction:{type:String,default:t.Column,validator:e=>Object.values(t).some((t=>t===e))},contentReady:{type:Boolean,default:!0}},data:()=>({scrollPosition:0,scrollLength:0,containerLength:0}),computed:{isColumn(){return this.direction===t.Column},isOverflowing(){return this.scrollLength>this.containerLength},disablePrevious(){return this.scrollPosition<=0},disableNext(){return this.scrollPosition>=this.scrollLength-this.containerLength}},watch:{contentReady(){this.contentReady&&this.emitComponentMounted()}},methods:{updateScrollAndContainerValues(){this.$refs.carouselContent&&(this.isColumn?(this.containerLength=this.$refs.carouselContent.clientHeight+1,this.scrollPosition=this.$refs.carouselContent.scrollTop,this.scrollLength=this.$refs.carouselContent.scrollHeight):(this.containerLength=this.$refs.carouselContent.clientWidth+1,this.scrollPosition=this.$refs.carouselContent.scrollLeft,this.scrollLength=this.$refs.carouselContent.scrollWidth))},debounceUpdateScrollAndContainerValues(){this.scrollContainerDebounce?clearTimeout(this.scrollContainerDebounce):this.updateScrollAndContainerValues(),this.scrollContainerDebounce=setTimeout((()=>{this.updateScrollAndContainerValues(),this.scrollContainerDebounce=void 0}),100)},scroll(t=!0){const e=this.scrollPosition-(t?1:-1)*this.containerLength;this.$refs.carouselContent.scroll({left:this.isColumn?0:e,top:this.isColumn?e:0,behavior:"smooth"})},verticalRowScroll(t){var e;this.isColumn||Math.abs(t.deltaX)>Math.abs(t.deltaY)||(t.preventDefault(),null==(e=this.$refs.carouselContent)||e.scrollBy({left:t.deltaY,behavior:"auto"}))},onAllComponentsMountedOverride(){}}},(function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-carousel",class:[t.direction]},[t.isOverflowing?e("button",{staticClass:"carousel-button previous",class:[t.direction,{disabled:t.disablePrevious}],attrs:{id:"overflow-carousel-left"},on:{click:t.scroll}},[e("inline-svg",{staticClass:"icon dash-icon",attrs:{src:n}})],1):t._e(),e("div",{directives:[{name:"resize-sensor",rawName:"v-resize-sensor",value:t.debounceUpdateScrollAndContainerValues,expression:"debounceUpdateScrollAndContainerValues"}],ref:"carouselContent",staticClass:"carousel-content",class:{"prev-disabled":t.disablePrevious,"next-disabled":t.disableNext},on:{scroll:t.debounceUpdateScrollAndContainerValues,wheel:t.verticalRowScroll}},[t._t("default")],2),t.isOverflowing?e("button",{staticClass:"carousel-button next",class:[t.direction,{disabled:t.disableNext}],attrs:{id:"overflow-carousel-right"},on:{click:function(e){return t.scroll(!1)}}},[e("inline-svg",{staticClass:"icon dash-icon",attrs:{src:n}})],1):t._e()])}),[],!1,null,"543127fe").exports;export{l as default};