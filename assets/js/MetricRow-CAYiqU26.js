import{M as i}from"./main-HELUUbV1.js";import{n as t,Z as e,g as s,_ as o}from"./icon-alert-Cei3Tz55.js";import{_ as a,a as n}from"./icon-weather-reset-CoyptBb8.js";import{_ as r}from"./icon-cog-BFr_Pva7.js";import{_ as c}from"./icon-pin-BHeOuzvO.js";import"./VueBase-DhIJfHAY.js";import"./index-xreAsusa.js";import"./preload-helper-xKIU3iAw.js";import"./localStorage-BThj8CCp.js";import"./migrateLegacyUserMessageHandler-aPkGeFs_.js";import"./main-Bw6ngw5x.js";import"./index-CJJH83pl.js";import"./portal-vue.esm-D8ZiK_2v.js";import"./icon-plus-D4YOesIc.js";import"./icon-settings-Bycjf8-G.js";import"./icon-back-arrow-CiRQJ6G-.js";import"./icon-back-D_TFrgyJ.js";import"./icon-trash-BQ1O-AfY.js";import"./icon-close-BUGl_M7j.js";import"./icon-skip-BOkC5L0N.js";import"./icon-down-BiHbKN-t.js";import"./icon-edit-CixeXNYx.js";import"./icon-ellipsis-D3jS4u3x.js";import"./icon-error-state-BKQhfBCj.js";import"./icon-heart-v5O7C6eS.js";import"./icon-hide-NFfBhfBx.js";import"./icon-key-BPNRipb3.js";import"./icon-next-B4hjdiAA.js";import"./icon-photo-BrwqV1T0.js";import"./icon-profile-B_XWyuTb.js";import"./icon-x-qUCmf2CW.js";import"./icon-skip-intro-BUi8b3Ak.js";import"./icon-tooltip-CN09iXOB.js";import"./icon-visible-on-CM3kpcFN.js";import"./icon-x-caret-half-CZtcH_PM.js";import"./reactiveCustomization-D0v-tpvX.js";import"./clockCollection-H7tQVeU0.js";import"./itemDataServiceMixins-CdQVI9mg.js";import"./itemModelMixin-C-MQn-VF.js";import"./namesMixin-1rfnIeIW.js";import"./metricMetadata-D4pZaGht.js";import"./clocks-DjzskNOU.js";import"./captureMixin-DkvxYfHw.js";import"./countdownCollection-CADcGJSY.js";import"./metricCollection-B-EWIxcl.js";import"./ViewManager-CkX2YacX.js";import"./globalKeyEventManager-2_REwTdI.js";import"./allComponentsMounted-C3UsG_cA.js";import"./AddMetric-MCudA3_z.js";import"./icon-confetti-Dz2LojDe.js";import"./internalDataMetrics-DsXTThkw.js";import"./focusModeHelpers-CJvjcTIo.js";import"./PomodoroTimers-BWkB-14p.js";import"./appToggleMixin-YpT44oar.js";import"./focusModeInsightsViewState-D3rdxcPn.js";import"./ViewState-Wts6aMTb.js";import"./showAnyway-IMtKhwyy.js";import"./add-COIuonao.js";import"./string-CbqVM-Zr.js";const l=t({name:"MetricRow",components:{MetricAdjust:i},props:{viewManager:{type:Object,required:!0},item:{type:Object,required:!0}},computed:{displayValue(){return this.item.displayValue??this.item.value}},methods:{edit(){this.item.isTeam&&!this.item.readOnly?this.openItemOnTeamSite():(this.viewManager.setItem(this.item.id),this.viewManager.showView("edit"))},unarchive(){this.viewManager.collection.unarchive(this.item)},togglePinned(){this.item.isTeam?this.openItemOnTeamSite():this.viewManager.collection.togglePinned(this.item)},onLabelClick(){this.item.authNeeded&&(this.item.isTeam?this.openItemOnTeamSite():this.viewManager.collection.connectProvider(this.item.providerId))},onRowClick(){this.item.externalUrl&&e(this.item.externalUrl)},openItemOnTeamSite(){s.sendMessage({handler:"getSid",args:[this.item.id]}).then((i=>{i.toUpperCase().startsWith("T")&&(i=i.substr(1)),m.commandManager.execute("window.account.open.login",`/team/${this.viewManager.collection.type}?id=${i}`)}))}}},(function(){var i=this,t=i._self._c;return t("li",{key:i.item.id,staticClass:"list-row",class:{active:i.item.active,clickable:i.item.externalUrl},attrs:{"data-test":"list-row",title:i.item.tooltip},on:{click:i.onRowClick}},[t("div",{staticClass:"title-container"},[t("div",{staticClass:"metric-stat"},[i._v(i._s(i.displayValue))]),t("div",{staticClass:"list-icons",attrs:{"data-test":"list-icon"}},[i.item.readOnly?t("div",{staticClass:"icon-wrapper icon-lock-wrapper",attrs:{title:"Admin Locked"}},[t("inline-svg",{staticClass:"icon icon-lock",attrs:{src:a}})],1):i._e(),i.item.archived?t("div",{staticClass:"icon-wrapper unarchive",attrs:{title:"Unarchive","data-test":"list-row-unarchive"},on:{click:function(t){return t.stopPropagation(),i.unarchive.apply(null,arguments)}}},[t("inline-svg",{staticClass:"icon icon-unarchive",attrs:{src:n}})],1):i._e(),i.item.shouldDisplayQuickAdjust?t("metric-adjust",{attrs:{item:i.item,collection:i.viewManager.collection,location:"app"}}):i._e(),i.item.readOnly?i._e():t("div",{staticClass:"icon-wrapper edit",attrs:{title:"Edit","data-test":"edit"},on:{click:function(t){return t.stopPropagation(),i.edit.apply(null,arguments)}}},[t("inline-svg",{staticClass:"icon icon-gear toggle-icon",attrs:{src:r}})],1),!i.item.readOnly||i.item.pinned?t("div",{staticClass:"icon-wrapper pin",class:{active:i.item.pinned,"u--no-pointer-events":i.item.readOnly},attrs:{title:i.item.pinned?"Unpin":"Pin"},on:{click:function(t){return t.stopPropagation(),i.togglePinned.apply(null,arguments)}}},[t("inline-svg",{staticClass:"icon icon-pin",attrs:{src:c}})],1):i._e()],1)]),t("div",{staticClass:"metric-label",class:{"u--pointer":i.item.authNeeded},on:{click:function(t){return t.stopPropagation(),i.onLabelClick.apply(null,arguments)}}},[i.item.authNeeded?t("inline-svg",{staticClass:"icon icon-alert",attrs:{src:o}}):i._e(),t("div",{staticClass:"metric-label-name"},[i._v(i._s(i.item.name))])],1)])}),[],!1,null,"d6109999").exports;export{l as default};